{"version":3,"file":"js/app.38e46a30.js","mappings":"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","sources":["webpack://long-term-care-web-taichung/./src/App.vue","webpack://long-term-care-web-taichung/./src/App.vue?7ccd","webpack://long-term-care-web-taichung/./src/views/HomeView.vue","webpack://long-term-care-web-taichung/./src/utils/dataProcessor.js","webpack://long-term-care-web-taichung/./src/stores/dataStore.js","webpack://long-term-care-web-taichung/./src/components/LoadingOverlay.vue","webpack://long-term-care-web-taichung/./src/components/LoadingOverlay.vue?68e9","webpack://long-term-care-web-taichung/./src/views/LeftView.vue","webpack://long-term-care-web-taichung/./src/tabs/DateLayersTab.vue","webpack://long-term-care-web-taichung/./src/utils/utils.js","webpack://long-term-care-web-taichung/./src/components/DatePicker.vue","webpack://long-term-care-web-taichung/./src/components/DatePicker.vue?92d3","webpack://long-term-care-web-taichung/./src/tabs/DateLayersTab.vue?f625","webpack://long-term-care-web-taichung/./src/tabs/ServerLayersTab.vue","webpack://long-term-care-web-taichung/./src/components/ServiceProviderPicker.vue","webpack://long-term-care-web-taichung/./src/components/ServiceProviderPicker.vue?a1df","webpack://long-term-care-web-taichung/./src/tabs/ServerLayersTab.vue?1b26","webpack://long-term-care-web-taichung/./src/views/LeftView.vue?577f","webpack://long-term-care-web-taichung/./src/views/RightView.vue","webpack://long-term-care-web-taichung/./src/tabs/PropertiesTab.vue","webpack://long-term-care-web-taichung/./src/components/DetailItem.vue","webpack://long-term-care-web-taichung/./src/components/DetailItem.vue?6bde","webpack://long-term-care-web-taichung/./src/tabs/PropertiesTab.vue?57c5","webpack://long-term-care-web-taichung/./src/views/RightView.vue?c29a","webpack://long-term-care-web-taichung/./src/views/UpperView.vue","webpack://long-term-care-web-taichung/./src/tabs/MapTab.vue","webpack://long-term-care-web-taichung/./src/stores/defineStore.js","webpack://long-term-care-web-taichung/./src/tabs/MapTab.vue?15ab","webpack://long-term-care-web-taichung/./src/tabs/DashboardTab.vue","webpack://long-term-care-web-taichung/./src/tabs/DashboardTab.vue?3301","webpack://long-term-care-web-taichung/./src/views/UpperView.vue?e2e7","webpack://long-term-care-web-taichung/./src/views/BottomView.vue","webpack://long-term-care-web-taichung/./src/tabs/DataTableTab.vue","webpack://long-term-care-web-taichung/./src/tabs/DataTableTab.vue?e5ab","webpack://long-term-care-web-taichung/./src/views/BottomView.vue?8dbb","webpack://long-term-care-web-taichung/./src/views/MiddleView.vue","webpack://long-term-care-web-taichung/./src/views/MiddleView.vue?3897","webpack://long-term-care-web-taichung/./src/views/ResponsiveLowerView.vue","webpack://long-term-care-web-taichung/./src/views/ResponsiveLowerView.vue?21f9","webpack://long-term-care-web-taichung/./src/views/HomeView.vue?1da1","webpack://long-term-care-web-taichung/./src/router/index.js","webpack://long-term-care-web-taichung/./src/main.js","webpack://long-term-care-web-taichung/webpack/bootstrap","webpack://long-term-care-web-taichung/webpack/runtime/chunk loaded","webpack://long-term-care-web-taichung/webpack/runtime/compat get default export","webpack://long-term-care-web-taichung/webpack/runtime/define property getters","webpack://long-term-care-web-taichung/webpack/runtime/global","webpack://long-term-care-web-taichung/webpack/runtime/hasOwnProperty shorthand","webpack://long-term-care-web-taichung/webpack/runtime/jsonp chunk loading","webpack://long-term-care-web-taichung/webpack/startup"],"sourcesContent":["<script>\n  /**\n   *  App.vue - \n   *\n   * \n   * 1.  \n   * 2.  \n   * 3.  \n   * 4.   Vue Router \n   * 5.  \n   *\n   * \n   * - \n   *\n   * \n   * - \n   * - \n   */\n\n  //  Vue Composition API \n  import { ref } from 'vue';\n\n  export default {\n    name: 'App',\n\n    /**\n     *   (Component Registration)\n     * \n     */\n    components: {},\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup() {\n      //   (Global Loading State Management)\n      /**   */\n      const isLoading = ref(false);\n      /**   */\n      const loadingText = ref('...');\n      /**   (0-100) */\n      const loadingProgress = ref(0);\n      /**   */\n      const showLoadingProgress = ref(false);\n      /**   */\n      const loadingSubText = ref('');\n\n      //   (Return Reactive Data and Functions)\n      return {\n        //  \n        isLoading, // \n        loadingText, // \n        loadingProgress, // \n        showLoadingProgress, // \n        loadingSubText, // \n      };\n    },\n  };\n</script>\n\n<template>\n  <!--  App.vue -  (Main Application Component) -->\n  <!--  Bootstrap  -->\n  <div id=\"app\" class=\"d-flex flex-column vh-100\">\n    <!--   (Main Content Area) -->\n    <div class=\"d-flex flex-column overflow-hidden\">\n      <router-view />\n    </div>\n  </div>\n</template>\n\n<style>\n  /**\n *   (Application Global Styles)\n *\n *  CSS \n *  common.css \n */\n\n  /*   (Import Common Stylesheets) */\n  @import './assets/css/common.css';\n\n  /*   (App-Specific Styles) */\n  /*  common.css  */\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=591c7e93\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=591c7e93&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\n  import { ref, onMounted, onUnmounted, computed, nextTick, watch } from 'vue';\n  import { useDataStore } from '@/stores/dataStore';\n\n  //  \n  import LoadingOverlay from '../components/LoadingOverlay.vue';\n  import LeftView from './LeftView.vue';\n  import RightView from './RightView.vue';\n  import MiddleView from './MiddleView.vue';\n  import UpperView from './UpperView.vue';\n  import ResponsiveLowerView from './ResponsiveLowerView.vue';\n\n  export default {\n    name: 'HomeView',\n\n    /**\n     *   (Component Registration)\n     * \n     */\n    components: {\n      LoadingOverlay, // \n      LeftView, // \n      RightView, // \n      MiddleView, // \n      UpperView, // \n      ResponsiveLowerView, // \n    },\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup() {\n      //   Pinia \n      const dataStore = useDataStore();\n\n      //   (Local Data State)\n      /**   */\n      const tableData = ref([]);\n\n      //   (Component References)\n      /**   */\n      const middlePanelRef = ref(null);\n      /**   */\n      const mobileUpperViewRef = ref(null);\n      /**   */\n      const appFooterRef = ref(null);\n\n      //   (Tab States)\n      /**  / */\n      const activeUpperTab = ref('map');\n      /**  / */\n      const activeBottomTab = ref('table');\n      /**  / */\n      const activeRightTab = ref('properties');\n      /**  / */\n      const activeLowerTab = ref('layers');\n\n      //   (Panel Size States)\n      // \n      const MIN_LEFT_PANEL_WIDTH_PERCENT = 5; // \n      /**   (0-100%) */\n      const leftViewWidth = ref(20);\n      /**   (0-100%) */\n      const rightViewWidth = ref(20);\n      /**   */\n      const windowWidth = ref(window.innerWidth);\n      /**   */\n      const windowHeight = ref(window.innerHeight);\n      /**   */\n      const footerHeight = ref(0);\n\n      //   -  (Computed Properties - Panel Dimensions)\n      /**   */\n      const leftViewWidthPx = computed(() => `${leftViewWidth.value}%`);\n      /**   */\n      const rightViewWidthPx = computed(() => `${rightViewWidth.value}%`);\n      /**   */\n      const mainPanelWidth = computed(() => 100 - leftViewWidth.value - rightViewWidth.value);\n      /**   */\n      const mainPanelWidthPx = computed(() => `${mainPanelWidth.value}%`);\n\n      /**   */\n      const calculatedMiddleViewHeight = computed(() => {\n        return windowHeight.value - footerHeight.value;\n      });\n\n      //   (Loading States)\n      //  Pinia store \n      /**   */\n      const loadingText = ref('...');\n      /**   */\n      const loadingProgress = ref(0);\n      /**   */\n      const showLoadingProgress = ref(false);\n      /**   */\n      const loadingSubText = ref('');\n\n      /**   */\n      const isAnyLayerLoading = computed(() =>\n        dataStore.getAllLayers().some((layer) => layer.isLoading)\n      );\n\n      /**\n       *   (Watch Loading State Changes)\n       *  Pinia store  UI \n       */\n      watch(\n        isAnyLayerLoading,\n        (loading) => {\n          if (loading) {\n            const loadingLayer = dataStore.getAllLayers().find((l) => l.isLoading);\n            loadingText.value = ` ${loadingLayer.layerName} ...`;\n            loadingSubText.value = '...';\n          } else {\n            loadingText.value = '';\n            loadingSubText.value = ``;\n          }\n        },\n        { deep: true }\n      );\n\n      //   (Map and Layer States)\n      //  Pinia store  UI \n      /**   store  */\n      const showTainanLayer = computed(() => dataStore.findLayerById('tainan')?.visible || false);\n      /**   */\n      const selectedFilter = ref(null);\n      /**   */\n      const zoomLevel = ref(11);\n      /**   */\n      const currentCoords = ref({ lat: 25.033, lng: 121.5654 });\n      /**   */\n      const activeMarkers = ref(0);\n\n      //   (Service Point Detail State)\n      /**   */\n      const selectedServicePoint = ref(null);\n\n      //   (Dragging States)\n      /**   */\n      const isSidePanelDragging = ref(false);\n\n      //   (Map Interaction Functions)\n\n      /**\n       *   (Reset Map View)\n       * \n       */\n      const resetView = () => {\n        if (middlePanelRef.value) {\n          middlePanelRef.value.resetMapTab();\n        }\n      };\n\n      //   (Drag Resize Functions)\n\n      /**\n       *   (Start Panel Resize)\n       * \n       *\n       * @param {string} direction - 'left'  'right'\n       * @param {MouseEvent} event - \n       */\n      const startResize = (direction, event) => {\n        event.preventDefault();\n        event.stopPropagation();\n\n        // \n        isSidePanelDragging.value = true;\n        document.body.classList.add('my-no-select');\n\n        // \n        const startX = event.clientX;\n        const startLeftWidth = leftViewWidth.value;\n        const startRightWidth = rightViewWidth.value;\n\n        // \n        const currentWindowWidth = windowWidth.value;\n\n        console.log(`  ${direction} :`, {\n          leftWidth: startLeftWidth,\n          rightWidth: startRightWidth,\n        });\n\n        /**\n         *   (Handle Mouse Move)\n         */\n        const handleMouseMove = (moveEvent) => {\n          moveEvent.preventDefault();\n\n          const deltaX = moveEvent.clientX - startX;\n          const deltaXPercent = (deltaX / currentWindowWidth) * 100;\n\n          if (direction === 'left') {\n            // \n            let newWidth = startLeftWidth + deltaXPercent;\n            //  MIN_LEFT_PANEL_WIDTH_PERCENT\n            newWidth = Math.max(\n              MIN_LEFT_PANEL_WIDTH_PERCENT,\n              Math.min(100 - rightViewWidth.value, newWidth)\n            );\n            leftViewWidth.value = newWidth;\n          } else if (direction === 'right') {\n            // \n            let newWidth = startRightWidth - deltaXPercent;\n            //  0\n            newWidth = Math.max(0, Math.min(100 - leftViewWidth.value, newWidth));\n            rightViewWidth.value = newWidth;\n          }\n        };\n\n        /**\n         *   (Handle Mouse Up)\n         */\n        const handleMouseUp = () => {\n          // \n          isSidePanelDragging.value = false;\n          document.body.classList.remove('my-no-select');\n          document.removeEventListener('mousemove', handleMouseMove);\n          document.removeEventListener('mouseup', handleMouseUp);\n\n          // \n          validatePanelSizes();\n\n          console.log(' :', {\n            leftWidth: leftViewWidth.value,\n            rightWidth: rightViewWidth.value,\n            mainWidth: mainPanelWidth.value,\n          });\n        };\n\n        // \n        document.addEventListener('mousemove', handleMouseMove);\n        document.addEventListener('mouseup', handleMouseUp);\n      };\n\n      /**\n       *   (Validate Panel Sizes)\n       *  (0-100%)\n       */\n      const validatePanelSizes = () => {\n        // \n        leftViewWidth.value = Math.max(\n          MIN_LEFT_PANEL_WIDTH_PERCENT,\n          Math.min(100, leftViewWidth.value)\n        );\n        rightViewWidth.value = Math.max(0, Math.min(100, rightViewWidth.value));\n\n        // \n        leftViewWidth.value = Math.round(leftViewWidth.value * 10) / 10;\n        rightViewWidth.value = Math.round(rightViewWidth.value * 10) / 10;\n      };\n\n      //   (Window Resize Handler)\n      /**\n       *   (Handle Browser Window Resize)\n       */\n      const handleResize = () => {\n        const prevWidth = windowWidth.value;\n        const prevIsDesktop = prevWidth >= 1200;\n\n        windowWidth.value = window.innerWidth;\n        windowHeight.value = window.innerHeight;\n\n        const currentIsDesktop = window.innerWidth >= 1200;\n\n        // \n        if (prevIsDesktop !== currentIsDesktop) {\n          console.log(\n            ` HomeView:  ${prevIsDesktop ? '' : ''}`\n          );\n          handleScreenSizeChange();\n        } else {\n          // \n          nextTick(() => {\n            setTimeout(() => {\n              if (currentIsDesktop && middlePanelRef.value) {\n                // \n                if (middlePanelRef.value.invalidateMapSize) {\n                  middlePanelRef.value.invalidateMapSize();\n                }\n              } else if (!currentIsDesktop && mobileUpperViewRef.value) {\n                // \n                if (mobileUpperViewRef.value.invalidateMapSize) {\n                  mobileUpperViewRef.value.invalidateMapSize();\n                }\n              }\n            }, 100);\n          });\n        }\n\n        nextTick(() => {\n          //  xl breakpoint  footer \n          if (appFooterRef.value && window.innerWidth >= 1200) {\n            footerHeight.value = appFooterRef.value.offsetHeight;\n          } else {\n            footerHeight.value = 0;\n          }\n\n          // \n          if (!currentIsDesktop) {\n            const minHeight = calculateMinBottomHeight();\n            if (mobileBottomViewHeight.value < minHeight) {\n              mobileBottomViewHeight.value = Math.round(minHeight);\n              console.log(\n                ` HomeView:  ${mobileBottomViewHeight.value}vh`\n              );\n            }\n          }\n        });\n      };\n\n      /**\n       *   (Component Mounted Event)\n       * \n       */\n      onMounted(() => {\n        console.log(' ');\n\n        // \n        window.addEventListener('resize', handleResize);\n\n        // \n        nextTick(() => {\n          //  xl breakpoint  footer \n          if (appFooterRef.value && window.innerWidth >= 1200) {\n            footerHeight.value = appFooterRef.value.offsetHeight;\n          } else {\n            footerHeight.value = 0;\n          }\n        });\n\n        // \n        if (window.ResizeObserver) {\n          screenSizeObserver = new ResizeObserver((entries) => {\n            for (let entry of entries) {\n              const { width } = entry.contentRect;\n              //  xl breakpoint (1200px)\n              const isXlAndAbove = width >= 1200;\n              const wasXlAndAbove = entry.target.classList.contains('xl-and-above');\n\n              if (isXlAndAbove !== wasXlAndAbove) {\n                //  xl breakpoint\n                entry.target.classList.toggle('xl-and-above', isXlAndAbove);\n                handleScreenSizeChange();\n              }\n            }\n          });\n\n          screenSizeObserver.observe(document.body);\n        }\n      });\n\n      //   (Coordinate and Marker Update Functions)\n\n      /**\n       *   (Update Active Markers Count)\n       * @param {number} count - \n       */\n      const updateActiveMarkers = (count) => {\n        activeMarkers.value = count;\n      };\n\n      /**\n       *   (Retry Map Initialization)\n       * \n       */\n      const retryMapInitialization = () => {\n        if (middlePanelRef.value) {\n          middlePanelRef.value.retryMapInitialization();\n        }\n      };\n\n      /**\n       *   (Get Map Initialization Status)\n       * \n       */\n      const getMapInitStatus = () => {\n        if (middlePanelRef.value) {\n          return middlePanelRef.value.getMapInitStatus();\n        }\n        return 'not-available';\n      };\n\n      /**\n       *   (Handle Highlight Event)\n       * \n       * @param {Object} highlightData -  layerId  id \n       */\n      const handleHighlight = (highlightData) => {\n        console.log(' HomeView :', highlightData);\n\n        // \n        if (activeUpperTab.value !== 'map') {\n          activeUpperTab.value = 'map';\n        }\n\n        //  nextTick \n        nextTick(() => {\n          // \n          const isDesktop = window.innerWidth >= 1200; // xl breakpoint\n\n          if (isDesktop) {\n            //  MiddleView\n            if (middlePanelRef.value) {\n              middlePanelRef.value.highlightFeature(highlightData);\n            } else {\n              console.error(' : middlePanelRef ');\n            }\n          } else {\n            //  UpperView\n            if (mobileUpperViewRef.value) {\n              mobileUpperViewRef.value.highlightFeature(highlightData);\n            } else {\n              console.error(' : mobileUpperViewRef ');\n            }\n          }\n        });\n      };\n\n      /**\n       *   (Handle Service Point Detail Event)\n       *  service_points  service_items\n       * @param {Object} servicePointData - \n       */\n      const handleShowServicePointDetail = (servicePointData) => {\n        console.log(' [3] HomeView:  service point detail', servicePointData);\n\n        if (servicePointData.type === 'service-items') {\n          console.log('>> [3a] HomeView:  `service-items` ');\n\n          //  feature  service_items \n          // \n          const serviceItemsFeature = {\n            type: 'Feature',\n            properties: {\n              ...servicePointData.servicePoint,\n              serviceItems: servicePointData.serviceItems, //  `serviceItems` (camelCase)\n              servicePointInfo: servicePointData.servicePointInfo,\n              type: 'service-items', // \n              layerId: servicePointData.layerId,\n              layerName: servicePointData.layerName,\n            },\n          };\n\n          console.log('>> [4] HomeView:  serviceItemsFeature', serviceItemsFeature);\n          //  feature  Pinia store UI \n          dataStore.setSelectedFeature(serviceItemsFeature);\n          console.log('>> [5] HomeView:  dataStore  selectedFeature');\n\n          // \n          const isDesktop = window.innerWidth >= 1200;\n          if (isDesktop) {\n            activeRightTab.value = 'properties';\n            if (rightViewWidth.value === 0) {\n              rightViewWidth.value = 20;\n            }\n            console.log('>> [6] HomeView: ');\n          } else {\n            activeLowerTab.value = 'properties';\n            if (mobileBottomViewHeight.value < 30) {\n              mobileBottomViewHeight.value = 40;\n            }\n            console.log('>> [6] HomeView: ');\n          }\n        } else {\n          // \n          console.log('>> [3b] HomeView:  `service-items` ');\n          selectedServicePoint.value = servicePointData;\n          if (leftViewWidth.value === 0) {\n            leftViewWidth.value = 20;\n          }\n        }\n      };\n\n      /**\n       *   (Handle Clear Service Point Detail Event)\n       */\n      const handleClearServicePointDetail = () => {\n        console.log(' HomeView ');\n        selectedServicePoint.value = null;\n      };\n\n      //  \n      /**\n       *   (Calculate Minimum Bottom Panel Height Percentage)\n       * \n       */\n      const calculateMinBottomHeight = () => {\n        const minNavigationHeight = 100; // px ( 80px +  20px)\n        const currentWindowHeight = window.innerHeight;\n        return Math.max(10, (minNavigationHeight / currentWindowHeight) * 100); //  10vh\n      };\n\n      const mobileBottomViewHeight = ref(Math.max(40, calculateMinBottomHeight())); // vh \n      const isVerticalDragging = ref(false);\n      const mobileMapKey = ref(0); //  key\n\n      /**\n       *   (Start Vertical Resize)\n       * \n       * @param {MouseEvent|TouchEvent} event - \n       */\n      const startVerticalResize = (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n\n        // \n        isVerticalDragging.value = true;\n        document.body.classList.add('my-no-select');\n\n        // \n        const isTouch = event.type.startsWith('touch');\n        const clientY = isTouch ? event.touches[0].clientY : event.clientY;\n\n        // \n        const startY = clientY;\n        const startBottomHeight = mobileBottomViewHeight.value;\n        const windowHeight = window.innerHeight;\n\n        console.log(' HomeView - ', {\n          startY,\n          startBottomHeight,\n          windowHeight,\n          isTouch,\n        });\n\n        /**\n         *  \n         */\n        const handleMove = (moveEvent) => {\n          moveEvent.preventDefault();\n\n          const currentY = moveEvent.type.startsWith('touch')\n            ? moveEvent.touches[0].clientY\n            : moveEvent.clientY;\n\n          const deltaY = currentY - startY;\n\n          // \n          const deltaPercent = (deltaY / windowHeight) * 100;\n          let newHeight = startBottomHeight - deltaPercent;\n\n          // \n          const minHeightPercent = calculateMinBottomHeight();\n\n          // 100vh\n          newHeight = Math.max(minHeightPercent, Math.min(100, newHeight));\n\n          mobileBottomViewHeight.value = Math.round(newHeight);\n        };\n\n        /**\n         *  \n         */\n        const handleEnd = () => {\n          isVerticalDragging.value = false;\n          document.body.classList.remove('my-no-select');\n\n          // \n          document.removeEventListener('mousemove', handleMove);\n          document.removeEventListener('mouseup', handleEnd);\n\n          // \n          document.removeEventListener('touchmove', handleMove);\n          document.removeEventListener('touchend', handleEnd);\n          document.removeEventListener('touchcancel', handleEnd);\n\n          console.log(' HomeView - ', {\n            finalHeight: mobileBottomViewHeight.value,\n          });\n        };\n\n        // \n        if (isTouch) {\n          document.addEventListener('touchmove', handleMove, { passive: false });\n          document.addEventListener('touchend', handleEnd);\n          document.addEventListener('touchcancel', handleEnd);\n        } else {\n          document.addEventListener('mousemove', handleMove);\n          document.addEventListener('mouseup', handleEnd);\n        }\n      };\n\n      //  \n      watch(windowHeight, () => {\n        //  key \n        setTimeout(() => {\n          mobileMapKey.value += 1;\n        }, 100);\n      });\n\n      //  \n      const handleScreenSizeChange = () => {\n        console.log(' HomeView: ');\n\n        // \n        mobileMapKey.value += 1;\n\n        // DOM\n        nextTick(() => {\n          setTimeout(() => {\n            const isDesktop = window.innerWidth >= 1200;\n\n            if (isDesktop) {\n              //  MiddleView \n              if (middlePanelRef.value) {\n                console.log(' HomeView:  MiddleView ');\n                //  MiddleView  UpperView \n                if (middlePanelRef.value.invalidateMapSize) {\n                  middlePanelRef.value.invalidateMapSize();\n                }\n                //  resize \n                setTimeout(() => {\n                  const event = new Event('resize');\n                  window.dispatchEvent(event);\n                }, 100);\n              }\n            } else {\n              //  mobileUpperViewRef \n              if (mobileUpperViewRef.value) {\n                console.log(' HomeView:  UpperView ');\n                //  UpperView \n                if (mobileUpperViewRef.value.invalidateMapSize) {\n                  mobileUpperViewRef.value.invalidateMapSize();\n                }\n              }\n            }\n          }, 300); // \n        });\n      };\n\n      //   ResizeObserver \n      let screenSizeObserver = null;\n\n      onUnmounted(() => {\n        // \n        window.removeEventListener('resize', handleResize);\n\n        // \n        if (screenSizeObserver) {\n          screenSizeObserver.disconnect();\n        }\n      });\n\n      //   (Return Reactive Data and Functions)\n      return {\n        //  \n        middlePanelRef, // \n\n        //  \n        activeUpperTab, // \n        activeBottomTab, // \n        activeRightTab, // \n        activeLowerTab, // \n\n        //  \n        isAnyLayerLoading, // \n        loadingText, // \n        loadingProgress, // \n        showLoadingProgress, // \n        loadingSubText, // \n\n        //  \n        showTainanLayer, // \n        selectedFilter, // \n\n        //  \n        zoomLevel, // \n        currentCoords, // \n\n        //  \n        activeMarkers, // \n\n        //  \n        leftViewWidth, // \n        rightViewWidth, // \n        leftViewWidthPx, // \n        rightViewWidthPx, // \n        mainPanelWidth, // \n        mainPanelWidthPx, // \n\n        tableData, // \n\n        //  \n        resetView, // \n\n        //  \n        startResize, // \n        startVerticalResize, // \n        isSidePanelDragging, // \n        isVerticalDragging, // \n        mobileBottomViewHeight, // \n        mobileMapKey, //  key\n        validatePanelSizes, // \n\n        //  \n        appFooterRef, // \n        mobileUpperViewRef, // \n        calculatedMiddleViewHeight, // \n        handleHighlight, // \n        handleShowServicePointDetail, // \n        handleClearServicePointDetail, // \n        selectedServicePoint, // \n\n        //  \n        updateActiveMarkers, // \n\n        //  \n        retryMapInitialization, // \n        getMapInitStatus, // \n      };\n    },\n  };\n</script>\n\n<template>\n  <!--  HomeView.vue -  (Home View Component) -->\n  <!--  -->\n  <div id=\"app\" class=\"d-flex flex-column vh-100\">\n    <!--   (Loading Overlay) -->\n    <!--  -->\n    <LoadingOverlay\n      :isVisible=\"isAnyLayerLoading\"\n      :loadingText=\"loadingText\"\n      :progress=\"loadingProgress\"\n      :showProgress=\"showLoadingProgress\"\n      :subText=\"loadingSubText\"\n    />\n\n    <!--   (Main Content Area) -->\n    <!--  footer  -->\n    <div class=\"d-flex flex-column overflow-hidden\">\n      <!--   (Router View Area) -->\n      <!--  -->\n      <div v-if=\"$route.path !== '/'\" class=\"h-100\">\n        <router-view />\n      </div>\n\n      <!--   (Home Page Content Area) -->\n      <!--  -->\n      <div v-if=\"$route.path === '/'\" class=\"h-100 d-flex flex-column overflow-hidden\">\n        <!--   (Desktop Layout - xl and above) -->\n        <div class=\"d-none d-xl-flex flex-row overflow-hidden h-100\">\n          <!--   (Left Control Panel Container) -->\n          <!--  -->\n          <div\n            class=\"h-100 overflow-y-auto overflow-x-hidden my-left-panel\"\n            :style=\"{ width: leftViewWidthPx }\"\n            v-if=\"leftViewWidth > 0\"\n          >\n            <LeftView\n              :selectedServicePoint=\"selectedServicePoint\"\n              @clear-service-point-detail=\"handleClearServicePointDetail\"\n            />\n          </div>\n\n          <!--   (Left Panel Resizer) -->\n          <!--  -->\n          <div\n            class=\"my-resizer my-resizer-vertical my-resizer-left\"\n            :class=\"{ 'my-dragging': isSidePanelDragging }\"\n            @mousedown=\"startResize('left', $event)\"\n            title=\"\"\n          ></div>\n\n          <!--   (Main Display Area) -->\n          <!--  -->\n          <MiddleView\n            ref=\"middlePanelRef\"\n            class=\"d-flex flex-column overflow-hidden h-100 my-middle-panel\"\n            style=\"z-index: 1\"\n            :style=\"{ width: mainPanelWidthPx, 'min-width': '0px' }\"\n            :dynamicMainAreaHeight=\"calculatedMiddleViewHeight\"\n            :activeUpperTab=\"activeUpperTab\"\n            :activeBottomTab=\"activeBottomTab\"\n            :mainPanelWidth=\"mainPanelWidth\"\n            :showTainanLayer=\"showTainanLayer\"\n            :selectedFilter=\"selectedFilter\"\n            :zoomLevel=\"zoomLevel\"\n            :currentCoords=\"currentCoords\"\n            :activeMarkers=\"activeMarkers\"\n            :isLoadingData=\"isAnyLayerLoading\"\n            :isSidePanelDragging=\"isSidePanelDragging\"\n            @update:activeUpperTab=\"activeUpperTab = $event\"\n            @update:activeBottomTab=\"activeBottomTab = $event\"\n            @update:zoomLevel=\"zoomLevel = $event\"\n            @update:currentCoords=\"currentCoords = $event\"\n            @update:activeMarkers=\"activeMarkers = $event\"\n            @reset-view=\"resetView\"\n            @highlight-on-map=\"handleHighlight\"\n            @highlight-feature=\"handleHighlight\"\n            @show-service-point-detail=\"handleShowServicePointDetail\"\n          />\n\n          <!--   (Right Panel Resizer) -->\n          <!--  -->\n          <div\n            class=\"my-resizer my-resizer-vertical my-resizer-right\"\n            :class=\"{ 'my-dragging': isSidePanelDragging }\"\n            @mousedown=\"startResize('right', $event)\"\n            title=\"\"\n          ></div>\n\n          <!--   (Right Control Panel Container) -->\n          <!--  -->\n          <div\n            class=\"h-100 overflow-auto\"\n            :style=\"{ width: rightViewWidthPx }\"\n            v-if=\"rightViewWidth > 0\"\n          >\n            <RightView\n              :activeRightTab=\"activeRightTab\"\n              :activeMarkers=\"activeMarkers\"\n              :rightViewWidth=\"rightViewWidth\"\n              @update:activeRightTab=\"activeRightTab = $event\"\n              @highlight-feature=\"handleHighlight\"\n              @show-service-point-detail=\"handleShowServicePointDetail\"\n              :current-coords=\"currentCoords\"\n            />\n          </div>\n        </div>\n\n        <!--  / (Mobile/Tablet Layout - below xl) -->\n        <div class=\"d-flex d-xl-none flex-column overflow-hidden h-100\">\n          <!--   (Upper Area) -  -->\n          <div\n            class=\"flex-shrink-0 overflow-hidden d-flex flex-column\"\n            :style=\"{ height: 100 - mobileBottomViewHeight + 'vh' }\"\n            v-if=\"mobileBottomViewHeight < 100\"\n          >\n            <UpperView\n              ref=\"mobileUpperViewRef\"\n              :key=\"mobileMapKey\"\n              :activeUpperTab=\"activeUpperTab\"\n              :mainPanelWidth=\"100\"\n              :contentHeight=\"(100 - mobileBottomViewHeight) * windowHeight * 0.01\"\n              :showTainanLayer=\"showTainanLayer\"\n              :selectedFilter=\"selectedFilter\"\n              :zoomLevel=\"zoomLevel\"\n              :isPanelDragging=\"isVerticalDragging\"\n              :activeMarkers=\"activeMarkers\"\n              @update:activeUpperTab=\"activeUpperTab = $event\"\n              @update:zoomLevel=\"zoomLevel = $event\"\n              @update:currentCoords=\"currentCoords = $event\"\n              @update:activeMarkers=\"activeMarkers = $event\"\n              @show-service-point-detail=\"handleShowServicePointDetail\"\n            />\n          </div>\n\n          <!--   (Horizontal Resizer) -->\n          <div\n            class=\"my-resizer my-resizer-horizontal my-resizer-middle\"\n            :class=\"{ 'my-dragging': isVerticalDragging }\"\n            @mousedown=\"startVerticalResize\"\n            @touchstart=\"startVerticalResize\"\n            title=\"\"\n            v-if=\"mobileBottomViewHeight > 0 && mobileBottomViewHeight < 100\"\n          ></div>\n\n          <!--   (Lower Area) -  tabs -->\n          <div\n            class=\"flex-shrink-0 overflow-hidden\"\n            :style=\"{ height: mobileBottomViewHeight + 'vh' }\"\n            v-if=\"mobileBottomViewHeight > 0\"\n          >\n            <ResponsiveLowerView\n              :activeTab=\"activeLowerTab\"\n              :activeRightTab=\"activeRightTab\"\n              :activeBottomTab=\"activeBottomTab\"\n              @update:activeTab=\"activeLowerTab = $event\"\n              @update:activeRightTab=\"activeRightTab = $event\"\n              @update:activeBottomTab=\"activeBottomTab = $event\"\n              @highlight-on-map=\"handleHighlight\"\n              @highlight-feature=\"handleHighlight\"\n              @show-service-point-detail=\"handleShowServicePointDetail\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!--   (Footer Area) -->\n    <!--  footer -->\n    <!--  xl breakpoint  -->\n    <footer\n      class=\"d-none d-xl-flex justify-content-between my-app-footer my-title-sm-white my-bgcolor-gray-800 p-2\"\n      ref=\"appFooterRef\"\n    >\n      <small></small>\n      <small>2025</small>\n    </footer>\n  </div>\n</template>\n\n<style>\n  /**\n *   (Application Global Styles)\n *\n *  CSS  Bootstrap \n */\n  @import '../assets/css/common.css';\n\n  /*  HomeView  (HomeView Specific Styles) */\n  /*  common.css  */\n</style>\n","/**\n * dataProcessor.js\n *\n * Purpose:\n * - Load and transform data for the \"\" feature set.\n * - Returns geojson, table data, and summary stats; color resolution is deferred to store.\n *\n * Notes:\n * - Documentation-only refactor for maintainability; logic unchanged.\n */\n// getColorForServiceProvider \n//  dataStore.js \n\n// getUnifiedLayerColor \n//  dataStore.js \n\n/**\n * \n * \n * @param {Object} layer - \n * @param {string|null} dateFilter -  (: YYYYMMDD)\n * @returns {Promise<Object>}  GeoJSON \n */\nexport async function loadNewStandardCentralServiceData(layer, dateFilter = null) {\n  try {\n    const layerId = layer.layerId;\n\n    const filePath = `/long-term-care-web-taichung/data/json/${layer.fileName}`;\n\n    const response = await fetch(filePath);\n\n    if (!response.ok) {\n      console.error('HTTP :', {\n        status: response.status,\n        statusText: response.statusText,\n        url: response.url,\n      });\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const jsonData = await response.json();\n\n    console.log(' :', dateFilter);\n\n    // \n    const serviceProviderLayers = new Map();\n    const allGeoJsonData = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    //  Bottom Panel \n    const serviceProviderData = new Map();\n\n    jsonData.forEach((serviceProvider) => {\n      // \n      if (dateFilter) {\n        // \n        const filterValue = parseInt(dateFilter);\n        const serviceDate = serviceProvider['(7)'];\n        console.log(' :', {\n          filterValue,\n          serviceDate,\n          serviceDateType: typeof serviceDate,\n          matches: serviceDate === filterValue,\n        });\n\n        if (serviceDate !== filterValue) {\n          return;\n        }\n      } else {\n        //  1140701 \n        if (serviceProvider['(7)'] !== 1140701) {\n          return;\n        }\n      }\n\n      // \n      const serviceProviderId = serviceProvider.;\n\n      //  dataStore.js \n      //  dataStore.js \n      const unifiedColor = 'category20b-1'; // \n      if (!serviceProviderLayers.has(serviceProviderId)) {\n        serviceProviderLayers.set(serviceProviderId, {\n          type: 'FeatureCollection',\n          features: [],\n        });\n      }\n\n      if (serviceProvider.service_points && Array.isArray(serviceProvider.service_points)) {\n        // 1.  service_points_routes \n        if (\n          serviceProvider.service_points_routes &&\n          Array.isArray(serviceProvider.service_points_routes)\n        ) {\n          serviceProvider.service_points_routes.forEach((routeCollection) => {\n            if (routeCollection.features && Array.isArray(routeCollection.features)) {\n              routeCollection.features.forEach((routeFeature) => {\n                if (routeFeature.geometry && routeFeature.geometry.type === 'LineString') {\n                  const routeFeatureData = {\n                    type: 'Feature',\n                    geometry: routeFeature.geometry,\n                    properties: {\n                      id: `route_${serviceProvider.}`,\n                      layerId: layerId,\n                      layerName: `${layer.layerName}_`,\n                      name: `_${serviceProvider.}`,\n                      strokeColor: unifiedColor, // \n                      routeColor: unifiedColor, // routeColor\n                      strokeWidth: 3,\n                      strokeOpacity: 0.8,\n                      serviceProviderId: serviceProvider.,\n                      serviceDate: serviceProvider['(7)'],\n                      pointCount: routeFeature.geometry.coordinates.length,\n                      distance: routeFeature.properties?.summary?.distance || 0,\n                      duration: routeFeature.properties?.summary?.duration || 0,\n                      segments: routeFeature.properties?.segments?.length || 0,\n                      ...routeFeature.properties,\n                    },\n                  };\n\n                  // \n                  serviceProviderLayers.get(serviceProviderId).features.push(routeFeatureData);\n                  // \n                  allGeoJsonData.features.push(routeFeatureData);\n                }\n              });\n            }\n          });\n        }\n\n        // 2.  service_points_routes_center \n        if (\n          serviceProvider.service_points_routes_center &&\n          Array.isArray(serviceProvider.service_points_routes_center) &&\n          serviceProvider.service_points_routes_center.length > 0\n        ) {\n          const routeTimesArray = Array.isArray(serviceProvider.service_points_routes_time)\n            ? serviceProvider.service_points_routes_time\n            : [];\n          serviceProvider.service_points_routes_center.forEach((centerCoords, index) => {\n            if (Array.isArray(centerCoords) && centerCoords.length >= 2) {\n              const [lng, lat] = centerCoords; // GeoJSON [, ]\n\n              // \n              if (\n                typeof lng === 'number' &&\n                typeof lat === 'number' &&\n                !isNaN(lng) &&\n                !isNaN(lat) &&\n                lat >= -90 &&\n                lat <= 90 &&\n                lng >= -180 &&\n                lng <= 180\n              ) {\n                //  service_points_routes_time\n                const timeEntry = routeTimesArray[index] || null;\n                const timeMinutes = (() => {\n                  if (timeEntry && typeof timeEntry.time_interval === 'number') {\n                    return timeEntry.time_interval;\n                  }\n                  const h = timeEntry?.hour_interval ?? null;\n                  const m = timeEntry?.min_interval ?? null;\n                  if (typeof h === 'number' && typeof m === 'number') {\n                    return h * 60 + m;\n                  }\n                  return null; //  null\n                })();\n\n                const timeLabel = (() => {\n                  if (typeof timeMinutes === 'number' && !isNaN(timeMinutes)) {\n                    const hours = Math.floor(timeMinutes / 60);\n                    const minutes = timeMinutes % 60;\n                    return hours > 0 ? `${hours}h${minutes}m` : `${minutes}m`;\n                  }\n                  return 'N/A';\n                })();\n\n                const routeCenterFeatureData = {\n                  type: 'Feature',\n                  geometry: {\n                    type: 'Point',\n                    coordinates: [lng, lat],\n                  },\n                  properties: {\n                    id: `route_center_${serviceProvider.}_${index}`,\n                    layerId: layerId,\n                    layerName: `${layer.layerName}_`,\n                    name: `_${serviceProvider.}_${index + 1}`,\n                    type: 'route-center-point', // \n                    fillColor: unifiedColor, // \n                    routeColor: unifiedColor,\n                    serviceProviderId: serviceProvider.,\n                    serviceDate: serviceProvider['(7)'],\n                    centerIndex: index + 1,\n                    : lat,\n                    : lng,\n                    //  route_time\n                    traffic_time_minutes: typeof timeMinutes === 'number' ? timeMinutes : undefined,\n                    traffic_time_label: timeLabel,\n                  },\n                };\n\n                // \n                serviceProviderLayers.get(serviceProviderId).features.push(routeCenterFeatureData);\n                // \n                allGeoJsonData.features.push(routeCenterFeatureData);\n              } else {\n                console.warn(\n                  ` : serviceProvider=${serviceProvider.}, index=${index}, coords=[${lng}, ${lat}]`\n                );\n              }\n            }\n          });\n        }\n\n        // 3. service_points \n        const servicePoints = serviceProvider.service_points.filter((record) => record.detail);\n\n        if (servicePoints.length > 0) {\n          // \n          servicePoints.sort((a, b) => {\n            const timeA = a.hour_start + a.min_start / 60;\n            const timeB = b.hour_start + b.min_start / 60;\n            return timeA - timeB;\n          });\n\n          // 3. \n          servicePoints.forEach((serviceRecord, index) => {\n            if (serviceRecord.detail.Lat && serviceRecord.detail.Lon) {\n              const lat = parseFloat(serviceRecord.detail.Lat);\n              const lon = parseFloat(serviceRecord.detail.Lon);\n\n              if (!isNaN(lat) && !isNaN(lon)) {\n                const pointFeatureData = {\n                  type: 'Feature',\n                  geometry: {\n                    type: 'Point',\n                    coordinates: [lon, lat],\n                  },\n                  properties: {\n                    id: `point_${serviceProvider.}_${index}`,\n                    layerId: layerId,\n                    layerName: layer.layerName,\n                    name: serviceRecord.detail.,\n                    fillColor: unifiedColor, // \n                    serviceProviderId: serviceProvider.,\n                    routeOrder: index + 1,\n                    serviceTime: `${serviceRecord.hour_start}:${serviceRecord.min_start.toString().padStart(2, '0')}`,\n                    address: serviceRecord.detail.,\n                    //  service_items \n                    service_items: serviceRecord.service_items || [],\n                    service_items_count: Array.isArray(serviceRecord.service_items)\n                      ? serviceRecord.service_items.length\n                      : 0,\n                    // \n                    : serviceRecord.detail.,\n                    : serviceRecord.detail.,\n                    : serviceRecord.detail.,\n                    : serviceRecord.detail.,\n                    : serviceRecord.detail.,\n                    : serviceRecord.detail.,\n                    : serviceRecord.detail.,\n                    : serviceRecord.detail.,\n                    hour_start: serviceRecord.hour_start,\n                    min_start: serviceRecord.min_start,\n                    hour_end: serviceRecord.hour_end,\n                    min_end: serviceRecord.min_end,\n                    time_total: serviceRecord.time_total,\n                    //  detail \n                    hour_traffic: serviceRecord.hour_traffic || 0,\n                    min_traffic: serviceRecord.min_traffic || 0,\n                    time_traffic:\n                      serviceRecord.time_traffic ||\n                      (serviceRecord.hour_traffic || 0) * 60 + (serviceRecord.min_traffic || 0),\n                    detail: serviceRecord.detail,\n                    //  propertyData popup\n                    propertyData: serviceRecord.detail,\n                  },\n                };\n\n                // \n                serviceProviderLayers.get(serviceProviderId).features.push(pointFeatureData);\n                // \n                allGeoJsonData.features.push(pointFeatureData);\n              }\n            }\n          });\n\n          // 4.  Bottom Panel \n          const firstService = servicePoints[0];\n          const lastService = servicePoints[servicePoints.length - 1];\n\n          // \n          const firstPointWithCoords = servicePoints.find(\n            (point) => point.detail.Lat && point.detail.Lon\n          );\n\n          serviceProviderData.set(serviceProvider., {\n            '#': serviceProviderData.size + 1,\n            color: getComputedStyle(document.documentElement)\n              .getPropertyValue(`--my-color-${unifiedColor}`)\n              .trim(),\n            : serviceProvider.,\n            : serviceProvider['(7)'],\n            : serviceProvider.service_points_count || servicePoints.length,\n            : `${serviceProvider.hour_start}:${serviceProvider.min_start.toString().padStart(2, '0')}`,\n            : `${serviceProvider.hour_end}:${serviceProvider.min_end.toString().padStart(2, '0')}`,\n            : `${serviceProvider.hour_total}h${serviceProvider.min_total}m`,\n            : serviceProvider.time_total || 0,\n            : (() => {\n              // \n              const totalTrafficMinutes = servicePoints.reduce((total, point) => {\n                return total + (point.hour_traffic || 0) * 60 + (point.min_traffic || 0);\n              }, 0);\n              const hours = Math.floor(totalTrafficMinutes / 60);\n              const minutes = totalTrafficMinutes % 60;\n              return hours > 0 ? `${hours}h${minutes}m` : `${minutes}m`;\n            })(),\n            : servicePoints.reduce((total, point) => {\n              return total + (point.hour_traffic || 0) * 60 + (point.min_traffic || 0);\n            }, 0),\n            : servicePoints.reduce(\n              (total, point) => total + (point.service_items_count || 0),\n              0\n            ),\n            : firstService.detail.,\n            : lastService.detail.,\n            // \n            firstServicePoint: firstPointWithCoords\n              ? {\n                  lat: parseFloat(firstPointWithCoords.detail.Lat),\n                  lon: parseFloat(firstPointWithCoords.detail.Lon),\n                  name: firstPointWithCoords.detail.,\n                  address: firstPointWithCoords.detail.,\n                  time: `${firstPointWithCoords.hour_start}:${firstPointWithCoords.min_start.toString().padStart(2, '0')}`,\n                }\n              : null,\n            //  Right Panel \n            allServicePoints: servicePoints.map((point, index) => ({\n              : index + 1,\n              : point.detail.,\n              : point.detail.,\n              : `${point.hour_start}:${point.min_start.toString().padStart(2, '0')}`,\n              : point[''],\n              : point.detail.,\n              : point.detail.,\n              : point.detail.,\n              : point.detail.,\n              : point.detail.,\n              : point.detail.,\n              : point.detail.,\n              : point.detail.Lat ? parseFloat(point.detail.Lat) : null,\n              : point.detail.Lon ? parseFloat(point.detail.Lon) : null,\n              // \n              hour_start: point.hour_start,\n              min_start: point.min_start,\n              hour_end: point.hour_end,\n              min_end: point.min_end,\n              service_items_count:\n                point.service_items_count ||\n                (Array.isArray(point.service_items) ? point.service_items.length : 0),\n              service_items: point.service_items || [],\n              : point.time_total || 0,\n              :\n                (point.hour_traffic || 0) > 0\n                  ? `${point.hour_traffic || 0}h${point.min_traffic || 0}m`\n                  : `${point.min_traffic || 0}m`,\n              : (point.hour_traffic || 0) * 60 + (point.min_traffic || 0),\n              hour_traffic: point.hour_traffic || 0,\n              min_traffic: point.min_traffic || 0,\n            })),\n          });\n        }\n      }\n    });\n\n    // 5. \n    const tableData = Array.from(serviceProviderData.values());\n\n    // 6. \n    const districtCounts = {};\n    let validPointCount = 0;\n\n    allGeoJsonData.features\n      .filter((feature) => feature.geometry.type === 'Point')\n      .forEach((feature) => {\n        // \n        const serviceProviderId = feature.properties.serviceProviderId;\n        const serviceProvider = serviceProviderData.get(serviceProviderId);\n        if (serviceProvider && serviceProvider.allServicePoints.length > 0) {\n          const district = serviceProvider.allServicePoints[0].;\n          if (district && typeof district === 'string' && district.trim() !== '') {\n            districtCounts[district] = (districtCounts[district] || 0) + 1;\n            validPointCount++;\n          }\n        }\n      });\n\n    // \n    if (Object.keys(districtCounts).length === 0) {\n      console.warn('[loadNewStandardCentralServiceData] ');\n      districtCounts[''] = validPointCount || 1;\n    }\n\n    const districtCount = Object.entries(districtCounts)\n      .map(([name, count]) => ({\n        name: name || '',\n        count: Math.max(0, count || 0), // \n      }))\n      .filter((item) => item.count > 0) // 0\n      .sort((a, b) => b.count - a.count);\n\n    const summaryData = {\n      totalCount: allGeoJsonData.features.filter((f) => f.geometry.type === 'Point').length,\n      routeCount: allGeoJsonData.features.filter((f) => f.geometry.type === 'LineString').length,\n      districtCount: districtCount,\n    };\n\n    // \n    const serviceProviderLayersArray = Array.from(serviceProviderLayers.entries()).map(\n      ([serviceProviderId, geoJsonData]) => {\n        //  service_points  tableData\n        const serviceProviderInfo = serviceProviderData.get(serviceProviderId);\n        const servicePointsTableData = serviceProviderInfo\n          ? serviceProviderInfo.allServicePoints.map((point, index) => {\n              //  GeoJSON features  service_items\n              let serviceItems = [];\n              if (geoJsonData && geoJsonData.features) {\n                const servicePointFeature = geoJsonData.features.find(\n                  (feature) =>\n                    feature.properties &&\n                    (feature.properties. === point. ||\n                      feature.properties. === point.)\n                );\n                if (servicePointFeature && servicePointFeature.properties.service_items) {\n                  serviceItems = servicePointFeature.properties.service_items;\n                }\n              }\n\n              return {\n                '#': index + 1,\n                id: `point_${serviceProviderId}_${index}`, //  GeoJSON feature  ID\n                : point.,\n                : point.,\n                : point.,\n                : point. || 'N/A',\n                : point.,\n                : point.,\n                : point.,\n                : point.,\n                : point.,\n                : point.,\n                : point.,\n                : point.,\n                : point.,\n                : point.,\n                // \n                hour_start: point.hour_start,\n                min_start: point.min_start,\n                hour_end: point.hour_end,\n                min_end: point.min_end,\n                // \n                : point.,\n                : point.,\n                hour_traffic: point.hour_traffic,\n                min_traffic: point.min_traffic,\n                //  detail \n                detail: {\n                  : point.,\n                  : point.,\n                  : point.,\n                  : point.,\n                  : point.,\n                  : point.,\n                  : point.,\n                  : point.,\n                  : point.,\n                  Lat: point.,\n                  Lon: point.,\n                },\n                //  service_items\n                service_items: serviceItems,\n                service_items_count: Array.isArray(serviceItems) ? serviceItems.length : 0,\n                color: serviceProviderInfo.color,\n              };\n            })\n          : [];\n\n        //  service_points_count\n        const originalServiceProvider = jsonData.find(\n          (sp) => sp. === serviceProviderId\n        );\n\n        return {\n          serviceProviderId,\n          layerName: serviceProviderId, // \n          geoJsonData,\n          tableData: servicePointsTableData, //  service_points \n          pointCount: geoJsonData.features.filter((f) => f.geometry.type === 'Point').length,\n          routeCount: geoJsonData.features.filter((f) => f.geometry.type === 'LineString').length,\n          servicePointsCount: originalServiceProvider?.service_points_count || 0, //  service_points_count\n        };\n      }\n    );\n\n    return {\n      geoJsonData: allGeoJsonData,\n      tableData,\n      summaryData,\n      serviceProviderLayers: serviceProviderLayersArray,\n    };\n  } catch (error) {\n    console.error(' :', error);\n    throw error;\n  }\n}\n","/**\n * =============================================================================\n *  dataStore.js - \n * =============================================================================\n *\n *  Pinia \n *\n * \n * -  \n * -  \n * -  \n * -  \n * -  \n * -  \n *\n * \n * -  \n * -  \n * -  \n * -  \n *\n * @author \n * @version 2.0.0\n */\n\nimport { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport { loadNewStandardCentralServiceData } from '../utils/dataProcessor.js';\n\n/**\n * =============================================================================\n *   (Data Store Definition)\n * =============================================================================\n */\n\n/**\n * @typedef {Object} LayerGroup\n * @property {string} groupName - \n * @property {Array<LayerInfo>} groupLayers - \n */\n\n/**\n * @typedef {Object} LayerInfo\n * @property {string} layerId - \n * @property {string} layerName - \n * @property {boolean} visible - \n * @property {boolean} isLoaded - \n * @property {boolean} isLoading - \n * @property {string} colorName - \n * @property {string} type -  ('point', 'line', 'polygon')\n * @property {Object} geoJsonData - GeoJSON \n * @property {Array} tableData - \n * @property {Object} summaryData - \n */\n\nexport const useDataStore = defineStore(\n  'data',\n  () => {\n    // =============================================================================\n    //   (Constants Definition)\n    // =============================================================================\n\n    /**\n     * D3.js category20b \n     *  20 \n     *\n     * \n     * -  (4):       \n     * -  (4):       \n     * -  (4):       \n     * -  (4):       \n     * -  (4):       \n     */\n    const COLOR_PALETTE = Object.freeze([\n      'category20b-1', // #3182bd - \n      'category20b-2', // #6baed6 - \n      'category20b-3', // #9ecae1 - \n      'category20b-4', // #c6dbef - \n      'category20b-5', // #e6550d - \n      'category20b-6', // #fd8d3c - \n      'category20b-7', // #fdae6b - \n      'category20b-8', // #fdd0a2 - \n      'category20b-9', // #31a354 - \n      'category20b-10', // #74c476 - \n      'category20b-11', // #a1d99b - \n      'category20b-12', // #c7e9c0 - \n      'category20b-13', // #756bb1 - \n      'category20b-14', // #9e9ac8 - \n      'category20b-15', // #bcbddc - \n      'category20b-16', // #dadaeb - \n      'category20b-17', // #636363 - \n      'category20b-18', // #969696 - \n      'category20b-19', // #bdbdbd - \n      'category20b-20', // #d9d9d9 - \n    ]);\n\n    /**\n     * \n     */\n    const DEFAULT_LAYER_GROUPS = Object.freeze([\n      {\n        groupName: '',\n        groupLayers: [], // \n        description: '',\n        icon: 'fas fa-calendar-day',\n      },\n      {\n        groupName: '',\n        groupLayers: [], // \n        description: '',\n        icon: 'fas fa-user-nurse',\n      },\n    ]);\n\n    // =============================================================================\n    //   (State Definition)\n    // =============================================================================\n\n    /**\n     * \n     * @type {import('vue').Ref<LayerGroup[]>}\n     */\n    const layers = ref([...DEFAULT_LAYER_GROUPS]);\n\n    // =============================================================================\n    //   (Layer Lookup & Utility Functions)\n    // =============================================================================\n\n    /**\n     *  ID \n     *\n     * @param {string} layerId - \n     * @returns {LayerInfo|null}  null\n     *\n     * @example\n     * const layer = findLayerById('service-provider-123');\n     * if (layer) {\n     *   console.log(layer.layerName);\n     * }\n     */\n    const findLayerById = (layerId) => {\n      if (!layerId || typeof layerId !== 'string') {\n        console.warn(' findLayerById:  ID', layerId);\n        return null;\n      }\n\n      for (const group of layers.value) {\n        const foundLayer = group.groupLayers.find((layer) => layer.layerId === layerId);\n        if (foundLayer) {\n          return foundLayer;\n        }\n      }\n\n      return null;\n    };\n\n    /**\n     * \n     *\n     * @returns {Array<LayerInfo>} \n     */\n    const getAllLayers = () => {\n      return layers.value.reduce((allLayers, group) => {\n        return allLayers.concat(group.groupLayers);\n      }, []);\n    };\n\n    // =============================================================\n    // Visibility Controls\n    // =============================================================\n\n    /**\n     * / (Toggle Layer Visibility)\n     * @param {string} layerId\n     */\n    const toggleLayerVisibility = async (layerId) => {\n      console.log(' DataStore: toggleLayerVisibility ', layerId);\n      const layer = findLayerById(layerId);\n      if (!layer) {\n        console.error(`Layer with id \"${layerId}\" not found.`);\n        return;\n      }\n\n      console.log(' DataStore: ', layer.layerName, ':', layer.visible);\n\n      // \n      layer.visible = !layer.visible;\n      console.log(' DataStore: :', layer.visible);\n\n      // \n      // \n\n      // \n      console.log(`  \"${layer.layerName}\" :`, layer.visible);\n    };\n\n    /**\n     *  \n     */\n    const hideAllLayersOnMap = () => {\n      getAllLayers().forEach((layer) => {\n        if (layer.visible) {\n          layer.visible = false;\n        }\n      });\n      console.log(' ');\n    };\n\n    /**\n     * / (Toggle Group Visibility)\n     * @param {string} groupName\n     */\n    const toggleGroupVisibility = async (groupName) => {\n      console.log(' DataStore: toggleGroupVisibility ', groupName);\n      const group = layers.value.find((g) => g.groupName === groupName);\n      if (!group) {\n        console.error(`Group with name \"${groupName}\" not found.`);\n        return;\n      }\n\n      // \n      const hasVisibleLayers = group.groupLayers.some((layer) => layer.visible);\n\n      // \n      const newVisibility = !hasVisibleLayers;\n\n      console.log(\n        ` DataStore:  \"${groupName}\"  ${newVisibility ? '' : ''} `\n      );\n\n      // \n      group.groupLayers.forEach((layer) => {\n        layer.visible = newVisibility;\n\n        // \n        // \n\n        console.log(`  \"${layer.layerName}\" :`, newVisibility);\n      });\n    };\n\n    /**\n     *  (Is Group Visible)\n     * @param {string} groupName\n     * @returns {boolean}\n     */\n    const isGroupVisible = (groupName) => {\n      const group = layers.value.find((g) => g.groupName === groupName);\n      if (!group) return false;\n      return group.groupLayers.some((layer) => layer.visible);\n    };\n\n    // =============================================================\n    // Selected Feature & Date Filter\n    // =============================================================\n    // \n    const selectedFeature = ref(null);\n\n    //   (Date Filter State)\n    const selectedServiceDate = ref('1140701'); //  202571\n    const isDateFilterActive = ref(true); // \n\n    //   (Service Provider Filter State)\n    const selectedServiceProvider = ref(''); // \n    const isServiceProviderFilterActive = ref(false); // \n    const availableServiceProviders = ref([]); // \n\n    //   (Left Panel Tab State)\n    const activeLeftTab = ref('date'); //  ('date'  'server')\n\n    /**\n     *   (Set Active Left Tab)\n     * @param {string} tabName -  ('date'  'server')\n     */\n    const setActiveLeftTab = (tabName) => {\n      activeLeftTab.value = tabName;\n      console.log(' :', tabName);\n    };\n\n    const setSelectedFeature = (feature) => {\n      selectedFeature.value = feature;\n    };\n\n    const clearSelectedFeature = () => {\n      selectedFeature.value = null;\n    };\n\n    //   (Date Filter Methods)\n\n    /**\n     *  \n     * @param {string} dateStr - 7 (: 1140701)\n     */\n    const setServiceDateFilter = (dateStr) => {\n      selectedServiceDate.value = dateStr;\n      isDateFilterActive.value = !!dateStr;\n      console.log(' :', dateStr);\n    };\n\n    /**\n     *  \n     */\n    const clearServiceDateFilter = () => {\n      selectedServiceDate.value = '';\n      isDateFilterActive.value = false;\n      console.log(' ');\n    };\n\n    /**\n     *  \n     */\n    const loadServiceProviderLayers = async (dateStr) => {\n      try {\n        console.log(' dataStore :', dateStr);\n        console.log('  JSON (7)');\n\n        // \n        const serviceRecordGroup = layers.value.find((g) => g.groupName === '');\n        if (serviceRecordGroup) {\n          // \n          serviceRecordGroup.groupLayers = [];\n\n          // \n          const loadingLayer = {\n            layerId: 'loading-indicator-date',\n            layerName: '',\n            visible: false,\n            isLoaded: false,\n            isLoading: true,\n            isAnalysisLayer: false,\n            isIsochroneAnalysisLayer: false,\n            geoJsonData: null,\n            tableData: [],\n            summaryData: { totalCount: 0, routeCount: 0, districtCount: [] },\n            legendData: null,\n            colorName: 'category20b-1',\n            type: 'point',\n            shape: 'circle',\n          };\n          serviceRecordGroup.groupLayers.push(loadingLayer);\n        }\n\n        // \n        const result = await loadNewStandardCentralServiceData(\n          {\n            layerId: '',\n            colorName: 'category20b-1', // \n            fileName: '_all_2.json',\n          },\n          dateStr,\n          null // \n        );\n        if (serviceRecordGroup) {\n          // \n          serviceRecordGroup.groupLayers = [];\n\n          // \n          if (result.serviceProviderLayers && result.serviceProviderLayers.length > 0) {\n            console.log(' ', result.serviceProviderLayers.length, '');\n\n            // ============================================\n            // \n            //  category20b \n            // ============================================\n\n            // 1. ID\n            const serviceProviderIds = result.serviceProviderLayers\n              .map((layer) => layer.serviceProviderId)\n              .sort(); // \n\n            console.log(' ID:', serviceProviderIds);\n\n            // 2. \n            //  category20b \n            console.log(' ');\n\n            // 3. \n            serviceProviderIds.forEach((serviceProviderId, index) => {\n              // \n              const serviceLayer = result.serviceProviderLayers.find(\n                (layer) => layer.serviceProviderId === serviceProviderId\n              );\n\n              if (!serviceLayer) return;\n\n              // \n              const colorIndex = index % COLOR_PALETTE.length;\n              const assignedColor = COLOR_PALETTE[colorIndex];\n\n              // ============================================\n              //  GeoJSON features \n              // \n              // ============================================\n              if (serviceLayer.geoJsonData && serviceLayer.geoJsonData.features) {\n                serviceLayer.geoJsonData.features.forEach((feature) => {\n                  if (feature.properties) {\n                    if (feature.geometry.type === 'Point') {\n                      feature.properties.fillColor = assignedColor;\n                    } else if (feature.geometry.type === 'LineString') {\n                      feature.properties.routeColor = assignedColor;\n                    }\n                  }\n                });\n              }\n\n              const serviceLayerId = `service-provider-${serviceLayer.serviceProviderId}`;\n              const serviceLayerObj = {\n                layerId: serviceLayerId,\n                layerName: serviceLayer.serviceProviderId, // \n                visible: false, // \n                isLoaded: true,\n                isLoading: false,\n                isAnalysisLayer: false,\n                isIsochroneAnalysisLayer: false,\n                geoJsonData: serviceLayer.geoJsonData,\n                tableData: serviceLayer.tableData || [], //  dataProcessor  service_points \n                summaryData: {\n                  totalCount: serviceLayer.servicePointsCount || serviceLayer.pointCount, //  service_points_count\n                  routeCount: serviceLayer.routeCount,\n                  districtCount: [],\n                },\n                legendData: null,\n                loader: loadNewStandardCentralServiceData,\n                serviceProviderId: serviceLayer.serviceProviderId,\n                serviceDate: dateStr, // \n                colorName: assignedColor, // \n                type: 'point',\n                shape: 'circle',\n              };\n\n              // \n              serviceRecordGroup.groupLayers.push(serviceLayerObj);\n              console.log(\n                ` : ${serviceLayer.serviceProviderId} (: ${index}, : ${assignedColor}, GeoJSON)`\n              );\n            });\n\n            // \n          } else {\n            console.log(' ');\n          }\n\n          console.log(\n            ' ',\n            serviceRecordGroup.groupLayers.length,\n            ''\n          );\n        }\n      } catch (error) {\n        console.error(' :', error);\n      }\n    };\n\n    /**\n     *   (Clear Service Provider Layers)\n     */\n    const clearServiceProviderLayers = () => {\n      // \n      const serviceRecordGroup = layers.value.find((g) => g.groupName === '');\n      if (serviceRecordGroup) {\n        serviceRecordGroup.groupLayers = [];\n        // \n        console.log(' ');\n      }\n    };\n\n    // =============================================================\n    //   (Service Provider Filter Methods)\n    // =============================================================\n\n    /**\n     *  \n     */\n    const loadAvailableServiceProviders = async () => {\n      try {\n        const filePath = '/long-term-care-web-taichung/data/json/_all_2.json';\n        const response = await fetch(filePath);\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const jsonData = await response.json();\n\n        // \n        const uniqueProviderIds = [...new Set(jsonData.map((record) => record.))];\n\n        // \n        const providersWithStats = uniqueProviderIds.map((providerId) => {\n          const providerRecords = jsonData.filter((record) => record. === providerId);\n          const uniqueDates = [\n            ...new Set(providerRecords.map((record) => record['(7)'])),\n          ];\n\n          return {\n            id: providerId,\n            name: `${providerId}`,\n            dateCount: uniqueDates.length,\n            totalRecords: providerRecords.length,\n          };\n        });\n\n        // \n        providersWithStats.sort((a, b) => b.dateCount - a.dateCount);\n\n        availableServiceProviders.value = providersWithStats;\n        console.log(' ', providersWithStats.length, '');\n\n        return providersWithStats;\n      } catch (error) {\n        console.error(' :', error);\n        return [];\n      }\n    };\n\n    /**\n     *  \n     * @param {string} providerId - \n     */\n    const setServiceProviderFilter = (providerId) => {\n      selectedServiceProvider.value = providerId;\n      isServiceProviderFilterActive.value = !!providerId;\n      console.log(' :', providerId);\n    };\n\n    /**\n     *  \n     */\n    const clearServiceProviderFilter = () => {\n      selectedServiceProvider.value = '';\n      isServiceProviderFilterActive.value = false;\n      console.log(' ');\n    };\n\n    /**\n     *  \n     */\n    const loadServiceProviderDateLayers = async (providerId) => {\n      try {\n        console.log(' dataStore ID:', providerId);\n\n        // \n        const serviceRecordGroup = layers.value.find((g) => g.groupName === '');\n        if (serviceRecordGroup) {\n          // \n          serviceRecordGroup.groupLayers = [];\n\n          // \n          const loadingLayer = {\n            layerId: 'loading-indicator-provider',\n            layerName: '',\n            visible: false,\n            isLoaded: false,\n            isLoading: true,\n            isAnalysisLayer: false,\n            isIsochroneAnalysisLayer: false,\n            geoJsonData: null,\n            tableData: [],\n            summaryData: { totalCount: 0, routeCount: 0, districtCount: [] },\n            legendData: null,\n            colorName: 'category20b-1',\n            type: 'point',\n            shape: 'circle',\n          };\n          serviceRecordGroup.groupLayers.push(loadingLayer);\n        }\n\n        const filePath = '/long-term-care-web-taichung/data/json/_all_2.json';\n        const response = await fetch(filePath);\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const jsonData = await response.json();\n\n        // \n        const providerRecords = jsonData.filter((record) => record. === providerId);\n\n        // \n        const dateGroups = {};\n        providerRecords.forEach((record) => {\n          const date = record['(7)'];\n          if (!dateGroups[date]) {\n            dateGroups[date] = [];\n          }\n          dateGroups[date].push(record);\n        });\n\n        // \n        if (serviceRecordGroup) {\n          // \n          serviceRecordGroup.groupLayers = [];\n\n          // \n          const sortedDates = Object.keys(dateGroups).sort();\n\n          sortedDates.forEach((date, index) => {\n            const colorIndex = index % COLOR_PALETTE.length;\n            const assignedColor = COLOR_PALETTE[colorIndex];\n\n            // \n            const dateData = dateGroups[date];\n            const processedData = processServiceProviderData(dateData, assignedColor);\n\n            if (processedData && processedData.features.length > 0) {\n              const layerId = `service-date-${date}`;\n              //  GeoJSON features  tableData DateLayersTab \n              const tableData = processedData.features\n                .filter((feature) => feature.geometry.type === 'Point')\n                .map((feature) => ({\n                  id: feature.properties.id,\n                  : feature.properties.,\n                  : feature.properties.,\n                  : feature.properties.,\n                  : feature.properties.,\n                  : feature.properties.,\n                  detail: feature.properties.detail,\n                  hour_start: feature.properties.hour_start,\n                  min_start: feature.properties.min_start,\n                  hour_end: feature.properties.hour_end,\n                  min_end: feature.properties.min_end,\n                  hour_traffic: feature.properties.hour_traffic,\n                  min_traffic: feature.properties.min_traffic,\n                  service_items: feature.properties.service_items,\n                  service_items_count:\n                    feature.properties.service_items_count ||\n                    (Array.isArray(feature.properties.service_items)\n                      ? feature.properties.service_items.length\n                      : 0),\n                  serviceProviderId: feature.properties.serviceProviderId,\n                  serviceDate: feature.properties.serviceDate,\n                  routeOrder: feature.properties.routeOrder,\n                  lat: feature.geometry.coordinates[1],\n                  lon: feature.geometry.coordinates[0],\n                }));\n\n              //  service_points_count  DateLayersTab \n              const servicePointsCount = dateData.reduce((total, record) => {\n                return total + (record.service_points_count || 0);\n              }, 0);\n\n              const layerObj = {\n                layerId: layerId,\n                layerName: `${date}`,\n                visible: false, // \n                isLoaded: true,\n                isLoading: false,\n                colorName: assignedColor,\n                //  DateLayersTab \n                type: 'point',\n                geoJsonData: processedData,\n                tableData: tableData, //  tableData\n                summaryData: {\n                  totalCount:\n                    servicePointsCount ||\n                    processedData.features.filter((f) => f.geometry.type === 'Point').length, //  service_points_count\n                  pointCount: processedData.features.filter((f) => f.geometry.type === 'Point')\n                    .length,\n                  lineCount: processedData.features.filter((f) => f.geometry.type === 'LineString')\n                    .length,\n                },\n                //  DataTableTab \n                serviceProviderId: providerId,\n                serviceDate: date,\n              };\n\n              serviceRecordGroup.groupLayers.push(layerObj);\n            }\n          });\n\n          console.log(' ', sortedDates.length, '');\n        }\n      } catch (error) {\n        console.error(' :', error);\n      }\n    };\n\n    /**\n     *  \n     */\n    const clearServiceProviderDateLayers = () => {\n      const providerGroup = layers.value.find((g) => g.groupName === '');\n      if (providerGroup) {\n        providerGroup.groupLayers = [];\n        console.log(' ');\n      }\n    };\n\n    /**\n     *  \n     */\n    const processServiceProviderData = (dayRecords, colorName) => {\n      const features = [];\n\n      dayRecords.forEach((serviceProvider, providerIndex) => {\n        //  service_points_routes  DateLayersTab \n        if (\n          serviceProvider.service_points_routes &&\n          Array.isArray(serviceProvider.service_points_routes)\n        ) {\n          serviceProvider.service_points_routes.forEach((routeCollection) => {\n            if (routeCollection.features && Array.isArray(routeCollection.features)) {\n              routeCollection.features.forEach((routeFeature) => {\n                if (routeFeature.geometry && routeFeature.geometry.type === 'LineString') {\n                  features.push({\n                    type: 'Feature',\n                    geometry: routeFeature.geometry,\n                    properties: {\n                      id: `route_${serviceProvider.}_${providerIndex}`,\n                      layerName: '_', //  layerName  MapTab \n                      name: `_${serviceProvider.}`,\n                      strokeColor: colorName, // \n                      routeColor: colorName, // routeColor\n                      strokeWidth: 3,\n                      strokeOpacity: 0.8,\n                      serviceProviderId: serviceProvider.,\n                      serviceDate: serviceProvider['(7)'],\n                      pointCount: routeFeature.geometry.coordinates.length,\n                      distance: routeFeature.properties?.summary?.distance || 0,\n                      duration: routeFeature.properties?.summary?.duration || 0,\n                      segments: routeFeature.properties?.segments?.length || 0,\n                      ...routeFeature.properties,\n                    },\n                  });\n                }\n              });\n            }\n          });\n        }\n\n        //  route \n        if (serviceProvider.route && serviceProvider.route.length > 1) {\n          const coordinates = serviceProvider.route.map((point) => [point.lon, point.lat]);\n          features.push({\n            type: 'Feature',\n            geometry: {\n              type: 'LineString',\n              coordinates: coordinates,\n            },\n            properties: {\n              id: `route_${serviceProvider.}_${providerIndex}`,\n              layerName: '_', //  layerName  MapTab \n              routeColor: colorName,\n              serviceProviderId: serviceProvider.,\n              serviceDate: serviceProvider['(7)'],\n            },\n          });\n        }\n\n        //  DateLayersTab \n        serviceProvider.service_points.forEach((serviceRecord, index) => {\n          if (serviceRecord.detail && serviceRecord.detail.Lat && serviceRecord.detail.Lon) {\n            const lat = parseFloat(serviceRecord.detail.Lat);\n            const lon = parseFloat(serviceRecord.detail.Lon);\n\n            if (!isNaN(lat) && !isNaN(lon)) {\n              features.push({\n                type: 'Feature',\n                geometry: {\n                  type: 'Point',\n                  coordinates: [lon, lat],\n                },\n                properties: {\n                  id: `point_${serviceProvider.}_${index}`,\n                  fillColor: colorName,\n                  routeOrder: index + 1,\n                  serviceProviderId: serviceProvider.,\n                  serviceDate: serviceProvider['(7)'],\n                  : serviceRecord.detail.,\n                  : serviceRecord[''],\n                  : serviceRecord.detail.,\n                  : `${serviceRecord.hour_start}:${serviceRecord.min_start.toString().padStart(2, '0')}`,\n                  : serviceRecord.detail.,\n                  : serviceRecord.detail.,\n                  detail: serviceRecord.detail,\n                  hour_start: serviceRecord.hour_start,\n                  min_start: serviceRecord.min_start,\n                  hour_end: serviceRecord.hour_end,\n                  min_end: serviceRecord.min_end,\n                  hour_traffic: serviceRecord.hour_traffic || 0,\n                  min_traffic: serviceRecord.min_traffic || 0,\n                  service_items: serviceRecord.service_items || [],\n                },\n              });\n            }\n          }\n        });\n      });\n\n      return {\n        type: 'FeatureCollection',\n        features: features,\n      };\n    };\n\n    /**\n     *   (Matches Date Filter)\n     * @param {Object} data - \n     * @returns {boolean} - \n     */\n    const matchesDateFilter = (data) => {\n      if (!isDateFilterActive.value || !selectedServiceDate.value) {\n        return true; // \n      }\n\n      // \n      if (data && data['(7)']) {\n        const dataDate = data['(7)'].toString();\n        return dataDate === selectedServiceDate.value;\n      }\n\n      return true; // \n    };\n\n    // =============================================================\n    // Spatial Utilities\n    // =============================================================\n    //   (Calculate Distance Between Two Points)\n    //  Haversine \n    const calculateDistance = (lat1, lng1, lat2, lng2) => {\n      const R = 6371000; // \n      const dLat = ((lat2 - lat1) * Math.PI) / 180;\n      const dLng = ((lng2 - lng1) * Math.PI) / 180;\n      const a =\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n        Math.cos((lat1 * Math.PI) / 180) *\n          Math.cos((lat2 * Math.PI) / 180) *\n          Math.sin(dLng / 2) *\n          Math.sin(dLng / 2);\n      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n      return R * c; // \n    };\n\n    //   (Calculate Points Within Range)\n    const calculatePointsInRange = (centerLat, centerLng, radiusMeters = 2000) => {\n      const pointsInRange = [];\n\n      // \n      const visiblePointLayers = getAllLayers().filter(\n        (layer) =>\n          layer.visible &&\n          layer.isLoaded &&\n          layer.type === 'point' &&\n          !layer.isAnalysisLayer &&\n          !layer.isIsochroneAnalysisLayer &&\n          layer.geoJsonData\n      );\n\n      console.log(\n        ' :',\n        visiblePointLayers.map((l) => l.layerName)\n      );\n\n      visiblePointLayers.forEach((layer) => {\n        if (layer.geoJsonData && layer.geoJsonData.features) {\n          layer.geoJsonData.features.forEach((feature) => {\n            if (feature.geometry.type === 'Point') {\n              const [lng, lat] = feature.geometry.coordinates;\n              const distance = calculateDistance(centerLat, centerLng, lat, lng);\n\n              if (distance <= radiusMeters) {\n                //  feature \n                const enhancedFeature = {\n                  ...feature, //  feature \n                  layerId: layer.layerId,\n                  layerName: layer.layerName,\n                  distance: Math.round(distance), // \n                };\n                pointsInRange.push(enhancedFeature);\n              }\n            }\n          });\n        }\n      });\n\n      // \n      pointsInRange.sort((a, b) => a.distance - b.distance);\n\n      console.log(`  ${radiusMeters / 1000} ${pointsInRange.length} `);\n      return pointsInRange;\n    };\n\n    const calculatePolygonInRange = (centerLat, centerLng, radiusMeters = 2000) => {\n      const polygonInRange = [];\n\n      // \n      const visiblePolygonLayers = getAllLayers().filter(\n        (layer) =>\n          layer.visible &&\n          layer.isLoaded &&\n          layer.type === 'polygon' &&\n          !layer.isAnalysisLayer &&\n          !layer.isIsochroneAnalysisLayer &&\n          layer.geoJsonData\n      );\n\n      console.log(\n        ' :',\n        visiblePolygonLayers.map((l) => l.layerName)\n      );\n\n      visiblePolygonLayers.forEach((layer) => {\n        if (layer.geoJsonData && layer.geoJsonData.features) {\n          layer.geoJsonData.features.forEach((feature) => {\n            if (feature.geometry.type === 'Polygon' || feature.geometry.type === 'MultiPolygon') {\n              // \n              const hasOverlap = checkPolygonCircleOverlap(\n                feature.geometry,\n                centerLat,\n                centerLng,\n                radiusMeters\n              );\n\n              if (hasOverlap) {\n                //  feature \n                const enhancedFeature = {\n                  ...feature, //  feature \n                  layerId: layer.layerId,\n                  layerName: layer.layerName,\n                  overlapType: 'intersects', // \n                };\n                polygonInRange.push(enhancedFeature);\n              }\n            }\n          });\n        }\n      });\n\n      console.log(\n        `  ${radiusMeters / 1000} ${polygonInRange.length} `\n      );\n      return polygonInRange;\n    };\n\n    //  (Check Polygon-Circle Overlap)\n    const checkPolygonCircleOverlap = (geometry, centerLat, centerLng, radiusMeters) => {\n      const coordinates =\n        geometry.type === 'Polygon' ? [geometry.coordinates] : geometry.coordinates;\n\n      for (const polygon of coordinates) {\n        for (const ring of polygon) {\n          for (const [lng, lat] of ring) {\n            const distance = calculateDistance(centerLat, centerLng, lat, lng);\n            if (distance <= radiusMeters) {\n              return true; // \n            }\n          }\n        }\n      }\n\n      // \n      return false;\n    };\n\n    // =============================================================\n    // Returned API (Store Interface)\n    // =============================================================\n\n    // \n\n    return {\n      layers,\n      findLayerById, //  ID \n      getAllLayers, // \n      toggleLayerVisibility,\n      toggleGroupVisibility, // \n      isGroupVisible, // \n      selectedFeature,\n      setSelectedFeature,\n      clearSelectedFeature,\n\n      //  \n      selectedServiceDate,\n      isDateFilterActive,\n      setServiceDateFilter,\n      clearServiceDateFilter,\n      matchesDateFilter,\n      loadServiceProviderLayers, // \n      clearServiceProviderLayers, // \n\n      //  \n      selectedServiceProvider,\n      isServiceProviderFilterActive,\n      availableServiceProviders,\n      loadAvailableServiceProviders,\n      setServiceProviderFilter,\n      clearServiceProviderFilter,\n      loadServiceProviderDateLayers,\n      clearServiceProviderDateLayers,\n      hideAllLayersOnMap,\n\n      //  \n      activeLeftTab,\n      setActiveLeftTab,\n\n      calculatePointsInRange, // \n      calculatePolygonInRange, // \n      visibleLayers: computed(() => getAllLayers().filter((layer) => layer.visible)),\n      loadingLayers: computed(() => getAllLayers().filter((layer) => layer.isLoading)),\n\n      //  - \n      createServiceItemsData: (itemOrFeature, layer) => {\n        console.log('>> [1] createServiceItemsData: ', {\n          itemOrFeature,\n          layerName: layer.layerName,\n        });\n\n        const isFeature = itemOrFeature.type === 'Feature';\n        const properties = isFeature ? itemOrFeature.properties : itemOrFeature;\n\n        //  service_items\n        const serviceItems =\n          properties.service_items && Array.isArray(properties.service_items)\n            ? [...properties.service_items]\n            : [];\n\n        if (serviceItems.length === 0) {\n          console.warn(\n            '!! [1a] createServiceItemsData: `properties`  `service_items` !',\n            properties\n          );\n        } else {\n          console.log(\n            '>> [1b] createServiceItemsData:  service_items:',\n            serviceItems.length\n          );\n        }\n\n        const serviceItemsData = {\n          type: 'service-items',\n          layerId: layer.layerId,\n          layerName: layer.layerName,\n          servicePoint: properties, // \n          serviceItems: serviceItems, // \n          servicePointInfo: {\n            name: properties. || properties.name,\n            address: properties. || properties.address,\n            time: properties. || properties.time,\n            serviceType: properties. || properties.serviceType,\n            order: properties. || properties.order,\n            lat: properties. || properties.lat,\n            lng: properties. || properties.lon,\n          },\n        };\n\n        console.log(\n          '>> [2] createServiceItemsData:  serviceItemsData',\n          serviceItemsData\n        );\n        return { serviceItemsData };\n      },\n    };\n  },\n  {\n    persist: true,\n  }\n);\n","<script>\n  /**\n   * =============================================================================\n   *  LoadingOverlay.vue - \n   * =============================================================================\n   *\n   * \n   *\n   * \n   * -  \n   * -  \n   * -  \n   * -  \n   * -  \n   *\n   * @author \n   * @version 2.0.0\n   */\n\n  import { computed } from 'vue';\n\n  export default {\n    name: 'LoadingOverlay',\n\n    /**\n     * =============================================================================\n     *   (Component Props Configuration)\n     * =============================================================================\n     */\n    props: {\n      /**\n       *  \n       * @type {boolean}\n       */\n      isVisible: {\n        type: Boolean,\n        default: false,\n        required: true,\n        validator: (value) => typeof value === 'boolean',\n      },\n\n      /**\n       *  \n       * @type {string}\n       */\n      loadingText: {\n        type: String,\n        default: '...',\n        validator: (value) => typeof value === 'string' && value.length > 0,\n      },\n\n      /**\n       *   (0-100-1 )\n       * @type {number}\n       */\n      progress: {\n        type: Number,\n        default: -1,\n        validator: (value) => {\n          return typeof value === 'number' && !isNaN(value) && value >= -1 && value <= 100;\n        },\n      },\n\n      /**\n       *  \n       * @type {boolean}\n       */\n      showProgress: {\n        type: Boolean,\n        default: false,\n      },\n\n      /**\n       *   ()\n       * @type {string}\n       */\n      subText: {\n        type: String,\n        default: '',\n      },\n\n      /**\n       *  \n       * @type {('primary'|'secondary'|'success'|'warning'|'danger')}\n       */\n      theme: {\n        type: String,\n        default: 'primary',\n        validator: (value) =>\n          ['primary', 'secondary', 'success', 'warning', 'danger'].includes(value),\n      },\n\n      /**\n       *  \n       * @type {('sm'|'md'|'lg')}\n       */\n      size: {\n        type: String,\n        default: 'md',\n        validator: (value) => ['sm', 'md', 'lg'].includes(value),\n      },\n    },\n\n    /**\n     * =============================================================================\n     *   (Component Setup)\n     * =============================================================================\n     */\n    setup(props) {\n      /**\n       *   (Dynamic Style Computation)\n       */\n\n      // \n      const spinnerSizes = {\n        sm: { width: '1.5rem', height: '1.5rem' },\n        md: { width: '2rem', height: '2rem' },\n        lg: { width: '2.5rem', height: '2.5rem' },\n      };\n\n      // \n      const spinnerStyle = computed(() => ({\n        ...spinnerSizes[props.size],\n      }));\n\n      // CSS\n      const themeClass = computed(() => `text-${props.theme}`);\n\n      // \n      const progressBarClass = computed(() => `bg-${props.theme}`);\n\n      // \n      const formattedProgress = computed(() => {\n        if (props.progress < 0) return 0;\n        return Math.max(0, Math.min(100, Math.round(props.progress)));\n      });\n\n      // \n      const shouldShowProgress = computed(() => {\n        return props.showProgress && props.progress >= 0;\n      });\n\n      /**\n       *   (Helper Methods)\n       */\n\n      //  aria-label\n      const getProgressAriaLabel = () => {\n        return ` ${formattedProgress.value} `;\n      };\n\n      // \n      const getLoadingDescription = () => {\n        let description = props.loadingText;\n        if (props.subText) {\n          description += `${props.subText}`;\n        }\n        if (shouldShowProgress.value) {\n          description += ` ${formattedProgress.value}%`;\n        }\n        return description;\n      };\n\n      return {\n        // \n        spinnerStyle,\n        themeClass,\n        progressBarClass,\n        formattedProgress,\n        shouldShowProgress,\n\n        // \n        getProgressAriaLabel,\n        getLoadingDescription,\n      };\n    },\n  };\n</script>\n\n<template>\n  <!--\n    =============================================================================\n      (Loading Overlay Component)\n    =============================================================================\n\n    \n    \n  -->\n  <Transition\n    name=\"loading-overlay\"\n    enter-active-class=\"loading-overlay-enter-active\"\n    leave-active-class=\"loading-overlay-leave-active\"\n    enter-from-class=\"loading-overlay-enter-from\"\n    leave-to-class=\"loading-overlay-leave-to\"\n  >\n    <div\n      v-if=\"isVisible\"\n      class=\"loading-overlay\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      :aria-label=\"getLoadingDescription()\"\n      aria-live=\"polite\"\n    >\n      <!--   (Background Overlay) -->\n      <div class=\"loading-overlay__backdrop\" @click.stop />\n\n      <!--   (Loading Content Card) -->\n      <div class=\"loading-overlay__content\">\n        <!--   (Loading Animation Section) -->\n        <div class=\"loading-overlay__spinner-container\">\n          <div\n            class=\"spinner-border mb-3\"\n            :class=\"themeClass\"\n            :style=\"spinnerStyle\"\n            role=\"status\"\n            aria-hidden=\"true\"\n          >\n            <!--   (Screen Reader Text) -->\n            <span class=\"visually-hidden\">{{ loadingText }}</span>\n          </div>\n        </div>\n\n        <!--   (Primary Loading Text Section) -->\n        <div class=\"loading-overlay__text-container\">\n          <div class=\"loading-overlay__title my-title-lg-black\" id=\"loading-title\">\n            {{ loadingText }}\n          </div>\n\n          <!--   (Secondary Text) -->\n          <p\n            v-if=\"subText\"\n            class=\"loading-overlay__subtitle my-content-xs-gray mt-2 mb-0\"\n            id=\"loading-subtitle\"\n          >\n            {{ subText }}\n          </p>\n        </div>\n\n        <!--   (Loading Progress Section) -->\n        <div v-if=\"shouldShowProgress\" class=\"loading-overlay__progress-container mt-3\">\n          <!--   (Progress Label) -->\n          <div\n            class=\"loading-overlay__progress-label d-flex justify-content-between align-items-center mb-2\"\n          >\n            <small class=\"my-content-xs-gray\"></small>\n            <small class=\"my-content-xs-gray fw-bold\">{{ formattedProgress }}%</small>\n          </div>\n\n          <!--  Bootstrap  (Bootstrap Progress Container) -->\n          <div\n            class=\"progress loading-overlay__progress-bar\"\n            role=\"progressbar\"\n            :aria-valuenow=\"formattedProgress\"\n            :aria-label=\"getProgressAriaLabel()\"\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n          >\n            <!--   (Progress Bar) -->\n            <div\n              class=\"progress-bar\"\n              :class=\"progressBarClass\"\n              :style=\"{ width: formattedProgress + '%' }\"\n            >\n              <span class=\"visually-hidden\">{{ formattedProgress }}% </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </Transition>\n</template>\n\n<style scoped>\n  /**\n * =============================================================================\n *  LoadingOverlay  (LoadingOverlay Component Styles)\n * =============================================================================\n */\n\n  /*   (Main Container Styles) */\n  .loading-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 9999;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 1rem;\n  }\n\n  /*   (Background Overlay Styles) */\n  .loading-overlay__backdrop {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.7);\n    backdrop-filter: blur(2px);\n    -webkit-backdrop-filter: blur(2px);\n  }\n\n  /*   (Content Card Styles) */\n  .loading-overlay__content {\n    position: relative;\n    z-index: 1;\n    background: white;\n    border-radius: 0.75rem;\n    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n    padding: 2rem;\n    text-align: center;\n    min-width: 300px;\n    max-width: 400px;\n    width: 100%;\n  }\n\n  /*   (Spinner Container Styles) */\n  .loading-overlay__spinner-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  /*   (Text Container Styles) */\n  .loading-overlay__text-container {\n    margin: 0;\n  }\n\n  .loading-overlay__title {\n    margin: 0 0 0.5rem 0;\n    font-weight: 600;\n    letter-spacing: 0.5px;\n  }\n\n  .loading-overlay__subtitle {\n    margin: 0;\n    line-height: 1.4;\n    opacity: 0.8;\n  }\n\n  /*   (Progress Container Styles) */\n  .loading-overlay__progress-container {\n    width: 100%;\n  }\n\n  .loading-overlay__progress-label {\n    font-size: 0.75rem;\n    margin-bottom: 0.5rem;\n  }\n\n  .loading-overlay__progress-bar {\n    height: 8px;\n    border-radius: 4px;\n    overflow: hidden;\n    background-color: var(--my-color-gray-200);\n  }\n\n  .loading-overlay__progress-bar .progress-bar {\n    transition: width 0.3s ease;\n    border-radius: 4px;\n  }\n\n  /*   (Transition Animation Styles) */\n  .loading-overlay-enter-active,\n  .loading-overlay-leave-active {\n    transition: all 0.3s ease;\n  }\n\n  .loading-overlay-enter-active .loading-overlay__content,\n  .loading-overlay-leave-active .loading-overlay__content {\n    transition: all 0.3s ease;\n  }\n\n  .loading-overlay-enter-from,\n  .loading-overlay-leave-to {\n    opacity: 0;\n  }\n\n  .loading-overlay-enter-from .loading-overlay__content,\n  .loading-overlay-leave-to .loading-overlay__content {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n\n  /*   (Responsive Styles) */\n  @media (max-width: 576px) {\n    .loading-overlay__content {\n      min-width: 280px;\n      margin: 1rem;\n      padding: 1.5rem;\n    }\n\n    .loading-overlay__title {\n      font-size: 1rem;\n    }\n  }\n\n  @media (max-width: 360px) {\n    .loading-overlay__content {\n      min-width: 240px;\n      padding: 1.25rem;\n    }\n  }\n\n  /*   (Accessibility Styles) */\n  @media (prefers-reduced-motion: reduce) {\n    .loading-overlay-enter-active,\n    .loading-overlay-leave-active,\n    .loading-overlay__progress-bar .progress-bar {\n      transition: none;\n    }\n\n    .spinner-border {\n      animation: none;\n      border-left-color: transparent;\n    }\n  }\n\n  /*   (Dark Mode Support) */\n  @media (prefers-color-scheme: dark) {\n    .loading-overlay__content {\n      background: var(--my-color-gray-800, #2d3748);\n      color: var(--my-color-white, #ffffff);\n    }\n\n    .loading-overlay__title {\n      color: var(--my-color-white, #ffffff);\n    }\n\n    .loading-overlay__progress-bar {\n      background-color: var(--my-color-gray-600, #4a5568);\n    }\n  }\n</style>\n","import { render } from \"./LoadingOverlay.vue?vue&type=template&id=430a6fa8&scoped=true\"\nimport script from \"./LoadingOverlay.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingOverlay.vue?vue&type=script&lang=js\"\n\nimport \"./LoadingOverlay.vue?vue&type=style&index=0&id=430a6fa8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-430a6fa8\"]])\n\nexport default __exports__","<script>\n  /**\n   * LeftView.vue\n   *\n   * Purpose:\n   * - Hosts the left panel including the layer tabs and optional service point detail.\n   * - Provides tab switching functionality between DateLayersTab and ServerLayersTab.\n   *\n   * Notes:\n   * - Updated to support tab system similar to UpperView.vue\n   */\n  import { computed } from 'vue';\n  import { useDataStore } from '../stores/dataStore.js';\n  import DateLayersTab from '../tabs/DateLayersTab.vue';\n  import ServerLayersTab from '../tabs/ServerLayersTab.vue';\n\n  export default {\n    name: 'LeftView',\n\n    /**\n     *   (Component Registration)\n     * \n     */\n    components: {\n      DateLayersTab, // \n      ServerLayersTab, // \n    },\n\n    /**\n     *   (Component Props)\n     * \n     */\n    props: {\n      selectedServicePoint: {\n        type: Object,\n        default: null,\n      },\n    },\n\n    /**\n     *   (Component Events)\n     * \n     */\n    emits: ['clear-service-point-detail'],\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup(props, { emit }) {\n      //   Pinia \n      const dataStore = useDataStore();\n\n      //   (Tab State Management)\n      /**   ( dataStore  computed ) */\n      const activeLeftTab = computed(() => dataStore.activeLeftTab);\n\n      /**\n       *  \n       */\n      const clearServicePointDetail = () => {\n        emit('clear-service-point-detail');\n      };\n\n      /**\n       *  \n       * @param {string} tabName -  ('date'  'server')\n       */\n      const switchLeftTab = (tabName) => {\n        dataStore.setActiveLeftTab(tabName);\n        // \n        dataStore.hideAllLayersOnMap();\n        dataStore.setSelectedFeature(null);\n      };\n\n      //  \n      return {\n        activeLeftTab,\n        switchLeftTab,\n        clearServicePointDetail,\n      };\n    },\n  };\n</script>\n\n<template>\n  <div class=\"my-bgcolor-gray-100 h-100 d-flex flex-column overflow-hidden\">\n    <!--   -->\n    <div class=\"p-3\">\n      <h1 class=\"my-font-size-lg my-letter-spacing-lg text-center m-3\"></h1>\n\n      <!--   (Tab Navigation Buttons) -->\n      <div class=\"d-flex justify-content-center pt-3\">\n        <div class=\"d-flex align-items-center rounded-pill shadow my-blur gap-1 p-2\">\n          <!--  -->\n          <button\n            class=\"btn rounded-pill border-0 d-flex align-items-center justify-content-center my-btn-transparent my-font-size-xs\"\n            :class=\"{\n              'my-btn-blue': activeLeftTab === 'date',\n            }\"\n            @click=\"switchLeftTab('date')\"\n            style=\"height: 30px\"\n            title=\"\"\n          >\n            <i class=\"fas fa-calendar-day\"></i>\n            <span class=\"ps-2\"></span>\n          </button>\n\n          <!--  -->\n          <button\n            class=\"btn rounded-pill border-0 d-flex align-items-center justify-content-center my-btn-transparent my-font-size-xs\"\n            :class=\"{\n              'my-btn-blue': activeLeftTab === 'server',\n            }\"\n            @click=\"switchLeftTab('server')\"\n            style=\"height: 30px\"\n            title=\"\"\n          >\n            <i class=\"fa-solid fa-user-nurse\"></i>\n            <span class=\"ps-2\"></span>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!--   -->\n    <div class=\"flex-grow-1 overflow-hidden\">\n      <!--   -->\n      <div v-show=\"activeLeftTab === 'date'\" class=\"h-100\">\n        <DateLayersTab />\n      </div>\n\n      <!--   -->\n      <div v-show=\"activeLeftTab === 'server'\" class=\"h-100\">\n        <ServerLayersTab />\n      </div>\n\n      <!--   (Service Point Detail Area) -->\n      <div v-if=\"selectedServicePoint\" class=\"mt-3 p-3 my-bgcolor-white rounded shadow-sm\">\n        <h6 class=\"my-title-sm-black mb-3\">\n          <i class=\"fas fa-info-circle me-2\"></i>\n          \n        </h6>\n\n        <div class=\"row g-2\">\n          <div class=\"col-12\">\n            <div class=\"my-content-xs-gray mb-1\"></div>\n            <div class=\"my-content-sm-black\">\n              {{ selectedServicePoint.servicePointInfo?.name || '' }}\n            </div>\n          </div>\n\n          <div class=\"col-12\">\n            <div class=\"my-content-xs-gray mb-1\"></div>\n            <div class=\"my-content-sm-black\">\n              {{ selectedServicePoint.servicePointInfo?.address || '' }}\n            </div>\n          </div>\n\n          <div class=\"col-6\">\n            <div class=\"my-content-xs-gray mb-1\"></div>\n            <div class=\"my-content-sm-black\">\n              {{ selectedServicePoint.servicePointInfo?.time || '' }}\n            </div>\n          </div>\n\n          <div class=\"col-6\">\n            <div class=\"my-content-xs-gray mb-1\"></div>\n            <div class=\"my-content-sm-black\">\n              {{ selectedServicePoint.servicePointInfo?.serviceType || '' }}\n            </div>\n          </div>\n\n          <div class=\"col-6\">\n            <div class=\"my-content-xs-gray mb-1\"></div>\n            <div class=\"my-content-sm-black\">\n              {{ selectedServicePoint.servicePointInfo?.order || '' }}\n            </div>\n          </div>\n\n          <div class=\"col-6\">\n            <div class=\"my-content-xs-gray mb-1\"></div>\n            <div class=\"my-content-sm-black\">\n              {{ selectedServicePoint.servicePointInfo?.serviceDate || '' }}\n            </div>\n          </div>\n\n          <div class=\"col-12\">\n            <div class=\"my-content-xs-gray mb-1\"></div>\n            <div class=\"my-content-sm-black\">\n              {{\n                selectedServicePoint.servicePointInfo?.lat &&\n                selectedServicePoint.servicePointInfo?.lng\n                  ? `${selectedServicePoint.servicePointInfo.lat.toFixed(6)}, ${selectedServicePoint.servicePointInfo.lng.toFixed(6)}`\n                  : ''\n              }}\n            </div>\n          </div>\n        </div>\n\n        <div class=\"mt-3 pt-2 border-top\">\n          <button class=\"btn btn-sm my-btn-outline-primary w-100\" @click=\"clearServicePointDetail\">\n            <i class=\"fas fa-times me-2\"></i>\n            \n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped></style>\n","<script>\n  /**\n   * DateLayersTab.vue\n   *\n   * Purpose:\n   * - Lists layer groups and layers with visibility toggles.\n   * - Hosts the service-date picker to load day-specific provider layers.\n   *\n   * Notes:\n   * - Refactor only adds comments and headers; behavior and UI unchanged.\n   */\n  import { computed, ref, onMounted } from 'vue';\n  import { useDataStore } from '@/stores/dataStore.js';\n  import { getIcon } from '../utils/utils.js';\n  import DatePicker from '../components/DatePicker.vue';\n\n  export default {\n    name: 'DateLayersTab',\n\n    /**\n     *   (Component Registration)\n     * \n     */\n    components: {\n      DatePicker,\n    },\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup() {\n      //   Pinia \n      const dataStore = useDataStore();\n\n      //  ref  DOM \n      const layerListRef = ref(null);\n\n      //  store  store  state \n      const layers = computed(() => dataStore.layers);\n\n      //   dataStore \n      const selectedServiceDate = computed({\n        get: () => dataStore.selectedServiceDate,\n        set: (value) => {\n          if (value) {\n            dataStore.setServiceDateFilter(value);\n          } else {\n            dataStore.clearServiceDateFilter();\n          }\n        },\n      });\n\n      /**\n       *  \n       *  store  action /\n       * @param {string} layerId -  ID\n       */\n      const toggleLayer = (layerId) => {\n        console.log(' DateLayersTab: ', layerId);\n        dataStore.toggleLayerVisibility(layerId);\n\n        // \n        if (layerId && layerId.startsWith('service-provider-')) {\n          const layer = dataStore.findLayerById(layerId);\n          if (layer && layer.visible) {\n            //  ID \n            const serviceProviderId = layerId.replace('service-provider-', '');\n            console.log(' DateLayersTab: ', serviceProviderId);\n            dataStore.selectedServiceProvider = serviceProviderId;\n          } else {\n            // \n            const serviceProviderId = layerId.replace('service-provider-', '');\n            if (dataStore.selectedServiceProvider === serviceProviderId) {\n              console.log(' DateLayersTab: ');\n              dataStore.selectedServiceProvider = '';\n            }\n          }\n        }\n\n        // \n        if (layerId && layerId.startsWith('service-date-')) {\n          const layer = dataStore.findLayerById(layerId);\n          if (layer && layer.visible) {\n            //  ID \n            const serviceDate = layerId.replace('service-date-', '');\n            console.log(' DateLayersTab: ', serviceDate);\n            dataStore.setServiceDateFilter(serviceDate);\n          } else {\n            // \n            const serviceDate = layerId.replace('service-date-', '');\n            if (dataStore.selectedServiceDate === serviceDate) {\n              console.log(' DateLayersTab: ');\n              dataStore.clearServiceDateFilter();\n            }\n          }\n        }\n      };\n\n      /**\n       *  \n       *  store  action /\n       * @param {string} groupName - \n       */\n      const toggleGroup = (groupName) => {\n        console.log(' DateLayersTab: ', groupName);\n        dataStore.toggleGroupVisibility(groupName);\n      };\n\n      /**\n       *   (Get Layer Color)\n       * \n       * @param {Object} layer - \n       * @returns {string} CSS \n       */\n      const getLayerColor = (layer) => {\n        //  GeoJSON features \n        if (layer.layerId && layer.layerId.startsWith('service-provider-') && layer.geoJsonData) {\n          const features = layer.geoJsonData.features || [];\n          if (features.length > 0) {\n            //  fillColor routeColor\n            const firstFeature = features[0];\n            if (firstFeature.properties) {\n              if (firstFeature.properties.fillColor) {\n                return `var(--my-color-${firstFeature.properties.fillColor})`;\n              } else if (firstFeature.properties.routeColor) {\n                return `var(--my-color-${firstFeature.properties.routeColor})`;\n              }\n            }\n          }\n        }\n\n        //  layer.colorName\n        return layer.colorName ? `var(--my-color-${layer.colorName})` : 'var(--my-color-gray-300)';\n      };\n\n      /**\n       *  \n       * @param {string} dateStr - 7 (: 1140701)\n       */\n      const handleDateSelected = async (dateStr) => {\n        console.log(' DateLayersTab :', dateStr);\n        console.log(' :', dateStr ? dateStr.length : 'null');\n        console.log(' :', dateStr);\n\n        //  right panel\n        dataStore.setSelectedFeature(null);\n\n        if (dateStr) {\n          dataStore.setServiceDateFilter(dateStr);\n          // \n          console.log(' ');\n          await dataStore.loadServiceProviderLayers(dateStr);\n        } else {\n          dataStore.clearServiceDateFilter();\n          // \n          dataStore.clearServiceProviderLayers();\n        }\n      };\n\n      /**\n       *  \n       *  (71) \n       */\n      onMounted(async () => {\n        console.log(' DateLayersTab ');\n        // \n        await dataStore.loadServiceProviderLayers('1140701');\n      });\n\n      //   <template> \n      return {\n        layers,\n        toggleLayer,\n        toggleGroup,\n        isGroupVisible: dataStore.isGroupVisible,\n        layerListRef,\n        getIcon,\n        getLayerColor,\n        //  \n        selectedServiceDate,\n        handleDateSelected,\n        isDateFilterActive: computed(() => dataStore.isDateFilterActive),\n      };\n    },\n  };\n</script>\n\n<template>\n  <div class=\"h-100 d-flex flex-column overflow-hidden my-bgcolor-gray-100\">\n    <div class=\"flex-grow-1 overflow-auto layer-list-container\" ref=\"layerListRef\">\n      <div class=\"mb-3\">\n        <!--   -->\n        <div class=\"p-3\">\n          <div class=\"mb-2\">\n            <div class=\"my-title-xs-gray mb-1\"></div>\n            <DatePicker\n              v-model=\"selectedServiceDate\"\n              placeholder=\"\"\n              @date-selected=\"handleDateSelected\"\n            />\n          </div>\n        </div>\n\n        <div\n          v-for=\"group in layers.filter((g) => g.groupName === '')\"\n          :key=\"group.groupName\"\n          class=\"p-3\"\n        >\n          <div class=\"d-flex align-items-center pb-2\">\n            <div class=\"my-title-xs-gray\">\n              {{ group.groupName }}\n              <span v-if=\"group.groupLayers.length > 0\"> ({{ group.groupLayers.length }}) </span>\n            </div>\n            <!--  -  -->\n            <div\n              v-if=\"group.groupLayers.length > 0\"\n              class=\"d-flex align-items-center justify-content-center ms-auto\"\n            >\n              <input\n                type=\"checkbox\"\n                :id=\"'group-switch-' + group.groupName\"\n                :checked=\"isGroupVisible(group.groupName)\"\n                @change=\"toggleGroup(group.groupName)\"\n              />\n              <label\n                :for=\"'group-switch-' + group.groupName\"\n                :style=\"{\n                  '--layer-color': 'var(--my-color-green)',\n                }\"\n              ></label>\n            </div>\n          </div>\n\n          <div v-for=\"layer in group.groupLayers\" :key=\"layer.layerId\" class=\"mb-1\">\n            <!--  -->\n            <div\n              class=\"btn rounded-0 border-0 d-flex shadow-sm my-bgcolor-white-hover p-0\"\n              @click=\"toggleLayer(layer.layerId)\"\n            >\n              <!--  -->\n              <div\n                class=\"d-flex\"\n                :style=\"{\n                  backgroundColor: getLayerColor(layer),\n                  minWidth: '6px',\n                }\"\n              ></div>\n              <div class=\"w-100\">\n                <div class=\"d-flex\">\n                  <!--  -->\n                  <div class=\"d-flex align-items-center text-start w-100 px-3 py-2\">\n                    <span class=\"my-content-sm-black\">\n                      {{ layer.layerName }}\n                      <span class=\"my-content-xs-gray ms-2\">\n                        {{ layer.summaryData?.totalCount }}\n                      </span>\n                    </span>\n                  </div>\n                  <!--  -->\n                  <div class=\"d-flex align-items-center justify-content-center px-3 py-2\">\n                    <input\n                      type=\"checkbox\"\n                      :id=\"'switch-' + layer.layerId\"\n                      :checked=\"layer.visible\"\n                      :disabled=\"layer.isLoading\"\n                      @change=\"toggleLayer(layer.layerId)\"\n                    />\n                    <label\n                      :for=\"'switch-' + layer.layerId\"\n                      :style=\"{\n                        '--layer-color': 'var(--my-color-green)',\n                      }\"\n                    ></label>\n                  </div>\n                </div>\n                <div v-if=\"layer.legendData && layer.visible\" class=\"px-3 pb-2\">\n                  <div\n                    v-for=\"data in layer.legendData\"\n                    :key=\"data.color\"\n                    class=\"d-flex align-items-center\"\n                  >\n                    <div\n                      style=\"min-width: 6px; min-height: 18px\"\n                      :style=\"{\n                        backgroundColor: data.color,\n                      }\"\n                    ></div>\n                    <div class=\"my-content-xs-black text-nowrap ms-2\">{{ data.label }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  /*   (Layer Toggle Switch Styles) */\n  /* https://www.tpisoftware.com/tpu/articleDetails/2744 */\n\n  input[type='checkbox'] {\n    height: 0;\n    width: 0;\n    visibility: hidden;\n  }\n\n  label {\n    cursor: pointer;\n    width: 28px;\n    height: 16px;\n    background: var(--my-color-gray-300);\n    display: block;\n    border-radius: 16px;\n    position: relative;\n    transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1); /*  */\n  }\n\n  label:after {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 12px;\n    height: 12px;\n    background: var(--my-color-white);\n    border-radius: 12px;\n    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1); /*  */\n  }\n\n  input:checked + label {\n    background: var(--layer-color, var(--my-color-green));\n  }\n\n  input:checked + label:after {\n    transform: translateX(12px);\n  }\n</style>\n","/**\n * =============================================================================\n *   (Icon Configuration System)\n * =============================================================================\n *\n *  FontAwesome \n *\n * \n * -   (/)\n * -  \n * -  \n * -  \n *\n * @author \n * @version 2.0.0\n */\n\n/**\n * @typedef {Object} IconDefinition\n * @property {string} zh - \n * @property {string} en - \n * @property {string} icon - FontAwesome CSS \n * @property {string} [category] - \n * @property {string} [description] - \n */\n\n/**\n * \n * \n */\nexport const ICONS = Object.freeze({\n  // =============================================================================\n  //   (Basic Action Icons)\n  // =============================================================================\n  add: {\n    zh: '',\n    en: 'Add',\n    icon: 'fas fa-plus',\n    category: 'action',\n    description: '',\n  },\n  edit: {\n    zh: '',\n    en: 'Edit',\n    icon: 'fas fa-edit',\n    category: 'action',\n    description: '',\n  },\n  delete: {\n    zh: '',\n    en: 'Delete',\n    icon: 'fas fa-trash',\n    category: 'action',\n    description: '',\n  },\n  save: {\n    zh: '',\n    en: 'Save',\n    icon: 'fas fa-save',\n    category: 'action',\n    description: '',\n  },\n  cancel: {\n    zh: '',\n    en: 'Cancel',\n    icon: 'fas fa-times',\n    category: 'action',\n    description: '',\n  },\n  confirm: {\n    zh: '',\n    en: 'Confirm',\n    icon: 'fas fa-check',\n    category: 'action',\n    description: '',\n  },\n  search: {\n    zh: '',\n    en: 'Search',\n    icon: 'fas fa-search',\n    category: 'action',\n    description: '',\n  },\n  filter: {\n    zh: '',\n    en: 'Filter',\n    icon: 'fas fa-filter',\n    category: 'action',\n    description: '',\n  },\n  sort: {\n    zh: '',\n    en: 'Sort',\n    icon: 'fas fa-sort',\n    category: 'action',\n    description: '',\n  },\n  refresh: {\n    zh: '',\n    en: 'Refresh',\n    icon: 'fas fa-sync-alt',\n    category: 'action',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (File Operation Icons)\n  // =============================================================================\n  upload: {\n    zh: '',\n    en: 'Upload',\n    icon: 'fas fa-upload',\n    category: 'file',\n    description: '',\n  },\n  download: {\n    zh: '',\n    en: 'Download',\n    icon: 'fas fa-download',\n    category: 'file',\n    description: '',\n  },\n  import: {\n    zh: '',\n    en: 'Import',\n    icon: 'fas fa-file-import',\n    category: 'file',\n    description: '',\n  },\n  export: {\n    zh: '',\n    en: 'Export',\n    icon: 'fas fa-file-export',\n    category: 'file',\n    description: '',\n  },\n  folder: {\n    zh: '',\n    en: 'Folder',\n    icon: 'fas fa-folder',\n    category: 'file',\n    description: '',\n  },\n  folder_open: {\n    zh: '',\n    en: 'Open Folder',\n    icon: 'fas fa-folder-open',\n    category: 'file',\n    description: '',\n  },\n  file: {\n    zh: '',\n    en: 'File',\n    icon: 'fas fa-file',\n    category: 'file',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Navigation Icons)\n  // =============================================================================\n  home: {\n    zh: '',\n    en: 'Home',\n    icon: 'fas fa-home',\n    category: 'navigation',\n    description: '',\n  },\n  back: {\n    zh: '',\n    en: 'Back',\n    icon: 'fas fa-arrow-left',\n    category: 'navigation',\n    description: '',\n  },\n  forward: {\n    zh: '',\n    en: 'Forward',\n    icon: 'fas fa-arrow-right',\n    category: 'navigation',\n    description: '',\n  },\n  up: {\n    zh: '',\n    en: 'Up',\n    icon: 'fas fa-arrow-up',\n    category: 'navigation',\n    description: '',\n  },\n  down: {\n    zh: '',\n    en: 'Down',\n    icon: 'fas fa-arrow-down',\n    category: 'navigation',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Status Icons)\n  // =============================================================================\n  success: {\n    zh: '',\n    en: 'Success',\n    icon: 'fas fa-check-circle',\n    category: 'status',\n    description: '',\n  },\n  error: {\n    zh: '',\n    en: 'Error',\n    icon: 'fas fa-exclamation-circle',\n    category: 'status',\n    description: '',\n  },\n  warning: {\n    zh: '',\n    en: 'Warning',\n    icon: 'fas fa-exclamation-triangle',\n    category: 'status',\n    description: '',\n  },\n  info: {\n    zh: '',\n    en: 'Info',\n    icon: 'fas fa-info-circle',\n    category: 'status',\n    description: '',\n  },\n  loading: {\n    zh: '',\n    en: 'Loading',\n    icon: 'fas fa-spinner',\n    category: 'status',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (View Control Icons)\n  // =============================================================================\n  view: {\n    zh: '',\n    en: 'View',\n    icon: 'fas fa-eye',\n    category: 'view',\n    description: '',\n  },\n  hide: {\n    zh: '',\n    en: 'Hide',\n    icon: 'fas fa-eye-slash',\n    category: 'view',\n    description: '',\n  },\n  expand: {\n    zh: '',\n    en: 'Expand',\n    icon: 'fas fa-expand',\n    category: 'view',\n    description: '',\n  },\n  collapse: {\n    zh: '',\n    en: 'Collapse',\n    icon: 'fas fa-compress',\n    category: 'view',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Layer & Data Icons)\n  // =============================================================================\n  layer: {\n    zh: '',\n    en: 'Layer',\n    icon: 'fas fa-layer-group',\n    category: 'data',\n    description: '',\n  },\n  visible: {\n    zh: '',\n    en: 'Visible',\n    icon: 'fas fa-eye',\n    category: 'data',\n    description: '',\n  },\n  hidden: {\n    zh: '',\n    en: 'Hidden',\n    icon: 'fas fa-eye-slash',\n    category: 'data',\n    description: '',\n  },\n  data: {\n    zh: '',\n    en: 'Data',\n    icon: 'fas fa-database',\n    category: 'data',\n    description: '',\n  },\n  table: {\n    zh: '',\n    en: 'Table',\n    icon: 'fas fa-table',\n    category: 'data',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Map Icons)\n  // =============================================================================\n  map: {\n    zh: '',\n    en: 'Map',\n    icon: 'fas fa-map',\n    category: 'map',\n    description: '',\n  },\n  location: {\n    zh: '',\n    en: 'Location',\n    icon: 'fas fa-map-marker-alt',\n    category: 'map',\n    description: '',\n  },\n  zoom_in: {\n    zh: '',\n    en: 'Zoom In',\n    icon: 'fas fa-search-plus',\n    category: 'map',\n    description: '',\n  },\n  zoom_out: {\n    zh: '',\n    en: 'Zoom Out',\n    icon: 'fas fa-search-minus',\n    category: 'map',\n    description: '',\n  },\n  center: {\n    zh: '',\n    en: 'Center',\n    icon: 'fas fa-crosshairs',\n    category: 'map',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Analysis & Statistics Icons)\n  // =============================================================================\n  chart: {\n    zh: '',\n    en: 'Chart',\n    icon: 'fas fa-chart-bar',\n    category: 'analysis',\n    description: '',\n  },\n  statistics: {\n    zh: '',\n    en: 'Statistics',\n    icon: 'fas fa-chart-line',\n    category: 'analysis',\n    description: '',\n  },\n  dashboard: {\n    zh: '',\n    en: 'Dashboard',\n    icon: 'fas fa-tachometer-alt',\n    category: 'analysis',\n    description: '',\n  },\n  analysis: {\n    zh: '',\n    en: 'Analysis',\n    icon: 'fas fa-analytics',\n    category: 'analysis',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Medical Icons)\n  // =============================================================================\n  hospital: {\n    zh: '',\n    en: 'Hospital',\n    icon: 'fas fa-hospital',\n    category: 'medical',\n    description: '',\n  },\n  clinic: {\n    zh: '',\n    en: 'Clinic',\n    icon: 'fas fa-clinic-medical',\n    category: 'medical',\n    description: '',\n  },\n  pharmacy: {\n    zh: '',\n    en: 'Pharmacy',\n    icon: 'fas fa-pills',\n    category: 'medical',\n    description: '',\n  },\n  elderly_care: {\n    zh: '',\n    en: 'Elderly Care',\n    icon: 'fas fa-hands-helping',\n    category: 'medical',\n    description: '',\n  },\n  medical: {\n    zh: '',\n    en: 'Medical',\n    icon: 'fas fa-user-md',\n    category: 'medical',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Population & Social Icons)\n  // =============================================================================\n  population: {\n    zh: '',\n    en: 'Population',\n    icon: 'fas fa-users',\n    category: 'social',\n    description: '',\n  },\n  demographics: {\n    zh: '',\n    en: 'Demographics',\n    icon: 'fas fa-user-friends',\n    category: 'social',\n    description: '',\n  },\n  community: {\n    zh: '',\n    en: 'Community',\n    icon: 'fas fa-home',\n    category: 'social',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Economic Icons)\n  // =============================================================================\n  income: {\n    zh: '',\n    en: 'Income',\n    icon: 'fas fa-dollar-sign',\n    category: 'economic',\n    description: '',\n  },\n  tax: {\n    zh: '',\n    en: 'Tax',\n    icon: 'fas fa-file-invoice-dollar',\n    category: 'economic',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Control & Action Icons)\n  // =============================================================================\n  drag: {\n    zh: '',\n    en: 'Drag',\n    icon: 'fa-solid fa-grip-lines-vertical',\n    category: 'control',\n    description: '',\n  },\n  move_up: {\n    zh: '',\n    en: 'Move Up',\n    icon: 'fas fa-arrow-up',\n    category: 'control',\n    description: '',\n  },\n  move_down: {\n    zh: '',\n    en: 'Move Down',\n    icon: 'fas fa-arrow-down',\n    category: 'control',\n    description: '',\n  },\n  reset: {\n    zh: '',\n    en: 'Reset',\n    icon: 'fas fa-undo',\n    category: 'control',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (Settings & Configuration Icons)\n  // =============================================================================\n  settings: {\n    zh: '',\n    en: 'Settings',\n    icon: 'fas fa-cog',\n    category: 'settings',\n    description: '',\n  },\n  sort_up: {\n    zh: '',\n    en: 'Sort Ascending',\n    icon: 'fas fa-sort-up',\n    category: 'settings',\n    description: '',\n  },\n  sort_down: {\n    zh: '',\n    en: 'Sort Descending',\n    icon: 'fas fa-sort-down',\n    category: 'settings',\n    description: '',\n  },\n\n  // =============================================================================\n  //   (UI Element Icons)\n  // =============================================================================\n  menu: {\n    zh: '',\n    en: 'Menu',\n    icon: 'fas fa-bars',\n    category: 'ui',\n    description: '',\n  },\n  close: {\n    zh: '',\n    en: 'Close',\n    icon: 'fas fa-times',\n    category: 'ui',\n    description: '',\n  },\n});\n\n// =================================================================================\n//   (Icon System Helper Functions)\n// =================================================================================\n\n/**\n * \n *\n * @param {string} iconKey - \n * @param {('zh'|'en')} [lang='zh'] - \n * @returns {{text: string, icon: string, category?: string, description?: string}} \n *\n * @example\n * // \n * const icon = getIcon('add', 'zh');\n * // : { text: '', icon: 'fas fa-plus', category: 'action', description: '' }\n */\nexport function getIcon(iconKey, lang = 'zh') {\n  const iconInfo = ICONS[iconKey];\n\n  if (!iconInfo) {\n    console.warn(` : ${iconKey}`);\n    return {\n      text: iconKey,\n      icon: 'fas fa-question-circle',\n      category: 'unknown',\n      description: `: ${iconKey}`,\n    };\n  }\n\n  return {\n    text: iconInfo[lang] || iconInfo.zh,\n    icon: iconInfo.icon,\n    category: iconInfo.category,\n    description: iconInfo.description,\n  };\n}\n\n/**\n * \n *\n * @param {string} iconKey - \n * @returns {boolean} \n */\nexport function hasIcon(iconKey) {\n  return Object.prototype.hasOwnProperty.call(ICONS, iconKey);\n}\n\n/**\n * \n *\n * @param {string} category - \n * @returns {Array<{key: string, ...IconDefinition}>} \n */\nexport function getIconsByCategory(category) {\n  return Object.entries(ICONS)\n    .filter(([, iconInfo]) => iconInfo.category === category)\n    .map(([key, iconInfo]) => ({ key, ...iconInfo }));\n}\n\n/**\n * \n *\n * @returns {Array<string>} \n */\nexport function getIconCategories() {\n  const categories = new Set();\n  Object.values(ICONS).forEach((iconInfo) => {\n    if (iconInfo.category) {\n      categories.add(iconInfo.category);\n    }\n  });\n  return Array.from(categories).sort();\n}\n\n// =================================================================================\n//   (General Utility Functions)\n// =================================================================================\n\n/**\n * \n *\n * @param {any} obj - \n * @returns {any} \n */\nexport function deepClone(obj) {\n  if (obj === null || typeof obj !== 'object') {\n    return obj;\n  }\n\n  if (obj instanceof Date) {\n    return new Date(obj.getTime());\n  }\n\n  if (obj instanceof Array) {\n    return obj.map((item) => deepClone(item));\n  }\n\n  if (typeof obj === 'object') {\n    const clonedObj = {};\n    for (const key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        clonedObj[key] = deepClone(obj[key]);\n      }\n    }\n    return clonedObj;\n  }\n\n  return obj;\n}\n\n/**\n * \n *\n * @param {Function} func - \n * @param {number} wait - \n * @param {boolean} [immediate=false] - \n * @returns {Function} \n */\nexport function debounce(func, wait, immediate = false) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      timeout = null;\n      if (!immediate) func.apply(this, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(this, args);\n  };\n}\n\n/**\n * \n *\n * @param {Function} func - \n * @param {number} limit - \n * @returns {Function} \n */\nexport function throttle(func, limit) {\n  let inThrottle;\n  return function (...args) {\n    if (!inThrottle) {\n      func.apply(this, args);\n      inThrottle = true;\n      setTimeout(() => (inThrottle = false), limit);\n    }\n  };\n}\n\n/**\n * \n *\n * @param {number|string} num - \n * @param {string} [separator=','] - \n * @returns {string} \n */\nexport function formatNumber(num, separator = ',') {\n  if (num === null || num === undefined || num === '') {\n    return '';\n  }\n\n  const numStr = String(num);\n  const [integerPart, decimalPart] = numStr.split('.');\n\n  const formattedInteger = integerPart.replace(/\\B(?=(\\d{3})+(?!\\d))/g, separator);\n\n  return decimalPart ? `${formattedInteger}.${decimalPart}` : formattedInteger;\n}\n\n/**\n * \n *\n * @param {number} num -  (0-1  0-100)\n * @param {number} [decimals=1] - \n * @param {boolean} [isPercent=false] - \n * @returns {string} \n */\nexport function formatPercentage(num, decimals = 1, isPercent = false) {\n  if (num === null || num === undefined || isNaN(num)) {\n    return '0%';\n  }\n\n  const value = isPercent ? num : num * 100;\n  return `${value.toFixed(decimals)}%`;\n}\n\n// =================================================================================\n//   (Date & Time Utilities)\n// =================================================================================\n\n/**\n * \n *\n * @param {Date|string|number} date - \n * @param {string} [format='YYYY-MM-DD'] - \n * @returns {string} \n */\nexport function formatDate(date, format = 'YYYY-MM-DD') {\n  if (!date) return '';\n\n  const d = new Date(date);\n  if (isNaN(d.getTime())) return '';\n\n  const year = d.getFullYear();\n  const month = String(d.getMonth() + 1).padStart(2, '0');\n  const day = String(d.getDate()).padStart(2, '0');\n  const hours = String(d.getHours()).padStart(2, '0');\n  const minutes = String(d.getMinutes()).padStart(2, '0');\n  const seconds = String(d.getSeconds()).padStart(2, '0');\n\n  return format\n    .replace('YYYY', year)\n    .replace('MM', month)\n    .replace('DD', day)\n    .replace('HH', hours)\n    .replace('mm', minutes)\n    .replace('ss', seconds);\n}\n\n/**\n * \n *\n * @param {Date|string} startDate - \n * @param {Date|string} endDate - \n * @returns {number} \n */\nexport function daysDifference(startDate, endDate) {\n  const start = new Date(startDate);\n  const end = new Date(endDate);\n  const timeDiff = end.getTime() - start.getTime();\n  return Math.ceil(timeDiff / (1000 * 60 * 60 * 24));\n}\n\n// =================================================================================\n//  UI  (UI Utilities)\n// =================================================================================\n\n/**\n *  ID\n *\n * @param {string} [prefix=''] - ID \n * @param {number} [length=8] - \n * @returns {string}  ID\n */\nexport function generateId(prefix = '', length = 8) {\n  const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  let result = '';\n  for (let i = 0; i < length; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length));\n  }\n  return prefix + result;\n}\n\n/**\n *  JSON\n *\n * @param {string} jsonString - JSON \n * @param {any} [defaultValue=null] - \n * @returns {any} \n */\nexport function safeJsonParse(jsonString, defaultValue = null) {\n  try {\n    return JSON.parse(jsonString);\n  } catch (error) {\n    console.warn(' JSON :', error.message);\n    return defaultValue;\n  }\n}\n\n/**\n *  URL \n *\n * @param {Object} params - \n * @returns {string} URL \n */\nexport function objectToUrlParams(params) {\n  return Object.entries(params)\n    .filter(([, value]) => value !== null && value !== undefined && value !== '')\n    .map(([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`)\n    .join('&');\n}\n\n/**\n * null, undefined, '', [], {}\n *\n * @param {any} value - \n * @returns {boolean} \n */\nexport function isEmpty(value) {\n  if (value === null || value === undefined || value === '') {\n    return true;\n  }\n\n  if (Array.isArray(value)) {\n    return value.length === 0;\n  }\n\n  if (typeof value === 'object') {\n    return Object.keys(value).length === 0;\n  }\n\n  return false;\n}\n\n// =================================================================================\n//   (Geospatial Utilities)\n// =================================================================================\n\n/**\n *  Haversine \n *\n * @param {number} lat1 - \n * @param {number} lng1 - \n * @param {number} lat2 - \n * @param {number} lng2 - \n * @returns {number} \n */\nexport function calculateDistance(lat1, lng1, lat2, lng2) {\n  const R = 6371000; // \n  const dLat = toRadians(lat2 - lat1);\n  const dLng = toRadians(lng2 - lng1);\n\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\n\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n  return R * c;\n}\n\n/**\n * \n *\n * @param {number} degrees - \n * @returns {number} \n */\nexport function toRadians(degrees) {\n  return degrees * (Math.PI / 180);\n}\n\n/**\n * \n *\n * @param {number} radians - \n * @returns {number} \n */\nexport function toDegrees(radians) {\n  return radians * (180 / Math.PI);\n}\n\n/**\n * \n *\n * @param {number} meters - \n * @param {number} [decimals=1] - \n * @returns {string} \n */\nexport function formatDistance(meters, decimals = 1) {\n  if (meters < 1000) {\n    return `${Math.round(meters)} `;\n  } else {\n    return `${(meters / 1000).toFixed(decimals)} `;\n  }\n}\n\n// =================================================================================\n//   (Data Validation Utilities)\n// =================================================================================\n\n/**\n * \n *\n * @param {number} lat - \n * @param {number} lng - \n * @returns {boolean} \n */\nexport function isValidCoordinate(lat, lng) {\n  return (\n    typeof lat === 'number' &&\n    typeof lng === 'number' &&\n    lat >= -90 &&\n    lat <= 90 &&\n    lng >= -180 &&\n    lng <= 180 &&\n    !isNaN(lat) &&\n    !isNaN(lng)\n  );\n}\n\n/**\n * \n *\n * @param {string} email - \n * @returns {boolean} \n */\nexport function isValidEmail(email) {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\n\n/**\n * \n *\n * @param {string} url - \n * @returns {boolean} \n */\nexport function isValidUrl(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\n","<script>\n  /**\n   * DatePicker.vue\n   *\n   * Purpose:\n   * - Minimal calendar for selecting a 7-digit ROC date string (YYYMMDD).\n   * - Month navigation is disabled by design; fixed to 2025/07.\n   *\n   * Notes:\n   * - Non-functional documentation only; no behavior or layout changes.\n   */\n  import { ref, computed, watch, onMounted, onUnmounted } from 'vue';\n\n  export default {\n    name: 'DatePicker',\n\n    props: {\n      modelValue: {\n        type: String,\n        default: '',\n      },\n      placeholder: {\n        type: String,\n        default: '',\n      },\n    },\n\n    emits: ['update:modelValue', 'date-selected'],\n\n    setup(props, { emit }) {\n      // \n      const isOpen = ref(false);\n      const selectedDate = ref(props.modelValue || '');\n      //  2025  7 \n      const currentYear = ref(2025);\n      const currentMonth = ref(7);\n\n      // \n\n      const calendarDays = computed(() => {\n        const year = currentYear.value;\n        const month = currentMonth.value;\n        const firstDay = new Date(year, month - 1, 1).getDay();\n        const daysInMonth = new Date(year, month, 0).getDate();\n        const days = [];\n\n        // \n        for (let i = 0; i < firstDay; i++) {\n          days.push({ day: '', isCurrentMonth: false });\n        }\n\n        // \n        for (let day = 1; day <= daysInMonth; day++) {\n          const dateStr = formatDateTo7Digits(year, month, day);\n          days.push({\n            day,\n            isCurrentMonth: true,\n            isSelected: dateStr === selectedDate.value,\n            dateStr,\n          });\n        }\n\n        return days;\n      });\n\n      // \n      const formatDateTo7Digits = (year, month, day) => {\n        const republicanYear = (year - 1911).toString().padStart(3, '0'); // \n        const monthStr = month.toString().padStart(2, '0');\n        const dayStr = day.toString().padStart(2, '0');\n        return `${republicanYear}${monthStr}${dayStr}`;\n      };\n\n      const parse7DigitsDate = (dateStr) => {\n        if (dateStr.length === 7) {\n          const republicanYear = parseInt(dateStr.substring(0, 3));\n          const year = republicanYear + 1911; // \n          const month = parseInt(dateStr.substring(3, 5));\n          const day = parseInt(dateStr.substring(5, 7));\n          return { year, month, day };\n        }\n        return null;\n      };\n\n      const toggleCalendar = () => {\n        isOpen.value = !isOpen.value;\n        if (isOpen.value && selectedDate.value) {\n          const parsed = parse7DigitsDate(selectedDate.value);\n          if (parsed) {\n            currentYear.value = parsed.year;\n            currentMonth.value = parsed.month;\n          }\n        }\n      };\n\n      const selectDate = (day) => {\n        if (day.isCurrentMonth && day.day) {\n          const dateStr = formatDateTo7Digits(currentYear.value, currentMonth.value, day.day);\n          selectedDate.value = dateStr;\n          emit('update:modelValue', dateStr);\n          emit('date-selected', dateStr);\n          isOpen.value = false;\n        }\n      };\n\n      //  2025  7 \n      const previousMonth = () => {\n        // \n      };\n\n      const nextMonth = () => {\n        // \n      };\n\n      const closeCalendar = (event) => {\n        if (!event.target.closest('.date-picker-container')) {\n          isOpen.value = false;\n        }\n      };\n\n      // \n      watch(\n        () => props.modelValue,\n        (newValue) => {\n          selectedDate.value = newValue || '';\n        }\n      );\n\n      // \n      onMounted(() => {\n        document.addEventListener('click', closeCalendar);\n      });\n\n      onUnmounted(() => {\n        document.removeEventListener('click', closeCalendar);\n      });\n\n      return {\n        isOpen,\n        selectedDate,\n        currentYear,\n        currentMonth,\n        calendarDays,\n        toggleCalendar,\n        selectDate,\n        previousMonth,\n        nextMonth,\n      };\n    },\n  };\n</script>\n\n<template>\n  <div class=\"date-picker-container\">\n    <!--  -->\n    <div class=\"calendar-container bg-white border rounded shadow-sm p-2\">\n      <!--  -->\n      <div class=\"calendar-header d-flex justify-content-center align-items-center mb-2\">\n        <h6 class=\"mb-0 my-font-size-sm\">{{ currentYear }}{{ currentMonth }}</h6>\n      </div>\n\n      <!--  -->\n      <div class=\"calendar-weekdays d-flex mb-1\">\n        <div\n          v-for=\"day in ['', '', '', '', '', '', '']\"\n          :key=\"day\"\n          class=\"calendar-weekday text-center my-font-size-xs my-title-xs-gray\"\n          style=\"flex: 1; padding: 4px 2px\"\n        >\n          {{ day }}\n        </div>\n      </div>\n\n      <!--  -->\n      <div class=\"calendar-days\">\n        <div\n          v-for=\"(day, index) in calendarDays\"\n          :key=\"index\"\n          class=\"calendar-day text-center my-font-size-xs\"\n          :class=\"{\n            'text-muted': !day.isCurrentMonth,\n            'bg-primary text-white': day.isSelected,\n            'calendar-day-hover': day.isCurrentMonth && day.day,\n          }\"\n          @click=\"selectDate(day)\"\n        >\n          {{ day.day }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .calendar-days {\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    gap: 2px;\n  }\n\n  .calendar-day {\n    transition: all 0.2s ease;\n    min-height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    cursor: pointer;\n    padding: 4px;\n  }\n\n  .calendar-day-hover:hover {\n    background-color: var(--my-color-gray-100) !important;\n  }\n\n  .calendar-day.bg-primary {\n    background-color: var(--my-color-red) !important; /*  */\n    color: white !important;\n    font-weight: bold !important;\n    /* border: 2px solid var(--my-color-red-hover) !important;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important; */\n  }\n\n  .calendar-container {\n    min-width: 280px;\n  }\n\n  .calendar-weekdays {\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    gap: 2px;\n  }\n\n  .calendar-weekday {\n    min-height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 4px;\n  }\n</style>\n","import { render } from \"./DatePicker.vue?vue&type=template&id=3fddd1ae&scoped=true\"\nimport script from \"./DatePicker.vue?vue&type=script&lang=js\"\nexport * from \"./DatePicker.vue?vue&type=script&lang=js\"\n\nimport \"./DatePicker.vue?vue&type=style&index=0&id=3fddd1ae&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3fddd1ae\"]])\n\nexport default __exports__","import { render } from \"./DateLayersTab.vue?vue&type=template&id=5e6ac2c4&scoped=true\"\nimport script from \"./DateLayersTab.vue?vue&type=script&lang=js\"\nexport * from \"./DateLayersTab.vue?vue&type=script&lang=js\"\n\nimport \"./DateLayersTab.vue?vue&type=style&index=0&id=5e6ac2c4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5e6ac2c4\"]])\n\nexport default __exports__","<script>\n  /**\n   * ServerLayersTab.vue\n   *\n   * Purpose:\n   * - Service provider-based layer management\n   * - Lists layer groups and layers with visibility toggles\n   * - Hosts the service provider picker to load provider-specific date layers\n   *\n   * Notes:\n   * - Similar to DateLayersTab but filters by service provider instead of date\n   * - Shows all service dates for the selected service provider\n   */\n  import { computed, ref, onMounted } from 'vue';\n  import { useDataStore } from '@/stores/dataStore.js';\n  import { getIcon } from '../utils/utils.js';\n  import ServiceProviderPicker from '../components/ServiceProviderPicker.vue';\n\n  export default {\n    name: 'ServerLayersTab',\n\n    /**\n     *   (Component Registration)\n     * \n     */\n    components: {\n      ServiceProviderPicker,\n    },\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup() {\n      //   Pinia \n      const dataStore = useDataStore();\n\n      //  ref  DOM \n      const layerListRef = ref(null);\n\n      //  store \n      const layers = computed(() => dataStore.layers);\n\n      //   dataStore \n      const selectedServiceProvider = computed({\n        get: () => dataStore.selectedServiceProvider,\n        set: (value) => {\n          if (value) {\n            dataStore.setServiceProviderFilter(value);\n          } else {\n            dataStore.clearServiceProviderFilter();\n          }\n        },\n      });\n\n      /**\n       *  \n       *  store  action /\n       * @param {string} layerId -  ID\n       */\n      const toggleLayer = (layerId) => {\n        console.log(' ServerLayersTab: ', layerId);\n        dataStore.toggleLayerVisibility(layerId);\n      };\n\n      /**\n       *  \n       *  store  action /\n       * @param {string} groupName - \n       */\n      const toggleGroup = (groupName) => {\n        console.log(' ServerLayersTab: ', groupName);\n        dataStore.toggleGroupVisibility(groupName);\n      };\n\n      /**\n       *   (Get Layer Color)\n       * \n       * @param {Object} layer - \n       * @returns {string} CSS \n       */\n      const getLayerColor = (layer) => {\n        //  GeoJSON features \n        if (layer.layerId && layer.layerId.startsWith('service-date-') && layer.geoJsonData) {\n          const features = layer.geoJsonData.features || [];\n          if (features.length > 0) {\n            //  fillColor routeColor\n            const firstFeature = features[0];\n            if (firstFeature.properties) {\n              if (firstFeature.properties.fillColor) {\n                return `var(--my-color-${firstFeature.properties.fillColor})`;\n              } else if (firstFeature.properties.routeColor) {\n                return `var(--my-color-${firstFeature.properties.routeColor})`;\n              }\n            }\n          }\n        }\n\n        //  layer.colorName\n        return layer.colorName ? `var(--my-color-${layer.colorName})` : 'var(--my-color-gray-300)';\n      };\n\n      /**\n       *  \n       * @param {string} providerId -  ID\n       */\n      const handleProviderSelected = async (providerId) => {\n        console.log(' ServerLayersTab ID:', providerId);\n\n        //  right panel\n        dataStore.setSelectedFeature(null);\n\n        if (providerId) {\n          dataStore.setServiceProviderFilter(providerId);\n          // \n          console.log(' ');\n          await dataStore.loadServiceProviderDateLayers(providerId);\n        } else {\n          dataStore.clearServiceProviderFilter();\n          // \n          dataStore.clearServiceProviderDateLayers();\n        }\n      };\n\n      /**\n       *  \n       * \n       */\n      onMounted(async () => {\n        console.log(' ServerLayersTab ');\n        // \n        const providers = await dataStore.loadAvailableServiceProviders();\n\n        // \n        if (providers && providers.length > 0) {\n          const firstProvider = providers[0];\n          console.log(' :', firstProvider.id);\n          await handleProviderSelected(firstProvider.id);\n        }\n      });\n\n      //   <template> \n      return {\n        layers,\n        toggleLayer,\n        toggleGroup,\n        isGroupVisible: dataStore.isGroupVisible,\n        layerListRef,\n        getIcon,\n        getLayerColor,\n        //  \n        selectedServiceProvider,\n        handleProviderSelected,\n        isServiceProviderFilterActive: computed(() => dataStore.isServiceProviderFilterActive),\n      };\n    },\n  };\n</script>\n\n<template>\n  <div class=\"h-100 d-flex flex-column overflow-hidden my-bgcolor-gray-100\">\n    <div class=\"flex-grow-1 overflow-auto layer-list-container\" ref=\"layerListRef\">\n      <div class=\"mb-3\">\n        <!--   -->\n        <div class=\"p-3\">\n          <div class=\"mb-2\">\n            <div class=\"my-title-xs-gray mb-1\"></div>\n            <ServiceProviderPicker\n              v-model=\"selectedServiceProvider\"\n              @provider-selected=\"handleProviderSelected\"\n            />\n          </div>\n        </div>\n\n        <!--   -->\n        <div\n          v-for=\"group in layers.filter((g) => g.groupName === '')\"\n          :key=\"group.groupName\"\n          class=\"p-3\"\n        >\n          <div class=\"d-flex align-items-center pb-2\">\n            <div class=\"my-title-xs-gray\">\n              {{ group.groupName }}\n              <span v-if=\"group.groupLayers.length > 0\"> ({{ group.groupLayers.length }}) </span>\n            </div>\n            <!--  -  -->\n            <div\n              v-if=\"group.groupLayers.length > 0\"\n              class=\"d-flex align-items-center justify-content-center ms-auto\"\n            >\n              <input\n                type=\"checkbox\"\n                :id=\"'group-switch-' + group.groupName\"\n                :checked=\"isGroupVisible(group.groupName)\"\n                @change=\"toggleGroup(group.groupName)\"\n              />\n              <label\n                :for=\"'group-switch-' + group.groupName\"\n                :style=\"{\n                  '--layer-color': 'var(--my-color-green)',\n                }\"\n              ></label>\n            </div>\n          </div>\n\n          <!--   -->\n          <div v-for=\"layer in group.groupLayers\" :key=\"layer.layerId\" class=\"mb-1\">\n            <!--  -->\n            <div\n              class=\"btn rounded-0 border-0 d-flex shadow-sm my-bgcolor-white-hover p-0\"\n              @click=\"toggleLayer(layer.layerId)\"\n            >\n              <!--  -->\n              <div\n                class=\"d-flex\"\n                :style=\"{\n                  backgroundColor: getLayerColor(layer),\n                  minWidth: '6px',\n                }\"\n              ></div>\n              <div class=\"w-100\">\n                <div class=\"d-flex\">\n                  <!--  -->\n                  <div class=\"d-flex align-items-center text-start w-100 px-3 py-2\">\n                    <span class=\"my-content-sm-black\">\n                      {{ layer.layerName }}\n                      <span class=\"my-content-xs-gray ms-2\">\n                        {{ layer.summaryData?.totalCount }}\n                      </span>\n                    </span>\n                  </div>\n                  <!--  -->\n                  <div class=\"d-flex align-items-center justify-content-center px-3 py-2\">\n                    <input\n                      type=\"checkbox\"\n                      :id=\"'switch-' + layer.layerId\"\n                      :checked=\"layer.visible\"\n                      :disabled=\"layer.isLoading\"\n                      @change=\"toggleLayer(layer.layerId)\"\n                    />\n                    <label\n                      :for=\"'switch-' + layer.layerId\"\n                      :style=\"{\n                        '--layer-color': 'var(--my-color-green)',\n                      }\"\n                    ></label>\n                  </div>\n                </div>\n                <div v-if=\"layer.legendData && layer.visible\" class=\"px-3 pb-2\">\n                  <div\n                    v-for=\"data in layer.legendData\"\n                    :key=\"data.color\"\n                    class=\"d-flex align-items-center\"\n                  >\n                    <div\n                      style=\"min-width: 6px; min-height: 18px\"\n                      :style=\"{\n                        backgroundColor: data.color,\n                      }\"\n                    ></div>\n                    <div class=\"my-content-xs-black text-nowrap ms-2\">{{ data.label }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  /*   (Layer Toggle Switch Styles) */\n  /* https://www.tpisoftware.com/tpu/articleDetails/2744 */\n\n  input[type='checkbox'] {\n    height: 0;\n    width: 0;\n    visibility: hidden;\n  }\n\n  label {\n    cursor: pointer;\n    width: 28px;\n    height: 16px;\n    background: var(--my-color-gray-300);\n    display: block;\n    border-radius: 16px;\n    position: relative;\n    transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1); /*  */\n  }\n\n  label:after {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 12px;\n    height: 12px;\n    background: var(--my-color-white);\n    border-radius: 12px;\n    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1); /*  */\n  }\n\n  input:checked + label {\n    background: var(--layer-color, var(--my-color-green));\n  }\n\n  input:checked + label:after {\n    transform: translateX(12px);\n  }\n</style>\n","<script>\n  /**\n   * ServiceProviderPicker.vue\n   *\n   * Purpose:\n   * - Provides a dropdown selection interface for service providers\n   * - Loads and displays available service providers with statistics\n   * - Emits events when service provider is selected\n   *\n   * Features:\n   * - Auto-load service provider list on mount\n   * - Display provider ID and service date count\n   * - Reactive updates with data store\n   */\n  import { ref, onMounted, computed } from 'vue';\n  import { useDataStore } from '@/stores/dataStore.js';\n\n  export default {\n    name: 'ServiceProviderPicker',\n\n    /**\n     *   (Component Events)\n     */\n    emits: ['provider-selected'],\n\n    /**\n     *   (Component Setup)\n     */\n    setup(props, { emit }) {\n      //   Pinia \n      const dataStore = useDataStore();\n\n      //  \n      const isLoading = ref(false);\n      const error = ref(null);\n\n      //  \n      const selectedProvider = computed({\n        get: () => dataStore.selectedServiceProvider,\n        set: (value) => {\n          dataStore.setServiceProviderFilter(value);\n        },\n      });\n\n      const availableProviders = computed(() => dataStore.availableServiceProviders);\n\n      /**\n       *  \n       */\n      const loadProviders = async () => {\n        try {\n          isLoading.value = true;\n          error.value = null;\n          await dataStore.loadAvailableServiceProviders();\n        } catch (err) {\n          error.value = '';\n          console.error('ServiceProviderPicker: ', err);\n        } finally {\n          isLoading.value = false;\n        }\n      };\n\n      /**\n       *  \n       */\n      const handleProviderSelected = async (providerId) => {\n        if (providerId) {\n          dataStore.setServiceProviderFilter(providerId);\n          emit('provider-selected', providerId);\n        }\n      };\n\n      /**\n       *  \n       */\n      onMounted(async () => {\n        await loadProviders();\n      });\n\n      //  \n      return {\n        selectedProvider,\n        availableProviders,\n        isLoading,\n        error,\n        handleProviderSelected,\n        loadProviders,\n      };\n    },\n  };\n</script>\n\n<template>\n  <div class=\"service-provider-picker\">\n    <!--  -->\n    <div v-if=\"isLoading\" class=\"text-center py-2\">\n      <div class=\"spinner-border spinner-border-sm\" role=\"status\">\n        <span class=\"visually-hidden\">...</span>\n      </div>\n      <span class=\"ms-2 my-content-xs-gray\">...</span>\n    </div>\n\n    <!--  -->\n    <div v-else-if=\"error\" class=\"alert alert-warning py-2\" role=\"alert\">\n      <i class=\"fas fa-exclamation-triangle me-2\"></i>\n      {{ error }}\n      <button class=\"btn btn-sm btn-outline-warning ms-2\" @click=\"loadProviders\">\n        <i class=\"fas fa-redo\"></i> \n      </button>\n    </div>\n\n    <!--  -->\n    <div v-else>\n      <select\n        v-model=\"selectedProvider\"\n        @change=\"handleProviderSelected($event.target.value)\"\n        class=\"form-select form-select-sm px-3 py-2\"\n        :disabled=\"isLoading\"\n      >\n        <option v-for=\"provider in availableProviders\" :key=\"provider.id\" :value=\"provider.id\">\n          {{ provider.name }} ({{ provider.dateCount }})\n        </option>\n      </select>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .service-provider-picker .form-select {\n    border-radius: 0.375rem;\n    border: 1px solid var(--my-color-gray-300);\n    background-color: var(--my-color-white);\n    color: var(--my-color-black);\n    font-size: 0.875rem;\n  }\n\n  .service-provider-picker .form-select:focus {\n    border-color: var(--my-color-blue);\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n  }\n\n  .service-provider-picker .form-select:disabled {\n    background-color: var(--my-color-gray-100);\n    opacity: 0.6;\n  }\n\n  .spinner-border-sm {\n    width: 1rem;\n    height: 1rem;\n  }\n</style>\n","import { render } from \"./ServiceProviderPicker.vue?vue&type=template&id=dd2dfc9e&scoped=true\"\nimport script from \"./ServiceProviderPicker.vue?vue&type=script&lang=js\"\nexport * from \"./ServiceProviderPicker.vue?vue&type=script&lang=js\"\n\nimport \"./ServiceProviderPicker.vue?vue&type=style&index=0&id=dd2dfc9e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dd2dfc9e\"]])\n\nexport default __exports__","import { render } from \"./ServerLayersTab.vue?vue&type=template&id=03b2322c&scoped=true\"\nimport script from \"./ServerLayersTab.vue?vue&type=script&lang=js\"\nexport * from \"./ServerLayersTab.vue?vue&type=script&lang=js\"\n\nimport \"./ServerLayersTab.vue?vue&type=style&index=0&id=03b2322c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-03b2322c\"]])\n\nexport default __exports__","import { render } from \"./LeftView.vue?vue&type=template&id=172c070e\"\nimport script from \"./LeftView.vue?vue&type=script&lang=js\"\nexport * from \"./LeftView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\n  import PropertiesTab from '../tabs/PropertiesTab.vue';\n  import { useDataStore } from '../stores/dataStore';\n  import { computed, watch } from 'vue';\n\n  export default {\n    name: 'RightView',\n    components: {\n      PropertiesTab, // \n    },\n    props: {\n      /**   */\n      activeRightTab: {\n        type: String,\n        default: 'results',\n      },\n      /**   */\n      analysisList: {\n        type: Array,\n        default: () => [],\n      },\n      /**   ID */\n      selectedAnalysisId: {\n        type: [Number, String],\n        default: null,\n      },\n      /**   () */\n      rightViewWidth: {\n        type: Number,\n        default: 250,\n      },\n    },\n\n    /**\n     *   (Component Events)\n     * \n     */\n    emits: [\n      'update:activeRightTab', // \n      'select-analysis', // \n      'view-analysis', // \n      'delete-analysis', // \n      'highlight-feature', // \n      'show-service-point-detail', // \n    ],\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup(props) {\n      //   Pinia \n      const dataStore = useDataStore();\n\n      /**\n       *   (Calculate Active Analysis Count)\n       * \n       *\n       * @returns {number} \n       */\n      const getActiveAnalysisCount = () => {\n        return props.analysisList.filter((a) => a.status === '').length;\n      };\n\n      /**\n       *   (Watch Selected Feature Changes)\n       *  Pinia store  selectedFeature \n       */\n      watch(\n        () => dataStore.selectedFeature,\n        (newFeature) => {\n          console.log('RightView - selectedFeature changed:', {\n            newFeature: newFeature,\n            properties: newFeature?.properties,\n            store: dataStore,\n          });\n        },\n        { immediate: true }\n      ); // immediate: true \n\n      /**\n       *   (Selected Feature Computed Property)\n       *  Pinia store \n       * \n       */\n      const selectedFeatureComputed = computed(() => {\n        const feature = dataStore.selectedFeature;\n        console.log('RightView - Computing selectedFeature:', {\n          feature: feature,\n          properties: feature?.properties,\n        });\n        return feature;\n      });\n\n      //  \n      return {\n        getActiveAnalysisCount, // \n        selectedFeature: selectedFeatureComputed, // \n      };\n    },\n  };\n</script>\n\n<template>\n  <div class=\"my-right-panel h-100 d-flex flex-column overflow-hidden\">\n    <!--   -->\n    <div class=\"flex-grow-1 overflow-auto\">\n      <!--   -->\n      <div v-show=\"activeRightTab === 'properties'\" class=\"h-100\">\n        <PropertiesTab\n          @highlight-feature=\"$emit('highlight-feature', $event)\"\n          @show-service-point-detail=\"$emit('show-service-point-detail', $event)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped></style>\n","<script>\n  /**\n   * PropertiesTab.vue\n   *\n   * Purpose:\n   * - Displays details for the currently selected feature (layer meta, detail list, service info).\n   * - Shows analysis-in-range summaries when selecting analysis features.\n   *\n   * Notes:\n   * - Non-functional refactor: documentation added only; logic and UI remain unchanged.\n   */\n  import DetailItem from '../components/DetailItem.vue';\n  import { useDataStore } from '../stores/dataStore';\n  import { computed, ref } from 'vue';\n\n  export default {\n    name: 'PropertiesTab',\n\n    /**\n     *   (Component Registration)\n     * \n     */\n    components: {\n      DetailItem, // \n    },\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup() {\n      //   Pinia \n      const dataStore = useDataStore();\n\n      /**\n       *   (Selected Feature Computed Property)\n       *  Pinia store \n       * \n       */\n      const selectedFeature = computed(() => dataStore.selectedFeature);\n\n      const selectedLayer = computed(() => {\n        if (!selectedFeature.value?.properties?.layerId) {\n          return null;\n        }\n\n        const layerId = selectedFeature.value.properties.layerId;\n        const layer = dataStore.findLayerById(layerId);\n        return layer;\n      });\n\n      //  feature  fillColor/routeColor layer.colorName\n      const selectedLayerColor = computed(() => {\n        const layer = selectedLayer.value;\n        if (!layer) return 'var(--my-color-gray-300)';\n        if (\n          layer.geoJsonData &&\n          layer.geoJsonData.features &&\n          layer.geoJsonData.features.length > 0\n        ) {\n          const f =\n            layer.geoJsonData.features.find(\n              (ff) => ff.properties && (ff.properties.fillColor || ff.properties.routeColor)\n            ) || layer.geoJsonData.features[0];\n          const props = f.properties || {};\n          if (props.fillColor) return `var(--my-color-${props.fillColor})`;\n          if (props.routeColor) return `var(--my-color-${props.routeColor})`;\n        }\n        if (layer.colorName) return `var(--my-color-${layer.colorName})`;\n        return 'var(--my-color-gray-300)';\n      });\n\n      /**\n       *   (Layer Name Computed Property)\n       *  selectedFeature.properties.layerId  dataStore  layers \n       */\n      const layerName = computed(() => {\n        if (!selectedFeature.value?.properties?.layerId) {\n          return null;\n        }\n\n        const layerId = selectedFeature.value.properties.layerId;\n        const layer = dataStore.findLayerById(layerId);\n        return layer ? layer.layerName : layerId;\n      });\n\n      /**\n       *   (Service Provider Label Computed Property)\n       * \n       */\n      const serviceProviderLabel = computed(() => {\n        // \n        if (selectedServicePoint.value) {\n          const sp = selectedServicePoint.value;\n          if (sp.serviceProviderId) return sp.serviceProviderId;\n          if (sp['']) return sp[''];\n          if (sp.detail?.['']) return sp.detail[''];\n        }\n\n        //  bottom panel \n        if (selectedFeature.value?.properties) {\n          const props = selectedFeature.value.properties;\n\n          // \n          if (props.serviceProviderId) {\n            return props.serviceProviderId;\n          }\n\n          if (props.) {\n            return props.;\n          }\n\n          //  detail  detail \n          if (props.detail?.) {\n            return props.detail.;\n          }\n        }\n\n        //  left panel \n        if (dataStore.selectedServiceProvider) {\n          return dataStore.selectedServiceProvider;\n        }\n\n        //  tab  \"\"\n        if (dataStore.isDateFilterActive && !dataStore.isServiceProviderFilterActive) {\n          return '';\n        }\n\n        // \n        return '';\n      });\n\n      /**\n       *   (Service Date Label Computed Property)\n       * \n       */\n      const serviceDateLabel = computed(() => {\n        // \n        if (selectedServicePoint.value) {\n          const sp = selectedServicePoint.value;\n          if (sp.serviceDate) return sp.serviceDate;\n          if (sp['(7)']) return sp['(7)'];\n          if (sp.) return sp.;\n          if (sp.detail?.['(7)']) return sp.detail['(7)'];\n          if (sp.detail?.) return sp.detail.;\n        }\n\n        //  bottom panel \n        if (selectedFeature.value?.properties) {\n          const props = selectedFeature.value.properties;\n\n          // \n          if (props.serviceDate) {\n            return props.serviceDate;\n          }\n\n          if (props['(7)']) {\n            return props['(7)'];\n          }\n\n          //  detail  detail \n          if (props.detail?.['(7)']) {\n            return props.detail['(7)'];\n          }\n\n          // \n          if (props.) {\n            return props.;\n          }\n\n          if (props.detail?.) {\n            return props.detail.;\n          }\n        }\n\n        //  left panel \n        if (dataStore.selectedServiceDate) {\n          return dataStore.selectedServiceDate;\n        }\n\n        // \n        if (dataStore.isServiceProviderFilterActive) {\n          return '';\n        }\n\n        return '';\n      });\n\n      /**\n       *   (Label Order Based on Active Left Tab)\n       *  'date' \n       *  'server' \n       */\n      const firstLabel = computed(() => {\n        return dataStore.activeLeftTab === 'date' ? '' : '';\n      });\n\n      const secondLabel = computed(() => {\n        return dataStore.activeLeftTab === 'date' ? '' : '';\n      });\n\n      const firstValue = computed(() => {\n        return dataStore.activeLeftTab === 'date'\n          ? serviceDateLabel.value\n          : serviceProviderLabel.value;\n      });\n\n      const secondValue = computed(() => {\n        return dataStore.activeLeftTab === 'date'\n          ? serviceProviderLabel.value\n          : serviceDateLabel.value;\n      });\n\n      /**\n       *   (Has Properties Computed Property)\n       * \n       *\n       * @returns {boolean} \n       */\n      const hasProperties = computed(() => {\n        return (\n          !!selectedFeature.value?.properties?.propertyData &&\n          Object.keys(selectedFeature.value.properties.propertyData).length > 0\n        );\n      });\n\n      /**\n       *   (Is Analysis Layer Object)\n       * \n       */\n      const isAnalysisObject = computed(() => {\n        return selectedFeature.value?.properties?.layerId === 'analysis-layer';\n      });\n\n      // \n\n      /**\n       *   (Is Service Provider Object)\n       * \n       */\n      const isServiceProviderObject = computed(() => {\n        return selectedFeature.value?.properties?.type === 'service-provider';\n      });\n\n      /**\n       *   (Is Route Center Point Object)\n       * \n       */\n      const isRouteCenterPointObject = computed(() => {\n        return selectedFeature.value?.properties?.type === 'route-center-point-selected';\n      });\n\n      /**\n       *   (Is Service Items Object)\n       * \n       */\n      const isServiceItemsObject = computed(() => {\n        const selectedFeatureProps = selectedFeature.value?.properties;\n        const type = selectedFeatureProps?.type;\n        const serviceItems = selectedFeatureProps?.serviceItems;\n        const serviceItemsLength = serviceItems?.length;\n\n        const result =\n          type === 'service-items' && Array.isArray(serviceItems) && serviceItemsLength > 0;\n\n        return result;\n      });\n\n      /**\n       *   (Selected Service Point)\n       * \n       */\n      const selectedServicePoint = ref(null);\n\n      /**\n       *   (Select Service Point)\n       * \n       */\n      const selectServicePoint = (point) => {\n        selectedServicePoint.value = point;\n      };\n\n      // \n\n      /**\n       *   (Points In Range List)\n       * \n       */\n      const pointsInRange = computed(() => {\n        if (!isAnalysisObject.value) return [];\n        return selectedFeature.value?.properties?.pointsInRange || [];\n      });\n\n      /**\n       *   (Polygon In Range List)\n       * \n       */\n      const polygonInRange = computed(() => {\n        if (!isAnalysisObject.value) return [];\n        return selectedFeature.value?.properties?.polygonInRange || [];\n      });\n\n      /**\n       *   (All Objects In Range List)\n       * \n       */\n      const allObjectsInRange = computed(() => {\n        const points = pointsInRange.value.map((obj) => ({ ...obj, objectType: 'point' }));\n        const polygons = polygonInRange.value.map((obj) => ({ ...obj, objectType: 'polygon' }));\n        return [...points, ...polygons];\n      });\n\n      /**\n       *   (Layer Statistics)\n       * \n       */\n      const layerStats = computed(() => {\n        if (!isAnalysisObject.value) return {};\n        return selectedFeature.value?.properties?.layerStats || {};\n      });\n\n      /**\n       *   (Polygon Layer Statistics)\n       * \n       */\n      const polygonStats = computed(() => {\n        if (!isAnalysisObject.value) return {};\n        return selectedFeature.value?.properties?.polygonStats || {};\n      });\n\n      /**\n       *   (Combined Statistics)\n       * \n       */\n      const combinedStats = computed(() => {\n        const combined = { ...layerStats.value };\n        Object.entries(polygonStats.value).forEach(([layerName, count]) => {\n          const key = `${layerName} ()`;\n          combined[key] = count;\n        });\n        return combined;\n      });\n\n      /**\n       *   (Format Date Time)\n       *  ISO \n       * @param {string} isoString - ISO \n       * @returns {string} - \n       */\n      const formatDateTime = (isoString) => {\n        if (!isoString) return 'N/A';\n        try {\n          return new Date(isoString).toLocaleString('zh-TW');\n        } catch (error) {\n          console.warn(':', error);\n          return isoString;\n        }\n      };\n\n      //  \n      return {\n        selectedFeature, // \n        selectedLayer, // \n        selectedLayerColor, // \n        layerName, // \n        serviceProviderLabel, // \n        serviceDateLabel, // \n        firstLabel, // \n        secondLabel, // \n        firstValue, // \n        secondValue, // \n        hasProperties, // \n        isAnalysisObject, // \n        // \n        isServiceProviderObject, // \n        isServiceItemsObject, // \n        isRouteCenterPointObject, // \n        selectedServicePoint, // \n        selectServicePoint, // \n        pointsInRange, // \n        polygonInRange, // \n        allObjectsInRange, // \n        layerStats, // \n        polygonStats, // \n        combinedStats, // \n        formatDateTime, // \n        selectedServiceDate: computed(() => dataStore.selectedServiceDate), // \n      };\n    },\n\n    /**\n     *   (Component Methods)\n     * \n     */\n    methods: {\n      /**\n       *   (Format Property Label)\n       * \n       *\n       * @param {string} key - \n       * @returns {string} \n       */\n      formatLabel(key) {\n        // \n        const labelMap = {\n          PTVNAME: '',\n          : '',\n          name: '',\n          count: '',\n          area: '',\n          population: '',\n          density: '',\n          // \n          : '',\n          : '',\n          : '',\n          : '',\n          : '',\n          : '',\n          : '',\n          : '',\n          : '',\n        };\n        return labelMap[key] || key;\n      },\n\n      /**\n       *   (Format Property Value)\n       * \n       *\n       * @param {any} value - \n       * @returns {string} \n       */\n      formatValue(value) {\n        // \n        if (typeof value === 'number') {\n          return value.toLocaleString();\n        }\n        // \n        return value;\n      },\n    },\n  };\n</script>\n\n<template>\n  <div class=\"h-100 flex-grow-1 d-flex flex-column my-bgcolor-gray-200\">\n    <!--  -->\n    <div v-if=\"selectedFeature\" class=\"my-bgcolor-white h-100\">\n      <div>\n        <div\n          v-if=\"selectedLayer\"\n          :style=\"{\n            backgroundColor: selectedLayerColor,\n            minHeight: '4px',\n          }\"\n        ></div>\n\n        <div class=\"p-3\">\n          <DetailItem :label=\"firstLabel\" :value=\"firstValue\" />\n          <DetailItem :label=\"secondLabel\" :value=\"secondValue\" />\n          <template v-if=\"hasProperties\">\n            <DetailItem\n              v-for=\"(value, key) in selectedFeature.properties.propertyData\"\n              :key=\"key\"\n              :label=\"formatLabel(key)\"\n              :value=\"formatValue(value)\"\n            />\n          </template>\n\n          <!--   -->\n          <template\n            v-if=\"isAnalysisObject && (pointsInRange.length > 0 || polygonInRange.length > 0)\"\n          >\n            <!--   -->\n            <template v-if=\"pointsInRange.length > 0\">\n              <hr class=\"my-3\" />\n\n              <div class=\"my-title-xs-gray mb-3\"> {{ pointsInRange.length }}</div>\n              <DetailItem\n                v-for=\"(point, index) in pointsInRange\"\n                :key=\"index\"\n                :label=\"point.properties.layerName\"\n                :value=\"`${point.properties.name} (${point.distance}m)`\"\n              />\n            </template>\n\n            <!--   -->\n            <template v-if=\"polygonInRange.length > 0\">\n              <hr class=\"my-3\" />\n\n              <div class=\"my-title-xs-gray mb-3\"> {{ polygonInRange.length }}</div>\n              <DetailItem\n                v-for=\"(polygon, index) in polygonInRange\"\n                :key=\"index\"\n                :label=\"polygon.properties.layerName\"\n                :value=\"polygon.properties.name\"\n              />\n            </template>\n          </template>\n\n          <!--   -->\n          <template v-if=\"isServiceProviderObject && selectedFeature.properties.allServicePoints\">\n            <hr class=\"my-3\" />\n\n            <!--  -->\n            <div class=\"my-title-xs-gray mb-3\"></div>\n            <DetailItem label=\"\" :value=\"serviceProviderLabel\" />\n            <DetailItem label=\"\" :value=\"serviceDateLabel || ''\" />\n            <DetailItem\n              label=\"\"\n              :value=\"`${selectedFeature.properties.allServicePoints.length} `\"\n            />\n\n            <!--  -->\n            <template v-if=\"selectedFeature.properties.allServicePoints.length > 0\">\n              <hr class=\"my-3\" />\n              <div class=\"my-title-xs-gray mb-3\">\n                 ({{ selectedFeature.properties.allServicePoints.length }} )\n              </div>\n\n              <!--  -->\n              <div class=\"table-responsive\">\n                <table class=\"table table-sm table-hover\">\n                  <thead class=\"table-light\">\n                    <tr>\n                      <th style=\"width: 50px\"></th>\n                      <th style=\"width: 80px\"></th>\n                      <th style=\"width: 100px\"></th>\n                      <th></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr\n                      v-for=\"(point, index) in selectedFeature.properties.allServicePoints\"\n                      :key=\"index\"\n                      @click=\"selectServicePoint(point)\"\n                    >\n                      <td class=\"text-center\">\n                        <span class=\"badge bg-primary\">{{ point. }}</span>\n                      </td>\n                      <td class=\"fw-bold\">{{ point. }}</td>\n                      <td class=\"text-muted\">{{ point. }}</td>\n                      <td class=\"text-muted small\">{{ point. }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n\n              <!--  -->\n              <template v-if=\"selectedServicePoint\">\n                <hr class=\"my-3\" />\n                <div class=\"my-title-xs-gray mb-3\">\n                   - {{ selectedServicePoint. }}\n                </div>\n                <DetailItem label=\"\" :value=\"selectedServicePoint.\" />\n                <div class=\"pb-2\">\n                  <div class=\"my-title-xs-gray pb-1\"></div>\n                  <div class=\"my-content-sm-black pb-1\">\n                    <span\n                      :class=\"\n                        selectedServicePoint. === ''\n                          ? 'my-color-blue'\n                          : selectedServicePoint. === ''\n                            ? 'my-color-red'\n                            : ''\n                      \"\n                    >\n                      {{ selectedServicePoint.\n                      }}<template v-if=\"selectedServicePoint. === ''\"> (M)</template\n                      ><template v-else-if=\"selectedServicePoint. === ''\"> (F)</template>\n                    </span>\n                  </div>\n                </div>\n                <DetailItem\n                  label=\"\"\n                  :value=\"selectedServicePoint. || ''\"\n                />\n                <DetailItem label=\"\" :value=\"selectedServicePoint.\" />\n                <DetailItem\n                  label=\"\"\n                  :value=\"selectedServicePoint. || selectedServicePoint.\"\n                />\n              </template>\n            </template>\n          </template>\n\n          <!--   detail +  -->\n          <template v-if=\"isServiceItemsObject\">\n            <hr class=\"my-3\" />\n            <!--  -->\n            <div class=\"my-title-sm-black mb-2\"></div>\n            <div class=\"mb-3\">\n              <div v-if=\"selectedFeature.properties.detail\">\n                <DetailItem\n                  label=\"\"\n                  :value=\"selectedFeature.properties.detail. || ''\"\n                />\n                <div class=\"pb-2\">\n                  <div class=\"my-title-xs-gray pb-1\"></div>\n                  <div class=\"my-content-sm-black pb-1\">\n                    <span\n                      :class=\"\n                        selectedFeature.properties.detail. === ''\n                          ? 'my-color-blue'\n                          : selectedFeature.properties.detail. === ''\n                            ? 'my-color-red'\n                            : ''\n                      \"\n                    >\n                      {{ selectedFeature.properties.detail. || '' }}\n                      <template v-if=\"selectedFeature.properties.detail. === ''\">\n                        (M)</template\n                      ><template v-else-if=\"selectedFeature.properties.detail. === ''\">\n                        (F)</template\n                      >\n                    </span>\n                  </div>\n                </div>\n                <DetailItem\n                  label=\"\"\n                  :value=\"\n                    selectedFeature.properties[''] ||\n                    (Array.isArray(selectedFeature.properties.serviceItems)\n                      ? selectedFeature.properties.serviceItems[0]?.['']\n                      : null) ||\n                    (Array.isArray(selectedFeature.properties.service_items)\n                      ? selectedFeature.properties.service_items[0]?.['']\n                      : null) ||\n                    ''\n                  \"\n                />\n                <DetailItem\n                  label=\"\"\n                  :value=\"selectedFeature.properties.detail. || ''\"\n                />\n                <DetailItem\n                  label=\"\"\n                  :value=\"selectedFeature.properties.detail. || ''\"\n                />\n              </div>\n              <div v-else class=\"text-muted small\"> detail </div>\n\n              <div class=\"pb-2\">\n                <div class=\"my-title-xs-gray pb-1\">\n                   ({{ selectedFeature.properties.serviceItems.length }})\n                </div>\n\n                <div v-if=\"selectedFeature.properties.serviceItems.length > 0\" class=\"pb-1\">\n                  <div class=\"table-responsive\">\n                    <table class=\"table w-100 mb-0\">\n                      <thead class=\"sticky-top my-table-thead\">\n                        <tr class=\"text-center text-nowrap\">\n                          <th class=\"p-1\">\n                            <span class=\"my-title-xs-gray text-nowrap\"></span>\n                          </th>\n                          <th class=\"p-1\">\n                            <span class=\"my-title-xs-gray text-nowrap\"></span>\n                          </th>\n                          <th class=\"p-1\">\n                            <span class=\"my-title-xs-gray text-nowrap\"></span>\n                          </th>\n                          <th class=\"p-1\">\n                            <span class=\"my-title-xs-gray text-nowrap\"></span>\n                          </th>\n                          <!-- <th class=\"p-1\">\n                            <span class=\"my-title-xs-gray text-nowrap\">row_id</span>\n                          </th> -->\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr\n                          v-for=\"(item, index) in selectedFeature.properties.serviceItems\"\n                          :key=\"item.row_id || index\"\n                          class=\"text-center text-nowrap border-bottom\"\n                        >\n                          <td\n                            class=\"border-0 text-nowrap text-truncate p-0\"\n                            style=\"max-width: 80px\"\n                          >\n                            <div class=\"my-content-xs-black px-3 py-2\">\n                              {{ item. || 'N/A' }}\n                            </div>\n                          </td>\n                          <td\n                            class=\"border-0 text-nowrap text-truncate p-0\"\n                            style=\"max-width: 80px\"\n                          >\n                            <div class=\"my-content-xs-black px-3 py-2\">\n                              {{ item. || item.unitPrice || 'N/A' }}\n                            </div>\n                          </td>\n                          <td\n                            class=\"border-0 text-nowrap text-truncate p-0\"\n                            style=\"max-width: 80px\"\n                          >\n                            <div class=\"my-content-xs-black px-3 py-2\">\n                              {{\n                                `${item.hour_start || 'N/A'}:${(item.min_start || 0).toString().padStart(2, '0')} - ${item.hour_end || 'N/A'}:${(item.min_end || 0).toString().padStart(2, '0')}`\n                              }}\n                            </div>\n                          </td>\n                          <td\n                            class=\"border-0 text-nowrap text-truncate p-0\"\n                            style=\"max-width: 80px\"\n                          >\n                            <div class=\"my-content-xs-black px-3 py-2\">\n                              {{ (item.hour_total || 0) > 0 ? `${item.hour_total || 0}h` : ''\n                              }}{{ item.min_total || 0 }}m\n                            </div>\n                          </td>\n                          <!-- <td\n                            class=\"border-0 text-nowrap text-truncate p-0\"\n                            style=\"max-width: 80px\"\n                          >\n                            <div class=\"my-content-xs-black px-3 py-2\">\n                              {{ item.row_id || 'N/A' }}\n                            </div>\n                          </td> -->\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n                <div v-else class=\"text-muted\">\n                  <i class=\"fas fa-info-circle me-2\"></i>\n                  \n                </div>\n              </div>\n            </div>\n          </template>\n\n          <!--   -->\n          <template v-if=\"isRouteCenterPointObject\">\n            <hr class=\"my-3\" />\n            <div class=\"my-title-sm-black mb-3\"></div>\n            <DetailItem label=\"\" :value=\"serviceProviderLabel\" />\n            <DetailItem label=\"\" :value=\"serviceDateLabel || ''\" />\n            <DetailItem label=\"\" :value=\"selectedFeature.properties.centerIndex\" />\n            <DetailItem\n              label=\"\"\n              :value=\"selectedFeature.properties.?.toFixed(6) || ''\"\n            />\n            <DetailItem\n              label=\"\"\n              :value=\"selectedFeature.properties.?.toFixed(6) || ''\"\n            />\n\n            <hr class=\"my-2\" />\n            <div class=\"my-content-xs-gray\">\n              <div class=\"mb-1\">\n                <i class=\"fas fa-star me-2 text-warning\"></i>\n                \n              </div>\n              <div class=\"mb-1\">\n                <i class=\"fas fa-info-circle me-2 text-info\"></i>\n                \n              </div>\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n\n    <!--   -->\n    <div v-else class=\"flex-grow-1 d-flex align-items-center justify-content-center\">\n      <div class=\"text-center\">\n        <div class=\"my-title-md-gray p-3\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .my-table-thead {\n    border-bottom: 2px solid var(--my-color-gray-300) !important;\n  }\n</style>\n","<script>\n  export default {\n    name: 'DetailItem',\n    props: {\n      label: {\n        type: String,\n        required: true,\n      },\n      value: {\n        type: [String, Number, Boolean, Object],\n        required: true,\n      },\n    },\n  };\n</script>\n\n<template>\n  <div class=\"pb-2\">\n    <div class=\"my-title-xs-gray pb-1\">{{ label }}</div>\n    <div class=\"my-content-sm-black pb-1\">{{ value }}</div>\n  </div>\n</template>\n\n<style scoped>\n  /* Add any component-specific styles here if needed */\n  .lead {\n    word-wrap: break-word; /* Ensure long values wrap */\n  }\n\n  .my-resizer-middle {\n    background-color: white;\n    position: relative;\n    border-top: 1px solid var(--my-color-gray-200); /*  */\n    border-bottom: 1px solid var(--my-color-gray-200); /*  */\n  }\n</style>\n","import { render } from \"./DetailItem.vue?vue&type=template&id=0cd54acc&scoped=true\"\nimport script from \"./DetailItem.vue?vue&type=script&lang=js\"\nexport * from \"./DetailItem.vue?vue&type=script&lang=js\"\n\nimport \"./DetailItem.vue?vue&type=style&index=0&id=0cd54acc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0cd54acc\"]])\n\nexport default __exports__","import { render } from \"./PropertiesTab.vue?vue&type=template&id=59855172&scoped=true\"\nimport script from \"./PropertiesTab.vue?vue&type=script&lang=js\"\nexport * from \"./PropertiesTab.vue?vue&type=script&lang=js\"\n\nimport \"./PropertiesTab.vue?vue&type=style&index=0&id=59855172&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-59855172\"]])\n\nexport default __exports__","import { render } from \"./RightView.vue?vue&type=template&id=948a12aa\"\nimport script from \"./RightView.vue?vue&type=script&lang=js\"\nexport * from \"./RightView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\n  //  Vue Composition API \n  import { ref, watch, nextTick } from 'vue';\n  //  \n  import MapTab from '../tabs/MapTab.vue';\n  import DashboardTab from '../tabs/DashboardTab.vue';\n\n  export default {\n    name: 'UpperView',\n\n    /**\n     *   (Component Registration)\n     * \n     */\n    components: {\n      MapTab,\n      DashboardTab,\n    },\n\n    /**\n     *   (Component Props)\n     * \n     */\n    props: {\n      activeUpperTab: { type: String, default: 'map' },\n      mainPanelWidth: { type: Number, default: 60 },\n      contentHeight: { type: Number, default: 500 },\n      showTainanLayer: { type: Boolean, default: false },\n      selectedFilter: { type: String, default: '' },\n      zoomLevel: { type: Number, default: 11 },\n      isPanelDragging: { type: Boolean, default: false },\n      activeMarkers: { type: Number, default: 0 },\n    },\n\n    /**\n     *   (Component Events)\n     * \n     */\n    emits: [\n      'update:activeUpperTab', // \n      'update:zoomLevel', // \n      'update:currentCoords', // \n      'update:activeMarkers', // \n      'show-service-point-detail', // \n    ],\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup(props, { emit }) {\n      //   (Child Component References)\n      /**   */\n      const MapTab = ref(null);\n      /**   */\n      const DashboardTab = ref(null);\n      /**   () */\n      const dashboardContainerRef = ref(null);\n\n      /**\n       *   (Watch Dragging State and Tab Changes)\n       * \n       */\n      watch(\n        [() => props.isPanelDragging, () => props.activeUpperTab],\n        ([dragging, tab]) => {\n          nextTick(() => {\n            if (dashboardContainerRef.value) {\n              if (dragging && tab === 'dashboard') {\n                // \n                dashboardContainerRef.value.style.pointerEvents = 'none';\n                console.log('MainContent: Dashboard container pointer-events set to none');\n              } else {\n                // \n                dashboardContainerRef.value.style.pointerEvents = 'auto';\n                console.log(\n                  'MainContent: Dashboard container pointer-events set to auto (dragging:',\n                  dragging,\n                  ', tab:',\n                  tab,\n                  ')'\n                );\n              }\n            }\n          });\n        },\n        { immediate: true }\n      ); // immediate: true \n\n      /**\n       *   (Watch Tab Changes)\n       * \n       */\n      watch(\n        () => props.activeUpperTab,\n        (newTab, oldTab) => {\n          console.log(' UpperView: Tab changed from', oldTab, 'to', newTab);\n\n          //  v-show \n          if (newTab === 'map' && oldTab && oldTab !== 'map') {\n            nextTick(() => {\n              if (MapTab.value) {\n                console.log(' UpperView: Refreshing map size after showing map tab');\n                // \n                setTimeout(() => {\n                  if (MapTab.value && props.activeUpperTab === 'map') {\n                    MapTab.value.invalidateSize();\n                    console.log(' UpperView: Map size refreshed successfully');\n                  }\n                }, 100); // \n              }\n            });\n          }\n        }\n      );\n\n      /**\n       *   (Watch Panel Size Changes)\n       * \n       */\n      watch([() => props.mainPanelWidth, () => props.contentHeight], () => {\n        nextTick(() => {\n          if (props.activeUpperTab === 'map' && MapTab.value) {\n            //  \n            MapTab.value.invalidateSize();\n\n            // \n            setTimeout(() => {\n              if (MapTab.value) {\n                MapTab.value.invalidateSize();\n                console.log(' UpperView: Extra map size invalidation for responsive layout');\n              }\n            }, 200);\n          }\n          // Dashboard\n        });\n      });\n\n      /**\n       *   (Highlight Feature on Map)\n       * \n       *\n       * @param {Object} highlightData -  layerId  id \n       */\n      const highlightFeature = (highlightData) => {\n        console.log(' UpperView: highlightFeature called with data:', highlightData);\n\n        // \n        if (props.activeUpperTab !== 'map') {\n          emit('update:activeUpperTab', 'map');\n\n          // \n          nextTick(() => {\n            MapTab.value?.highlightFeature(highlightData);\n          });\n        } else {\n          // \n          MapTab.value?.highlightFeature(highlightData);\n        }\n      };\n\n      /**\n       *   (Reset Map View)\n       * \n       */\n      const resetView = () => {\n        if (props.activeUpperTab === 'map' && MapTab.value) {\n          MapTab.value.resetView();\n        }\n      };\n\n      /**\n       *   (Fit to Tainan Bounds)\n       * \n       */\n      const fitToTainanBounds = () => {\n        if (props.activeUpperTab === 'map' && MapTab.value) {\n          MapTab.value.fitToTainanBounds();\n        }\n      };\n\n      /**\n       *   (Manually Refresh Map Size)\n       * \n       */\n      const invalidateMapSize = () => {\n        if (props.activeUpperTab === 'map' && MapTab.value) {\n          MapTab.value.invalidateSize();\n        }\n      };\n\n      /**\n       *   (Retry Map Initialization)\n       * \n       */\n      const retryMapInitialization = () => {\n        if (props.activeUpperTab === 'map' && MapTab.value) {\n          MapTab.value.retryMapInitialization();\n        }\n      };\n\n      /**\n       *   (Get Map Initialization Status)\n       * \n       */\n      const getMapInitStatus = () => {\n        if (props.activeUpperTab === 'map' && MapTab.value) {\n          return MapTab.value.mapInitStatus;\n        }\n        return 'not-applicable';\n      };\n\n      return {\n        MapTab, // \n        DashboardTab, // \n        dashboardContainerRef, // \n        highlightFeature, // \n        resetView, // \n        fitToTainanBounds, // \n        invalidateMapSize, // \n        retryMapInitialization, // \n        getMapInitStatus, // \n      };\n    },\n  };\n</script>\n\n<template>\n  <div class=\"d-flex flex-column my-bgcolor-gray-200 h-100\">\n    <div class=\"flex-grow-1 overflow-hidden position-relative\">\n      <!--  -->\n      <div class=\"position-absolute top-0 start-0 m-3\" style=\"z-index: 1000\">\n        <div class=\"d-flex align-items-center rounded-pill shadow my-blur gap-1 p-2\">\n          <!--   (Map View Button) -->\n          <button\n            class=\"btn rounded-circle border-0 d-flex align-items-center justify-content-center my-btn-transparent my-font-size-xs\"\n            :class=\"{\n              'my-btn-blue': activeUpperTab === 'map',\n            }\"\n            @click=\"$emit('update:activeUpperTab', 'map')\"\n            style=\"width: 30px; height: 30px\"\n            title=\"\"\n          >\n            <i class=\"fas fa-map\"></i>\n          </button>\n          <!--   (Dashboard Button) -->\n          <button\n            class=\"btn rounded-circle border-0 d-flex align-items-center justify-content-center my-btn-transparent my-font-size-xs\"\n            :class=\"{\n              'my-btn-blue': activeUpperTab === 'dashboard',\n            }\"\n            @click=\"$emit('update:activeUpperTab', 'dashboard')\"\n            style=\"width: 30px; height: 30px\"\n            title=\"\"\n          >\n            <i class=\"fas fa-chart-bar\"></i>\n          </button>\n        </div>\n      </div>\n\n      <!-- -->\n      <div v-show=\"activeUpperTab === 'map'\" class=\"h-100\">\n        <MapTab\n          ref=\"MapTab\"\n          :showTainanLayer=\"showTainanLayer\"\n          :selectedFilter=\"selectedFilter\"\n          :zoomLevel=\"zoomLevel\"\n          :maxCount=\"maxCount\"\n          @update:zoomLevel=\"$emit('update:zoomLevel', $event)\"\n          @update:currentCoords=\"$emit('update:currentCoords', $event)\"\n          @update:activeMarkers=\"$emit('update:activeMarkers', $event)\"\n          @show-service-point-detail=\"$emit('show-service-point-detail', $event)\"\n        />\n      </div>\n\n      <!--  -->\n      <div\n        v-show=\"activeUpperTab === 'dashboard'\"\n        ref=\"dashboardContainerRef\"\n        class=\"h-100 overflow-auto pt-5\"\n      >\n        <!--   (Reserve Space for Navigation Buttons) -->\n        <div style=\"height: 40px\"></div>\n        <DashboardTab\n          ref=\"DashboardTab\"\n          :containerHeight=\"contentHeight\"\n          :isPanelDragging=\"isPanelDragging\"\n          :activeMarkers=\"activeMarkers\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped></style>\n","<script>\n  /**\n   * MapTab.vue\n   *\n   * Purpose:\n   * - Owns the Leaflet map lifecycle, rendering, interactions, and feature layers.\n   * - Binds popups for service routes and service points.\n   * - For maintainability, this file is organized into clearly labeled sections.\n   *\n   * Notes:\n   * - Do NOT change logic, UI, or data flows in this file during refactors.\n   * - Add comments and section headers only to improve readability.\n   * - Keep function names and signatures unchanged.\n   */\n  //  Vue Composition API  (Vue Composition API Imports)\n  import { ref, onMounted, onUnmounted, watch, nextTick, computed } from 'vue'; //  Vue 3  API\n  import L from 'leaflet'; //  Leaflet \n  import 'leaflet/dist/leaflet.css'; //  Leaflet \n  import { useDataStore } from '@/stores/dataStore.js'; // \n  import { useDefineStore } from '@/stores/defineStore.js'; // \n\n  //   Leaflet  (Fix Leaflet Default Icon Issues)\n  import icon from 'leaflet/dist/images/marker-icon.png'; // \n  import iconShadow from 'leaflet/dist/images/marker-shadow.png'; // \n  import iconRetina from 'leaflet/dist/images/marker-icon-2x.png'; // \n\n  //  URL  webpack \n  delete L.Icon.Default.prototype._getIconUrl;\n  //  Leaflet \n  L.Icon.Default.mergeOptions({\n    iconRetinaUrl: iconRetina, //  URL\n    iconUrl: icon, //  URL\n    shadowUrl: iconShadow, //  URL\n  });\n\n  export default {\n    name: 'MapTab', // \n\n    //   (Component Props Definition)\n    props: {\n      zoomLevel: { type: Number, default: 11 }, //  11\n      isPanelDragging: { type: Boolean, default: false }, //  false\n    },\n\n    //   (Component Events Definition)\n    emits: [\n      'update:zoomLevel',\n      'update:currentCoords',\n      'update:activeMarkers',\n      'show-service-point-detail',\n    ],\n\n    //   (Component Setup Function)\n    setup(props, { emit }) {\n      //   (Data Store Instance)\n      const dataStore = useDataStore(); //  Pinia \n      const mapStore = useDefineStore(); // \n\n      //   (Map Related Variables)\n      const mapContainer = ref(null); //  DOM \n      let mapInstance = null; //  ref \n      let currentTileLayer = null; // \n      let layerGroups = {}; // \n      // \n\n      //   (Context Menu Related Variables)\n      const contextMenu = ref(null); //  DOM \n      const showContextMenu = ref(false); // \n      const contextMenuPosition = ref({ x: 0, y: 0 }); // \n      const selectedAnalysisFeature = ref(null); // \n\n      //   (Map Control States)\n      const isMapReady = ref(false); // \n      /**   ID */\n      const mapContainerId = ref(`leaflet-map-${Math.random().toString(36).substr(2, 9)}`);\n\n      //   (Map View State Management)\n      let previousViewState = null; // \n\n      //  time_total \n\n      // =============================================================\n      // Popup Content Helpers\n      // =============================================================\n      //   popup \n      const createServicePointContent = (props) => {\n        // \n        const name = props. || props.name || '';\n        const gender = props. || props.gender || '';\n        const genderInitial = gender === '' ? 'M' : gender === '' ? 'F' : '';\n        const colorClass =\n          gender === '' ? 'my-color-blue' : gender === '' ? 'my-color-red' : '';\n        const nameWithGender = name && genderInitial ? `${name}(${genderInitial})` : name;\n\n        return `\n          <div>\n            <div class=\"pb-2\">\n              <div class=\"my-title-xs-gray pb-1\"></div>\n              <div class=\"my-content-sm-black pb-1\">${props. || props.id || 'N/A'}</div>\n            </div>\n            <div class=\"pb-2\">\n              <div class=\"my-title-xs-gray pb-1\"></div>\n              <div class=\"my-content-sm-black pb-1\"><span class=\"${colorClass}\">${nameWithGender || 'N/A'}</span></div>\n            </div>\n            <div class=\"pb-2\">\n              <div class=\"my-title-xs-gray pb-1\"></div>\n              <div class=\"my-content-sm-black pb-1\">${props. || props.address || 'N/A'}</div>\n            </div>\n          </div>`;\n      };\n\n      // =============================================================\n      // Computed Flags & Basic Utilities\n      // =============================================================\n      //   (Computed Property: Check if Any Layer is Visible)\n      const isAnyLayerVisible = computed(\n        () => dataStore.getAllLayers().some((l) => l.visible && l.geoJsonData) // \n      );\n\n      //   (Create Map Instance Function)\n      const createMap = () => {\n        console.log('[MapTab] createMap ');\n\n        // \n        if (!mapContainer.value) {\n          console.error('[MapTab] ');\n          return false;\n        }\n\n        // \n        if (mapInstance) {\n          console.warn('[MapTab] ');\n          return true;\n        }\n\n        // \n        const rect = mapContainer.value.getBoundingClientRect(); // \n        console.log('[MapTab] :', {\n          width: rect.width,\n          height: rect.height,\n          top: rect.top,\n          left: rect.left,\n          containerId: mapContainer.value.id,\n          containerClasses: mapContainer.value.className,\n        });\n\n        // \n        if (rect.width === 0 || rect.height === 0) {\n          console.error('[MapTab] ', {\n            width: rect.width,\n            height: rect.height,\n          });\n          return false;\n        }\n\n        //  Leaflet \n        if (typeof L === 'undefined') {\n          console.error('[MapTab] Leaflet ');\n          return false;\n        }\n\n        try {\n          console.log('[MapTab]  Leaflet ');\n\n          //  Leaflet  mapStore \n          mapInstance = L.map(mapContainer.value, {\n            center: mapStore.mapView.center, // \n            zoom: mapStore.mapView.zoom, // \n            zoomControl: false, // \n            attributionControl: false, // \n            fadeAnimation: true, // \n            zoomAnimation: true, // \n          });\n\n          console.log('[MapTab] Leaflet ');\n\n          // \n          mapInstance.on('zoomend', handleZoomEnd); // \n          mapInstance.on('moveend', handleMoveEnd); // \n\n          //  - \n          mapInstance.on('click', function (e) {\n            if (!e.originalEvent.target.closest('.leaflet-interactive')) {\n              // \n              console.log(' MapTab: ');\n              // \n              mapInstance.eachLayer((layer) => {\n                if (\n                  layer.options &&\n                  layer.options.icon &&\n                  (layer.options.icon.options?.className === 'first-service-point-marker' ||\n                    layer.options.icon.options?.className === 'highlight-service-point-marker')\n                ) {\n                  mapInstance.removeLayer(layer);\n                }\n              });\n              // \n              dataStore.setSelectedFeature(null);\n              resetAllLayerStyles();\n            }\n          });\n\n          //  popup  z-index\n          const popupPane = mapInstance.getPane('popupPane');\n          if (popupPane) {\n            popupPane.style.zIndex = 2200;\n          }\n\n          // \n          isMapReady.value = true; // \n\n          // \n          // \n\n          console.log('[MapTab] '); // \n          return true; // \n        } catch (error) {\n          console.error('[MapTab] :', error);\n\n          // \n          if (mapInstance) {\n            try {\n              mapInstance.remove();\n            } catch (cleanupError) {\n              console.warn('[MapTab] :', cleanupError);\n            }\n            mapInstance = null;\n          }\n\n          return false; // \n        }\n      };\n\n      //   (Map Event Handler Functions)\n\n      // \n      const handleZoomEnd = () => {\n        if (mapInstance) {\n          // \n          const zoom = mapInstance.getZoom();\n          const center = mapInstance.getCenter();\n          //  mapStore\n          mapStore.setMapView([center.lat, center.lng], zoom);\n          emit('update:zoomLevel', zoom); // \n        }\n      };\n\n      // \n      const handleMoveEnd = () => {\n        if (mapInstance) {\n          // \n          const center = mapInstance.getCenter();\n          const zoom = mapInstance.getZoom();\n          //  mapStore\n          mapStore.setMapView([center.lat, center.lng], zoom);\n          emit('update:currentCoords', center); // \n        }\n      };\n\n      //   (Set Basemap Function)\n      const setBasemap = () => {\n        // \n        if (!mapInstance || !isMapReady.value) return;\n\n        // \n        // \n        if (currentTileLayer) {\n          mapInstance.removeLayer(currentTileLayer);\n          currentTileLayer = null;\n        }\n\n        // \n        const config = mapStore.basemaps.find((b) => b.value === mapStore.selectedBasemap);\n\n        // (config) URL (falsy)\n        //  ''  falsy  url  '' \n        if (config && config.url) {\n          currentTileLayer = L.tileLayer(config.url, { attribution: '' });\n          currentTileLayer.addTo(mapInstance);\n        }\n\n        // \n        const mapContainerElement = mapContainer.value;\n        if (mapContainerElement) {\n          if (mapStore.selectedBasemap === 'blank') {\n            // \n            mapContainerElement.style.backgroundColor = 'var(--my-color-white)';\n          } else if (mapStore.selectedBasemap === 'black') {\n            // \n            mapContainerElement.style.backgroundColor = 'var(--my-color-gray-800)';\n          } else {\n            // \n            mapContainerElement.style.backgroundColor = 'transparent';\n          }\n        }\n      };\n\n      //   (Create Feature Layer Function)\n      const createFeatureLayer = (layer) => {\n        // \n        if (!layer.geoJsonData) return null;\n\n        // \n        const { layerName, colorName, type } = layer; // \n        const storeLayerId = layer.layerId; //  store  ID \n        const storeLayerName = layer.layerName; //  store \n\n        //  GeoJSON \n        const geoJsonLayer = L.geoJSON(layer.geoJsonData, {\n          // \n          pointToLayer: (feature, latlng) => {\n            // \n            if (layer.isAnalysisLayer) {\n              if (feature.properties.type === 'point-analysis') {\n                // \n                const icon = L.divIcon({\n                  html: `\n                  <div class=\"d-flex align-items-center justify-content-center my-color-green my-font-size-sm\">\n                    <i class=\"fas fa-plus\"></i>\n                  </div>\n                  `,\n                  className: 'analysis-point-icon',\n                  iconSize: [16, 16],\n                  iconAnchor: [8, 8],\n                  popupAnchor: [0, -8],\n                });\n                const marker = L.marker(latlng, { icon });\n\n                return marker;\n              } else if (feature.properties.type === 'circle-analysis') {\n                // 2\n                const circle = L.circle(latlng, {\n                  radius: feature.properties.radius,\n                  color: 'var(--my-color-green)',\n                  weight: 1,\n                  opacity: 0.8,\n                  fillColor: 'var(--my-color-green)',\n                  fillOpacity: 0.2,\n                });\n\n                return circle;\n              }\n            } else if (layer.isRoutePlanningLayer) {\n              if (feature.properties.type === 'route-planning-point') {\n                // \n                const order = feature.properties.order || 1;\n                const isCompleted = feature.properties.status === 'completed';\n\n                // \n                const backgroundColor = isCompleted\n                  ? 'var(--my-color-gray-500)'\n                  : 'var(--my-color-orange)';\n                const borderColor = isCompleted ? 'var(--my-color-gray-400)' : 'white';\n                const textColor = isCompleted\n                  ? 'var(--my-color-gray-200)'\n                  : 'var(--my-color-white)';\n\n                const icon = L.divIcon({\n                  html: `\n                  <div class=\"d-flex align-items-center justify-content-center my-font-size-xs fw-bold\"\n                       style=\"background: ${backgroundColor}; color: ${textColor}; border-radius: 50%; width: 20px; height: 20px; border: 2px solid ${borderColor}; box-shadow: 0 2px 4px rgba(0,0,0,0.3);\">\n                    ${order}\n                  </div>\n                  `,\n                  className: `route-planning-point-icon ${isCompleted ? 'completed' : 'active'}`,\n                  iconSize: [24, 24],\n                  iconAnchor: [12, 12],\n                  popupAnchor: [0, -12],\n                });\n                const marker = L.marker(latlng, { icon });\n\n                return marker;\n              }\n            } else if (layer.isRouteOptimizationLayer) {\n              if (feature.properties.type === 'optimization-point') {\n                // \n                const order = feature.properties.order || 1;\n                const isCompleted = feature.properties.status === 'completed';\n\n                // \n                const backgroundColor = isCompleted\n                  ? 'var(--my-color-gray-500)'\n                  : 'var(--my-color-purple)';\n                const borderColor = isCompleted ? 'var(--my-color-gray-400)' : 'white';\n                const textColor = isCompleted\n                  ? 'var(--my-color-gray-200)'\n                  : 'var(--my-color-white)';\n\n                const icon = L.divIcon({\n                  html: `\n                  <div class=\"d-flex align-items-center justify-content-center my-font-size-xs fw-bold\"\n                       style=\"background: ${backgroundColor}; color: ${textColor}; border-radius: 50%; width: 20px; height: 20px; border: 2px solid ${borderColor}; box-shadow: 0 2px 4px rgba(0,0,0,0.3);\">\n                    ${order}\n                  </div>\n                  `,\n                  className: `route-optimization-point-icon ${isCompleted ? 'completed' : 'active'}`,\n                  iconSize: [24, 24],\n                  iconAnchor: [12, 12],\n                  popupAnchor: [0, -12],\n                });\n                const marker = L.marker(latlng, { icon });\n\n                return marker;\n              }\n            } else if (type === 'point') {\n              // \n              // \n              if (feature.properties.type === 'route-center-point') {\n                // ============================================\n                // \n                // ============================================\n                // feature.propertieslayercolorName\n                let pointColor = `var(--my-color-${colorName})`; // layer\n\n                if (feature.properties.fillColor) {\n                  pointColor = `var(--my-color-${feature.properties.fillColor})`;\n                } else if (feature.properties.routeColor) {\n                  pointColor = `var(--my-color-${feature.properties.routeColor})`;\n                }\n\n                //  h/m\n                const trafficTimeLabel = (() => {\n                  const label = feature.properties.traffic_time_label;\n                  if (label) return label;\n                  const minutes = feature.properties.traffic_time_minutes;\n                  if (typeof minutes === 'number' && !isNaN(minutes)) {\n                    const hours = Math.floor(minutes / 60);\n                    const mins = minutes % 60;\n                    return hours > 0 ? `${hours}h${mins}m` : `${mins}m`;\n                  }\n                  return 'N/A';\n                })();\n\n                const icon = L.divIcon({\n                  html: `\n                  <div style=\"transform: translate(-50%, -50%); background: ${pointColor}; color: #fff; display: inline-block; padding: 2px 6px; font-weight: 700; line-height: 1; white-space: nowrap; border-radius: 8px; font-size: 12px;\">\n                    ${trafficTimeLabel}\n                  </div>\n                  `,\n                  className: 'route-center-point-icon',\n                  iconAnchor: [0, 0],\n                  popupAnchor: [0, -10],\n                });\n\n                const marker = L.marker(latlng, { icon });\n\n                //  hover tooltip hover \n\n                return marker;\n              } else if (feature.properties.routeOrder) {\n                // ============================================\n                //  time_total \n                // ============================================\n                const routeOrder = feature.properties.routeOrder; // \n                const timeTotal = feature.properties.time_total || 0; // \n\n                // ============================================\n                // 1 = 10px  10px  \n                // ============================================\n                // \n                // - A =   r\n                // - r = (A/)\n                // - d = 2r\n                // - 1 =   10 = 314.16 \n                const timeInHours = timeTotal / 60; // \n                const areaPerHour = Math.PI * 10 * 10; // \n                const totalArea = timeInHours * areaPerHour; //  =   \n                const radius = Math.sqrt(totalArea / Math.PI); // \n                const size = Math.max(radius * 2, 20); //  20px \n                const fontSize = 12; //  12px\n\n                // \n                console.log(\n                  ` Service Point ${routeOrder}: time_total=${timeTotal}min (${timeInHours.toFixed(2)}h), area=${totalArea.toFixed(1)}px, radius=${radius.toFixed(1)}px, size=${size.toFixed(1)}px`\n                );\n\n                // feature.propertieslayercolorName\n                let pointColor = `var(--my-color-${colorName})`; // layer\n\n                if (feature.properties.fillColor) {\n                  // fillColorCSS\n                  pointColor = `var(--my-color-${feature.properties.fillColor})`;\n                } else if (feature.properties.routeColor) {\n                  // routeColor\n                  pointColor = `var(--my-color-${feature.properties.routeColor})`;\n                }\n\n                const icon = L.divIcon({\n                  html: `\n                  <div class=\"d-flex align-items-center justify-content-center fw-bold\"\n                       style=\"background: ${pointColor}; color: white; border-radius: 50%; width: ${size}px; height: ${size}px; font-size: ${fontSize}px; box-shadow: 0 2px 4px rgba(0,0,0,0.3);\">\n                    ${routeOrder}\n                  </div>\n                  `,\n                  className: 'service-route-point-icon',\n                  iconSize: [size, size],\n                  iconAnchor: [size / 2, size / 2],\n                  popupAnchor: [0, -size / 2],\n                });\n\n                const marker = L.marker(latlng, { icon });\n\n                //  tooltip  hover tooltip\n\n                return marker;\n              } else {\n                // \n                // feature.propertieslayercolorName\n                let pointColor = `var(--my-color-${colorName})`; // layer\n\n                if (feature.properties.fillColor) {\n                  // fillColorCSS\n                  pointColor = `var(--my-color-${feature.properties.fillColor})`;\n                } else if (feature.properties.routeColor) {\n                  // routeColor\n                  pointColor = `var(--my-color-${feature.properties.routeColor})`;\n                }\n                const icon = L.divIcon({\n                  html: `<div\n                  class=\"rounded-circle\"\n                  style=\"\n                     background-color: ${pointColor};\n                     width: 8px;\n                     height: 8px;\n                   \">\n                   </div>`, // HTML \n                  className: '', //  CSS \n                  iconSize: [8, 8], // \n                  iconAnchor: [4, 4], // \n                  popupAnchor: [0, -4], // \n                });\n                return L.marker(latlng, { icon }); // \n              }\n            }\n            return null; //  null\n          },\n          // \n          style: (feature) => {\n            // \n            if (feature.properties.layerName && feature.properties.layerName.includes('')) {\n              // routeColorstrokeColor\n              let routeColor = 'var(--my-color-orange)'; // \n\n              if (feature.properties.routeColor) {\n                // routeColorCSS\n                routeColor = `var(--my-color-${feature.properties.routeColor})`;\n              } else if (feature.properties.strokeColor) {\n                // strokeColorCSS\n                routeColor = `var(--my-color-${feature.properties.strokeColor})`;\n              }\n\n              return {\n                color: routeColor,\n                weight: feature.properties.strokeWidth || 3, // \n                opacity: feature.properties.strokeOpacity || 0.8, // \n                lineCap: 'round', // \n                lineJoin: 'round', // \n                dashArray: null, // \n              };\n            }\n            // \n            if (layer.isRoutePlanningLayer && feature.properties.type === 'route-line') {\n              // \n              const routeColor =\n                feature.properties.routeColor || feature.properties.strokeColor || 'orange';\n              return {\n                color: routeColor.startsWith('--my-color-')\n                  ? routeColor\n                  : `var(--my-color-${routeColor})`,\n                weight: 4, // \n                opacity: 0.8, // \n                lineCap: 'round', // \n                lineJoin: 'round', // \n                dashArray: null, // \n              };\n            }\n            // \n            if (\n              layer.isRouteOptimizationLayer &&\n              feature.properties.type === 'optimized-route-line'\n            ) {\n              // \n              const routeColor = feature.properties.routeColor || 'purple'; //  purple\n              return {\n                color: `var(--my-color-${routeColor})`, // \n                weight: 4, // \n                opacity: 0.8, // \n                lineCap: 'round', // \n                lineJoin: 'round', // \n                dashArray: null, // \n              };\n            }\n            // polygon\n            if (layer.type == 'polygon') {\n              //if (feature.properties.fillColor) {\n              return {\n                fillColor: feature.properties.fillColor, // \n                weight: 1, // \n                opacity: 1, // \n                color: feature.properties.color || 'white', // \n                fillOpacity: feature.properties.fillColor ? 0.6 : 0, // \n              };\n            }\n          },\n          // \n          onEachFeature: (feature, layer) => {\n            //  HTML\n            // const properties = Object.entries(feature.properties.popupData) // \n            //   .map(\n            //     ([key, value]) =>\n            //       `<div class=\"pb-2\">\n            //          <div class=\"my-title-xs-gray pb-1\">${key}</div>\n            //          <div class=\"my-content-sm-black pb-1\">${value}</div>\n            //        </div>` // \n            //   )\n            //   .join(''); // \n\n            // \n            // layer.bindPopup(`\n            //   <div class=\"p-2\">\n            //     <div class=\"my-title-sm-gray pb-2\">${layerName}</div>\n            //     ${properties}\n            //   </div>\n            // `);\n\n            //  popup \n            if (layer.isAnalysisLayer) {\n              layer.bindPopup(\n                `\n                <div class=\"\">\n                  <div class=\"my-title-xs-gray pb-2\">${layerName}</div>\n                  <div class=\"my-content-sm-black\">${feature.properties.name}</div>\n                </div>\n              `,\n                {\n                  className: 'analysis-popup',\n                  offset: [0, -5], // \n                  closeButton: true,\n                  autoClose: false,\n                  closeOnClick: false,\n                }\n              );\n            } else if (\n              feature.properties.layerName &&\n              feature.properties.layerName.includes('')\n            ) {\n              // \n              layer.bindPopup(\n                `\n                  <div class=\"\">\n                    <div class=\"my-title-xs-gray pb-2\">${feature.properties.layerName}</div>\n                    <div class=\"my-content-sm-black\">${feature.properties.name}</div>\n                    <div class=\"my-content-xs-gray pt-1\">: ${feature.properties.serviceProviderId}</div>\n                    <div class=\"my-content-xs-gray\">: ${dataStore.selectedServiceDate || ''}</div>\n                    <div class=\"my-content-xs-gray\">: ${feature.properties.pointCount} </div>\n                  </div>\n                `,\n                {\n                  className: 'service-route-popup',\n                  offset: [0, -5],\n                  closeButton: true,\n                  autoClose: false,\n                  closeOnClick: false,\n                }\n              );\n            } else if (layer.isRoutePlanningLayer) {\n              // \n              if (feature.properties.type === 'route-planning-point') {\n                // \n                const isCompleted = feature.properties.status === 'completed';\n                const popupContent = isCompleted\n                  ? `\n                  <div class=\"\">\n                    <div class=\"my-title-xs-gray pb-2\">${layerName}</div>\n                    <div class=\"my-content-sm-black\">${feature.properties.name}</div>\n                    <div class=\"my-content-xs-gray pt-1\">: ${feature.properties.order}</div>\n                    <div class=\"my-content-xs-gray\">:  ${feature.properties.routeNumber}</div>\n                    <div class=\"my-content-xs-gray\">: </div>\n                  </div>\n                `\n                  : `\n                  <div class=\"\">\n                    <div class=\"my-title-xs-gray pb-2\">${layerName}</div>\n                    <div class=\"my-content-sm-black\">${feature.properties.name}</div>\n                    <div class=\"my-content-xs-gray pt-1\">: ${feature.properties.order}</div>\n                    <div class=\"my-content-xs-gray\">: </div>\n                  </div>\n                `;\n\n                layer.bindPopup(popupContent, {\n                  className: `route-planning-popup ${isCompleted ? 'completed' : 'active'}`,\n                  offset: [0, -5],\n                  closeButton: true,\n                  autoClose: false,\n                  closeOnClick: false,\n                });\n              } else if (feature.properties.type === 'route-line') {\n                // \n                layer.bindPopup(\n                  `\n                  <div class=\"\">\n                    <div class=\"my-title-xs-gray pb-2\">${layerName}</div>\n                    <div class=\"my-content-sm-black\">${feature.properties.name}</div>\n                    <div class=\"my-content-xs-gray pt-1\">: ${feature.properties.distance} km</div>\n                    <div class=\"my-content-xs-gray\">: ${feature.properties.duration} m</div>\n                    <div class=\"my-content-xs-gray\">: ${feature.properties.waypoints}</div>\n                  </div>\n                `,\n                  {\n                    className: 'route-planning-popup route-line-popup',\n                    offset: [0, -5],\n                    closeButton: true,\n                    autoClose: false,\n                    closeOnClick: false,\n                  }\n                );\n              }\n            } else {\n              // \n              if (feature.properties.routeOrder && feature.properties.propertyData) {\n                // \n                const popupContent = createServicePointContent(feature.properties);\n                layer.bindPopup(popupContent, {\n                  className: 'service-point-popup',\n                  offset: [0, -5],\n                  closeButton: true,\n                  autoClose: true,\n                  closeOnClick: true,\n                });\n              } else {\n                // \n                layer.bindPopup(`\n                  <div class=\"\">\n                    <div class=\"my-title-xs-gray pb-2\">${layerName}</div>\n                    <div class=\"my-content-sm-black\">${feature.properties.name}</div>\n                  </div>\n                `);\n              }\n            }\n\n            //  -  highlight  tooltip \n            layer.on({\n              //  -  highlight \n              // \n              click: function () {\n                // \n\n                // \n\n                // \n                if (\n                  (layer.isAnalysisLayer || feature.properties.layerId === 'analysis-layer') &&\n                  feature.properties.type === 'point-analysis'\n                ) {\n                  return;\n                }\n\n                //  popup\n                if (feature.properties.routeOrder && feature.properties.propertyData) {\n                  //  popuppopup\n                  mapInstance.closePopup();\n\n                  //  popup\n                  if (this.openPopup) {\n                    this.openPopup();\n                  }\n                  return;\n                }\n\n                // \n                if (feature.properties.type === 'route-center-point') {\n                  // \n                  dataStore.setSelectedFeature(null);\n                  resetAllLayerStyles();\n\n                  // \n                  const routeCenterFeature = {\n                    type: 'Feature',\n                    properties: {\n                      ...feature.properties,\n                      type: 'route-center-point-selected',\n                    },\n                  };\n\n                  // dataStore\n                  dataStore.setSelectedFeature(routeCenterFeature);\n\n                  //  - \n\n                  return;\n                }\n\n                //  feature.properties.layerId \n                const isServiceProviderLayer =\n                  storeLayerId && String(storeLayerId).startsWith('service-provider-');\n\n                // \n                const isSameFeature =\n                  dataStore.selectedFeature &&\n                  dataStore.selectedFeature.properties &&\n                  dataStore.selectedFeature.properties.id === feature.properties.id;\n\n                if (isSameFeature) {\n                  // \n                  console.log(' MapTab: ');\n                  dataStore.setSelectedFeature(null);\n                  resetAllLayerStyles();\n                  showFullCity();\n                  return;\n                }\n\n                if (\n                  isServiceProviderLayer ||\n                  (feature.properties?.service_items &&\n                    Array.isArray(feature.properties.service_items) &&\n                    feature.properties.service_items.length > 0)\n                ) {\n                  console.log(' MapTab: ');\n                  console.log(' MapTab: feature.properties:', feature.properties);\n                  console.log(' MapTab: layer (from store layer):', {\n                    layerId: storeLayerId,\n                    layerName: storeLayerName,\n                  });\n\n                  // \n                  dataStore.setSelectedFeature(null);\n                  resetAllLayerStyles();\n\n                  // \n                  const storeLayer = dataStore.findLayerById(storeLayerId) ||\n                    dataStore.findLayerById(feature.properties.layerId) || {\n                      layerId: storeLayerId,\n                      layerName: storeLayerName,\n                    };\n\n                  console.log(' MapTab: storeLayer:', storeLayer);\n\n                  // \n                  this._originalStyle = {\n                    weight: this.options?.weight,\n                    color: this.options?.color,\n                    fillOpacity: this.options?.fillOpacity,\n                  };\n\n                  // \n\n                  // \n                  if (this.bringToFront) {\n                    this.bringToFront();\n                  }\n\n                  // \n                  try {\n                    const { serviceItemsData } = dataStore.createServiceItemsData(\n                      feature,\n                      storeLayer\n                    );\n\n                    console.log(' MapTab:  serviceItemsData:', serviceItemsData);\n                    console.log(\n                      ' MapTab: serviceItems:',\n                      serviceItemsData.serviceItems?.length || 0\n                    );\n\n                    // \n                    const serviceItemsFeature = {\n                      type: 'Feature',\n                      properties: {\n                        ...serviceItemsData.servicePoint,\n                        serviceItems: serviceItemsData.serviceItems,\n                        servicePointInfo: serviceItemsData.servicePointInfo,\n                        id: feature.properties.id,\n                        type: 'service-items', // service-items\n                        layerId: storeLayerId,\n                        layerName: storeLayerName,\n                      },\n                    };\n\n                    console.log(' MapTab:  serviceItemsFeature:', serviceItemsFeature);\n\n                    // dataStore\n                    dataStore.setSelectedFeature(serviceItemsFeature);\n                    console.log(' MapTab:  selectedFeature  dataStore');\n\n                    // \n                    emit('show-service-point-detail', serviceItemsData);\n                    console.log(' MapTab:  show-service-point-detail ');\n\n                    //  popup  - \n                    console.log(' MapTab:  popup');\n                  } catch (error) {\n                    console.error(' MapTab: :', error);\n\n                    // \n                    const basicFeature = {\n                      type: 'Feature',\n                      properties: {\n                        ...feature.properties,\n                        layerId: layer.layerId,\n                        layerName: layer.layerName,\n                      },\n                    };\n                    dataStore.setSelectedFeature(basicFeature);\n                  }\n                } else {\n                  // \n                  dataStore.setSelectedFeature(null);\n                  resetAllLayerStyles();\n\n                  // \n                  dataStore.setSelectedFeature(feature); // \n                  emit('feature-selected', feature); // \n\n                  //  - \n                }\n              },\n              // \n              contextmenu: function (e) {\n                // \n                if (\n                  (layer.isAnalysisLayer || feature.properties.layerId === 'analysis-layer') &&\n                  feature.properties.type === 'circle-analysis'\n                ) {\n                  showAnalysisContextMenu(e.originalEvent, feature);\n                }\n              },\n            });\n          },\n        });\n\n        return geoJsonLayer; //  GeoJSON \n      };\n\n      //   (Save Current View State Function)\n      const saveCurrentViewState = () => {\n        if (mapInstance) {\n          const center = mapInstance.getCenter();\n          const zoom = mapInstance.getZoom();\n          previousViewState = {\n            center: [center.lat, center.lng],\n            zoom: zoom,\n          };\n          console.log(' :', previousViewState);\n        }\n      };\n\n      //   (Restore Previous View State Function)\n      const restorePreviousViewState = () => {\n        if (mapInstance && previousViewState) {\n          console.log(' :', previousViewState);\n          mapInstance.setView(previousViewState.center, previousViewState.zoom);\n          //  mapStore \n          mapStore.setMapView(previousViewState.center, previousViewState.zoom);\n          previousViewState = null; // \n        }\n      };\n\n      //   (Reset All Layer Styles Function)\n      const resetAllLayerStyles = () => {\n        console.log(' MapTab: ');\n\n        // \n        if (mapInstance) {\n          //  mapInstance \n          mapInstance.eachLayer((layer) => {\n            if (\n              layer.options &&\n              layer.options.icon &&\n              (layer.options.icon.options?.className === 'first-service-point-marker' ||\n                layer.options.icon.options?.className === 'highlight-service-point-marker')\n            ) {\n              mapInstance.removeLayer(layer);\n            }\n          });\n        }\n\n        // \n        Object.values(layerGroups).forEach((layerGroup) => {\n          if (layerGroup) {\n            layerGroup.eachLayer((layer) => {\n              const feature = layer.feature;\n              if (feature) {\n                const layerData = dataStore.findLayerById(feature.properties.layerId);\n                const type = layerData?.type;\n\n                // \n                if (layerData?.isAnalysisLayer || feature.properties.layerId === 'analysis-layer') {\n                  if (feature.properties.type === 'point-analysis') {\n                    // \n                    return;\n                  } else if (feature.properties.type === 'circle-analysis') {\n                    // \n                    if (layer._originalStyle) {\n                      layer.setStyle(layer._originalStyle);\n                    }\n                  }\n                } else if (type === 'point') {\n                  // \n                } else if (type === 'polygon') {\n                  // \n                  if (layer._originalStyle) {\n                    layer.setStyle(layer._originalStyle);\n                  } else if (layerGroup.resetStyle) {\n                    layerGroup.resetStyle(layer);\n                  }\n                }\n\n                // \n                if (layer.closePopup) {\n                  layer.closePopup();\n                }\n                //  tooltip \n              }\n            });\n          }\n        });\n      };\n\n      //   (Sync Layers Function)\n      const syncLayers = () => {\n        // \n        if (!mapInstance || !isMapReady.value) return;\n\n        // \n        const storeLayers = dataStore.getAllLayers();\n        //  ID \n        const currentLayerIds = Object.keys(layerGroups);\n        //  features \n        const visibleLayers = storeLayers.filter((l) => l.visible && l.geoJsonData);\n        const visibleLayerIds = visibleLayers.map((l) => l.layerId);\n\n        // \n        const newLayerIds = visibleLayerIds.filter((id) => !currentLayerIds.includes(id));\n        // \n        const layersToRemove = currentLayerIds.filter((id) => !visibleLayerIds.includes(id));\n\n        console.log(` :  ${newLayerIds.length} ,  ${layersToRemove.length} `);\n\n        // \n        layersToRemove.forEach((layerId) => {\n          if (layerGroups[layerId]) {\n            mapInstance.removeLayer(layerGroups[layerId]);\n            delete layerGroups[layerId];\n            console.log(` : ${layerId}`);\n          }\n        });\n\n        // \n        const hasAnalysisLayerUpdate = visibleLayers.some((layer) => layer.isAnalysisLayer);\n\n        // \n        if (hasAnalysisLayerUpdate) {\n          // \n          Object.keys(layerGroups).forEach((layerId) => {\n            if (layerGroups[layerId]) {\n              mapInstance.removeLayer(layerGroups[layerId]);\n              delete layerGroups[layerId];\n            }\n          });\n        }\n\n        // \n        const newAddedLayers = [];\n\n        //  layers \n        visibleLayers\n          .slice()\n          .reverse()\n          .forEach((layer) => {\n            const { layerId } = layer;\n\n            // \n            // \n            const shouldCreateLayer = hasAnalysisLayerUpdate || !layerGroups[layerId];\n\n            if (!shouldCreateLayer) return;\n\n            try {\n              const newLayer = createFeatureLayer(layer);\n              if (newLayer) {\n                if (layer.isAnalysisLayer) {\n                  newLayer.isAnalysisLayer = true;\n                }\n                newLayer.addTo(mapInstance);\n                layerGroups[layerId] = newLayer;\n\n                // \n                if (newLayerIds.includes(layerId) && !layer.isAnalysisLayer) {\n                  newAddedLayers.push(newLayer);\n                }\n\n                console.log(`  \"${layer.layerName}\" `);\n              }\n            } catch (error) {\n              console.error(` \"${layer.layerName}\" :`, error);\n            }\n          });\n\n        // \n        if (newAddedLayers.length > 0) {\n          const bounds = new L.LatLngBounds();\n          let hasValidBounds = false;\n\n          newAddedLayers.forEach((layer) => {\n            if (layer && layer.getBounds) {\n              const layerBounds = layer.getBounds();\n              if (layerBounds.isValid()) {\n                bounds.extend(layerBounds);\n                hasValidBounds = true;\n              }\n            }\n          });\n\n          if (hasValidBounds) {\n            setTimeout(() => {\n              mapInstance.fitBounds(bounds, { padding: [50, 50] });\n              console.log(`  ${newAddedLayers.length} `);\n            }, 200); // \n          }\n        }\n\n        // \n        const totalMarkers = Object.values(layerGroups).reduce(\n          (acc, layer) => acc + (layer.getLayers ? layer.getLayers().length : 0), // \n          0 //  0\n        );\n        emit('update:activeMarkers', totalMarkers); // \n\n        console.log(`  ${visibleLayers.length} `); // \n      };\n\n      //   (Show All Features Function) - \n      const showAllFeatures = () => {\n        // \n        if (!mapInstance || !isMapReady.value || !isAnyLayerVisible.value) return;\n\n        // \n        const bounds = new L.LatLngBounds(); //  Leaflet \n        let hasValidBounds = false; // \n\n        // \n        Object.values(layerGroups).forEach((layer) => {\n          if (layer && layer.getBounds) {\n            //  getBounds \n            const layerBounds = layer.getBounds(); // \n            if (layerBounds.isValid()) {\n              // \n              bounds.extend(layerBounds); // \n              hasValidBounds = true; // \n            }\n          }\n        });\n\n        // \n        if (hasValidBounds) {\n          mapInstance.fitBounds(bounds, { padding: [50, 50] }); // \n        }\n      };\n\n      //   (Show Full City Function) - \n      const showFullCity = () => {\n        // \n        if (!mapInstance || !isMapReady.value) return;\n\n        // \n        const defaultCenter = [24.1477, 120.6736]; // \n        const defaultZoom = 11; // \n\n        console.log(` :  ${defaultCenter},  ${defaultZoom}`);\n\n        // \n        mapInstance.setView(defaultCenter, defaultZoom);\n\n        //  mapStore \n        mapStore.setMapView(defaultCenter, defaultZoom);\n      };\n\n      //   (Highlight Specific Feature Function)\n      const highlightFeature = (highlightData) => {\n        console.log(' MapTab: :', highlightData); // \n\n        // \n        if (!mapInstance || !isMapReady.value) {\n          console.warn(' '); // \n          setTimeout(() => highlightFeature(highlightData), 200); //  200ms \n          return;\n        }\n\n        // \n        if (!layerGroups || Object.keys(layerGroups).length === 0) {\n          console.warn(' '); // \n          setTimeout(() => highlightFeature(highlightData), 200); //  200ms \n          return;\n        }\n\n        // \n        let targetLayerId, targetFeatureId; //  ID  ID\n\n        // \n        if (highlightData.type === 'service-provider') {\n          console.log(' :', highlightData);\n\n          // \n          if (highlightData.firstServicePoint) {\n            const { lat, lon } = highlightData.firstServicePoint;\n\n            // \n            if (lat && lon) {\n              mapInstance.setView([lat, lon], 15); //  15 \n\n              // \n              resetAllLayerStyles();\n\n              // \n              const firstPointMarker = L.marker([lat, lon], {\n                icon: L.divIcon({\n                  className: 'first-service-point-marker',\n                  html: '<div style=\"background-color: #ff6b6b; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold;\">1</div>',\n                  iconSize: [20, 20],\n                  iconAnchor: [10, 10],\n                }),\n              }).addTo(mapInstance);\n\n              // \n              firstPointMarker\n                .bindPopup(\n                  `\n                <div style=\"font-size: 14px;\">\n                  <strong></strong><br>\n                  : ${highlightData.firstServicePoint.name}<br>\n                  : ${highlightData.firstServicePoint.address}<br>\n                  : ${highlightData.firstServicePoint.time}\n                </div>\n              `\n                )\n                .openPopup();\n            } else {\n              // \n              console.log(' ');\n            }\n\n            // \n            dataStore.setSelectedFeature({\n              type: 'Feature',\n              properties: {\n                type: 'service-provider',\n                serviceProviderId: highlightData.serviceProviderId,\n                layerId: highlightData.layerId,\n                layerName: highlightData.layerName,\n                allServicePoints: highlightData.allServicePoints,\n                firstServicePoint: highlightData.firstServicePoint,\n              },\n            });\n          }\n\n          console.log(' ');\n          return; // \n        }\n\n        // \n        if (\n          typeof highlightData === 'object' &&\n          highlightData !== null &&\n          highlightData.id === null\n        ) {\n          console.log(' MapTab: ');\n          // \n          resetAllLayerStyles();\n          // \n          showFullCity();\n          return;\n        }\n\n        // \n        if (highlightData.type === 'service-item-highlight') {\n          console.log(' MapTab: :', highlightData);\n\n          // \n          resetAllLayerStyles();\n\n          //  popuppopup\n          mapInstance.closePopup();\n\n          // \n          const coordinates = highlightData.coordinates;\n          const lat = coordinates?.lat;\n          const lon = coordinates?.lon;\n\n          if (lat && lon) {\n            console.log(' MapTab: :', lat, lon);\n\n            // \n            saveCurrentViewState();\n            mapInstance.setView([lat, lon], 16);\n\n            //  popup\n            let foundAndHighlighted = false;\n            const targetLayerGroup = layerGroups[highlightData.layerId];\n\n            if (targetLayerGroup) {\n              console.log(' MapTab: ');\n\n              targetLayerGroup.eachLayer((layer) => {\n                if (foundAndHighlighted) return; // \n\n                const feature = layer.feature;\n                if (feature && feature.properties && feature.geometry) {\n                  // \n                  const featureLat = feature.geometry.coordinates[1];\n                  const featureLon = feature.geometry.coordinates[0];\n\n                  // \n                  if (Math.abs(featureLat - lat) < 0.0001 && Math.abs(featureLon - lon) < 0.0001) {\n                    console.log('  popup');\n\n                    //  popup\n                    const props = highlightData.item || {};\n                    const popupContent = createServicePointContent(props);\n\n                    //  popup detail \n                    if (layer.bindPopup) {\n                      layer.bindPopup(popupContent, {\n                        closeButton: true,\n                        autoClose: true,\n                        closeOnClick: true,\n                        className: 'service-point-popup',\n                        opacity: 0.9,\n                      });\n                      layer.openPopup && layer.openPopup();\n                    }\n\n                    foundAndHighlighted = true;\n                    console.log(' popup ');\n                  }\n                }\n              });\n            }\n\n            //  popup\n            if (!foundAndHighlighted) {\n              console.log('  popup');\n\n              //  popup\n              const item = highlightData.item;\n              const tempMarker = L.marker([lat, lon], {\n                opacity: 0, // \n                icon: L.divIcon({\n                  className: 'temp-popup-marker',\n                  html: '',\n                  iconSize: [1, 1],\n                  iconAnchor: [0, 0],\n                }),\n              }).addTo(mapInstance);\n\n              // \n              const props = item;\n              const popupContent = createServicePointContent(props);\n              tempMarker\n                .bindPopup(popupContent, {\n                  closeButton: true,\n                  autoClose: true,\n                  closeOnClick: true,\n                  className: 'service-point-popup',\n                  opacity: 0.9,\n                })\n                .openPopup();\n            }\n\n            //  popup \n\n            // \n            setTimeout(() => {\n              if (!dataStore.selectedFeature) {\n                restorePreviousViewState();\n                //  popup \n                mapInstance.eachLayer((layer) => {\n                  if (\n                    layer.options &&\n                    layer.options.icon &&\n                    (layer.options.icon.options.className === 'temp-popup-marker' ||\n                      layer.options.icon.options.className === 'highlight-service-point-marker')\n                  ) {\n                    mapInstance.removeLayer(layer);\n                  }\n                });\n              }\n            }, 1500);\n          } else {\n            console.warn(' MapTab: ');\n          }\n\n          return; // \n        }\n\n        // \n        if (typeof highlightData === 'object' && highlightData !== null) {\n          targetLayerId = highlightData.layerId; //  ID\n          targetFeatureId = highlightData.id; //  ID\n        } else {\n          targetFeatureId = highlightData; //  ID\n        }\n\n        console.log(` : layerId=\"${targetLayerId}\", featureId=\"${targetFeatureId}\"`); // \n        console.log(' :', Object.keys(layerGroups)); // \n\n        // \n        const performHighlight = () => {\n          // \n          resetAllLayerStyles();\n\n          // \n          let targetLayer = null; // \n          let targetFeature = null; // \n\n          //  ID\n          if (targetLayerId && layerGroups[targetLayerId]) {\n            console.log(`  \"${targetLayerId}\" `); // \n            const specificLayerGroup = layerGroups[targetLayerId]; // \n\n            // \n            specificLayerGroup.eachLayer((layer) => {\n              const feature = layer.feature; // \n              if (feature && feature.properties) {\n                // \n                //  ID DataTableTab.vue \n                const featureId =\n                  feature.properties.id || feature.properties['#'] || feature.properties.;\n\n                console.log(`  ID: ${featureId} (: ${targetFeatureId})`); // \n\n                //  ID\n                if (String(featureId) === String(targetFeatureId)) {\n                  targetLayer = layer; // \n                  targetFeature = feature; // \n                  console.log(`  \"${targetLayerId}\"  \"${targetFeatureId}\"`); // \n                  return;\n                }\n              }\n            });\n          } else {\n            console.log(' '); // \n            // \n            for (const [layerId, layerGroup] of Object.entries(layerGroups)) {\n              console.log(` : ${layerId}`); // \n              // \n              layerGroup.eachLayer((layer) => {\n                const feature = layer.feature; // \n                if (feature && feature.properties) {\n                  // \n                  //  ID DataTableTab.vue \n                  const featureId =\n                    feature.properties.id || feature.properties['#'] || feature.properties.;\n\n                  console.log(`  ID: ${featureId} (: ${targetFeatureId})`); // \n\n                  //  ID\n                  if (String(featureId) === String(targetFeatureId)) {\n                    targetLayer = layer; // \n                    targetFeature = feature; // \n                    targetLayerId = layerId; //  ID\n                    console.log(`  \"${layerId}\"  \"${targetFeatureId}\"`); // \n                    return;\n                  }\n                }\n              });\n              if (targetLayer) break; // \n            }\n          }\n\n          // \n          if (targetLayer && targetFeature) {\n            //  store \n\n            // \n            if (targetLayer.feature?.geometry?.type === 'Point') {\n              // \n              const element = targetLayer.getElement(); //  DOM \n              if (element) {\n                //  div\n                const innerIconDiv = element.querySelector('div');\n                if (innerIconDiv) {\n                  innerIconDiv.style.transition = 'transform 0.04s ease-in-out'; // \n                  innerIconDiv.style.transform = 'scale(1.6)'; // \n                }\n                // \n                element.style.zIndex = 1000;\n              }\n            } else {\n              // \n              //  -  setStyle \n              if (targetLayer.setStyle) {\n                if (targetLayer.feature?.properties?.fillColor) {\n                  targetLayer.setStyle({\n                    weight: 4, // \n                    color: 'white', // \n                    fillOpacity: 0.8, // \n                  });\n                } else {\n                  targetLayer.setStyle({\n                    weight: 4, // \n                  });\n                }\n              }\n            }\n\n            // \n            if (targetLayer.bringToFront) {\n              // \n              targetLayer.bringToFront(); // \n            }\n\n            // \n            let bounds; // \n            if (targetLayer.getBounds) {\n              //  getBounds \n              bounds = targetLayer.getBounds(); // \n            } else if (targetLayer.getLatLng) {\n              //  getLatLng \n              const latlng = targetLayer.getLatLng(); // \n              bounds = L.latLngBounds([latlng, latlng]); // \n            }\n\n            // \n            if (bounds && bounds.isValid()) {\n              // \n              saveCurrentViewState();\n\n              mapInstance.fitBounds(bounds, {\n                maxZoom: 16, // \n                padding: [50, 50], // \n              });\n\n              // \n              setTimeout(() => {\n                if (targetLayer.openPopup) {\n                  targetLayer.openPopup();\n                }\n                //  tooltip  popup\n                const f = targetLayer.feature;\n                const hasDetail = f && f.properties && (f.properties. || f.properties.name);\n                if (hasDetail && targetLayer.getLatLng) {\n                  const props = f.properties;\n                  //  popup detail \n                  const popupContent = createServicePointContent(props);\n                  targetLayer.bindPopup(popupContent, {\n                    closeButton: true,\n                    autoClose: true,\n                    closeOnClick: true,\n                    className: 'service-point-popup',\n                    opacity: 0.9,\n                  });\n                  targetLayer.openPopup();\n                }\n              }, 500); //  500ms\n\n              // \n              setTimeout(() => {\n                if (!dataStore.selectedFeature) {\n                  resetAllLayerStyles();\n                  restorePreviousViewState();\n                }\n              }, 1500);\n            }\n\n            console.log(' '); // \n            return true; // \n          } else {\n            // \n            console.warn(\n              `  \"${targetFeatureId}\"${targetLayerId ? `  \"${targetLayerId}\" ` : ''}`\n            );\n            return false; // \n          }\n        };\n\n        // \n        const success = performHighlight(); // \n        if (!success) {\n          // \n          console.log(' 1...'); // \n          setTimeout(() => {\n            const retrySuccess = performHighlight(); // \n            if (!retrySuccess) {\n              // \n              console.error(' '); // \n            }\n          }, 1000); //  1 \n        }\n      };\n\n      //   (Invalidate Map Size Function)\n      const invalidateSize = () => {\n        // \n        if (mapInstance && isMapReady.value) {\n          nextTick(() => {\n            //  DOM \n            try {\n              // \n              if (mapContainer.value) {\n                const rect = mapContainer.value.getBoundingClientRect();\n                if (rect.width === 0 || rect.height === 0) {\n                  console.warn(' ');\n                  // \n                  setTimeout(() => {\n                    if (mapContainer.value && mapInstance && isMapReady.value) {\n                      const newRect = mapContainer.value.getBoundingClientRect();\n                      if (newRect.width > 0 && newRect.height > 0) {\n                        mapInstance.invalidateSize();\n                        console.log(' ');\n                      }\n                    }\n                  }, 100);\n                  return;\n                }\n              }\n\n              mapInstance.invalidateSize(); // \n              console.log(' '); // \n            } catch (error) {\n              console.error(' :', error); // \n            }\n          });\n        } else if (!mapInstance) {\n          console.warn(' ');\n          // \n          //  initMap \n        }\n      };\n\n      // \n\n      // \n\n      //   (Clear Analysis Layer)\n      const clearAnalysisLayer = () => {\n        //  dataStore \n        dataStore.clearAnalysisLayer();\n        console.log(' ');\n      };\n\n      // \n\n      //   (Show Context Menu)\n      const showAnalysisContextMenu = (event, feature) => {\n        event.preventDefault();\n        event.stopPropagation();\n\n        selectedAnalysisFeature.value = feature;\n        contextMenuPosition.value = {\n          x: event.pageX || event.clientX,\n          y: event.pageY || event.clientY,\n        };\n        showContextMenu.value = true;\n\n        console.log(' :', feature.properties.name);\n      };\n\n      //   (Delete Single Analysis Point)\n      const deleteAnalysisPoint = () => {\n        if (!selectedAnalysisFeature.value) return;\n\n        const feature = selectedAnalysisFeature.value;\n        const layerId = feature.properties.layerId;\n\n        let pointId;\n        if (feature.properties.type === 'circle-analysis') {\n          pointId = feature.properties.id;\n        } else {\n          pointId = feature.properties.parentId;\n        }\n\n        if (!pointId) return;\n\n        // \n        if (layerId === 'analysis-layer') {\n          dataStore.deleteAnalysisPoint(pointId);\n          console.log(' :', pointId);\n        }\n\n        // \n        hideContextMenu();\n      };\n\n      //   (Hide Context Menu)\n      const hideContextMenu = () => {\n        showContextMenu.value = false;\n        selectedAnalysisFeature.value = null;\n      };\n\n      //   ResizeObserver  (Setup ResizeObserver)\n      let resizeObserver = null; //  ResizeObserver \n      let resizeTimeout = null; // \n\n      const setupResizeObserver = () => {\n        //  ResizeObserver\n        if (mapContainer.value && window.ResizeObserver) {\n          //  ResizeObserver \n          resizeObserver = new ResizeObserver((entries) => {\n            for (let entry of entries) {\n              // \n              console.log(' :', entry.contentRect); // \n\n              // \n              if (resizeTimeout) {\n                clearTimeout(resizeTimeout);\n              }\n\n              resizeTimeout = setTimeout(() => {\n                if (mapInstance && isMapReady.value) {\n                  invalidateSize(); // \n                }\n                resizeTimeout = null;\n              }, 150); //  150ms UpperView \n            }\n          });\n          resizeObserver.observe(mapContainer.value); // \n          console.log(' ResizeObserver '); // \n        }\n      };\n\n      //   (Change Basemap Function)\n      const changeBasemap = (basemapType) => {\n        mapStore.setSelectedBasemap(basemapType); //  store action \n        setBasemap(); // \n      };\n\n      //   (Get Basemap Label Function)\n      const getBasemapLabel = (value) => {\n        //  mapStore \n        const basemap = mapStore.basemaps.find((b) => b.value === value);\n        return basemap ? basemap.label : value;\n      };\n\n      //   (Initialize Map Function)\n      let isInitializing = false; // \n      let initTimeoutId = null; // \n\n      const initMap = () => {\n        console.log('[MapTab] initMap :', {\n          mapInstance: !!mapInstance,\n          isMapReady: isMapReady.value,\n          isInitializing: isInitializing,\n          containerExists: !!mapContainer.value,\n        });\n\n        // \n        if (mapInstance && isMapReady.value) {\n          console.warn('[MapTab] ');\n          return;\n        }\n\n        // \n        if (isInitializing) {\n          console.warn('[MapTab] ');\n          return;\n        }\n\n        // \n        if (initTimeoutId) {\n          clearTimeout(initTimeoutId);\n          initTimeoutId = null;\n        }\n\n        console.log('[MapTab] ');\n        isInitializing = true; // \n        let attempts = 0; // \n        const maxAttempts = 20; // \n\n        // \n        const isContainerReady = () => {\n          if (!mapContainer.value) {\n            console.warn(`[MapTab]  ${attempts}: `);\n            return false;\n          }\n\n          const rect = mapContainer.value.getBoundingClientRect();\n          const computedStyle = window.getComputedStyle(mapContainer.value);\n\n          console.log(`[MapTab]  ${attempts}: `, {\n            width: rect.width,\n            height: rect.height,\n            display: computedStyle.display,\n            visibility: computedStyle.visibility,\n            parentElement: mapContainer.value.parentElement?.tagName,\n            parentRect: mapContainer.value.parentElement?.getBoundingClientRect(),\n          });\n\n          // \n          if (rect.width === 0 || rect.height === 0) {\n            console.warn(`[MapTab]  ${attempts}: `);\n            return false;\n          }\n\n          if (computedStyle.display === 'none' || computedStyle.visibility === 'hidden') {\n            console.warn(`[MapTab]  ${attempts}: `);\n            return false;\n          }\n\n          // \n          let parent = mapContainer.value.parentElement;\n          while (parent) {\n            const parentStyle = window.getComputedStyle(parent);\n            if (parentStyle.display === 'none' || parentStyle.visibility === 'hidden') {\n              console.warn(`[MapTab]  ${attempts}: `, parent.tagName);\n              return false;\n            }\n            parent = parent.parentElement;\n          }\n\n          return true;\n        };\n\n        // \n        const tryInit = () => {\n          if (attempts >= maxAttempts) {\n            // \n            console.error('[MapTab] ', maxAttempts);\n            isInitializing = false; // \n            return;\n          }\n\n          attempts++; // \n\n          // \n          if (!isContainerReady()) {\n            const delay = Math.min(200 * attempts, 1000); // 1\n            console.log(`[MapTab] ${delay}ms  (${attempts}/${maxAttempts})`);\n            setTimeout(tryInit, delay);\n            return;\n          }\n\n          try {\n            console.log(`[MapTab]  (${attempts}/${maxAttempts})`);\n            if (createMap()) {\n              // \n              console.log('[MapTab] ');\n              setBasemap(); // \n              syncLayers(); // \n              isInitializing = false; // \n              console.log('[MapTab] ');\n            } else {\n              console.warn('[MapTab] ');\n              setTimeout(tryInit, 200); //  200ms \n            }\n          } catch (error) {\n            console.error('[MapTab] :', error);\n            if (attempts < maxAttempts) {\n              setTimeout(tryInit, 200); //  200ms \n            } else {\n              console.error('[MapTab] ');\n              isInitializing = false;\n            }\n          }\n        };\n\n        tryInit(); // \n\n        // \n        initTimeoutId = setTimeout(() => {\n          if (isInitializing) {\n            console.error('[MapTab]  (30)');\n            isInitializing = false;\n          }\n        }, 30000); // 30\n      };\n\n      //   (Lifecycle: Component Mounted)\n      onMounted(() => {\n        console.log('[MapTab] ');\n\n        nextTick(() => {\n          //  DOM \n          setTimeout(() => {\n            console.log('[MapTab] DOM ');\n            // \n            initMap(); // \n\n            //  ResizeObserver\n            setTimeout(() => {\n              if (isMapReady.value) {\n                setupResizeObserver();\n              } else {\n                console.warn('[MapTab]  ResizeObserver ');\n              }\n            }, 500); //  500ms \n          }, 100); //  100ms\n        });\n\n        //  \n        document.addEventListener('click', hideContextMenu);\n      });\n\n      //   (Lifecycle: Component Unmounted)\n      onUnmounted(() => {\n        console.log('[MapTab] ');\n\n        // \n        if (initTimeoutId) {\n          clearTimeout(initTimeoutId);\n          initTimeoutId = null;\n          console.log(' ');\n        }\n\n        if (isInitializing) {\n          console.warn('[MapTab] ');\n          isInitializing = false;\n        }\n\n        //  ResizeObserver \n        if (resizeTimeout) {\n          clearTimeout(resizeTimeout);\n          resizeTimeout = null;\n        }\n\n        if (resizeObserver) {\n          //  ResizeObserver \n          resizeObserver.disconnect(); // \n          resizeObserver = null; // \n          console.log(' ResizeObserver '); // \n        }\n\n        // \n        if (mapInstance) {\n          // \n          mapInstance.off('zoomend', handleZoomEnd); // \n          mapInstance.off('moveend', handleMoveEnd); // \n          mapInstance.remove(); // \n          mapInstance = null; // \n          console.log(' ');\n        }\n\n        // \n        layerGroups = {}; // \n        currentTileLayer = null; // \n        isMapReady.value = false; // \n\n        //  \n        document.removeEventListener('click', hideContextMenu);\n\n        console.log('[MapTab] ');\n      });\n\n      //   (Watcher: Watch Data Store Layers)\n      watch(() => dataStore.layers, syncLayers, { deep: true }); // \n\n      //   (Watcher: Watch Basemap Changes)\n      watch(\n        () => mapStore.selectedBasemap,\n        () => {\n          if (isMapReady.value) {\n            setBasemap(); // \n          }\n        }\n      );\n\n      //   (Watcher: Watch Selected Feature Changes)\n      watch(\n        () => dataStore.selectedFeature,\n        (newFeature, oldFeature) => {\n          console.log(' MapTab: selectedFeature ', { newFeature, oldFeature });\n\n          // \n          if (newFeature) {\n            console.log(' MapTab: ');\n\n            // highlightFeature\n            if (newFeature.properties?.type === 'service-items') {\n              // \n            }\n          }\n\n          // \n          if (oldFeature && !newFeature) {\n            console.log(' MapTab: ');\n            // \n            resetAllLayerStyles();\n\n            // \n            if (\n              oldFeature.geometry?.type === 'Point' ||\n              oldFeature.properties?.type === 'service-items' ||\n              oldFeature.properties?.layerId?.startsWith('service-provider-')\n            ) {\n              showFullCity();\n            } else {\n              restorePreviousViewState();\n            }\n          }\n        },\n        { deep: true }\n      );\n\n      //   (Return Component Public Properties and Methods)\n      return {\n        mapContainer, //  DOM \n        mapContainerId, //  ID\n        selectedBasemap: computed(() => mapStore.selectedBasemap), // \n        changeBasemap, // \n        getBasemapLabel, // \n        showAllFeatures, // \n        showFullCity, // \n        isAnyLayerVisible, // \n        highlightFeature, // \n        invalidateSize, // \n\n        // \n        clearAnalysisLayer, // \n        mapStore, // \n\n        // \n        contextMenu, //  DOM \n        showContextMenu, // \n        contextMenuPosition, // \n        selectedAnalysisFeature, // \n        deleteAnalysisPoint, // \n        hideContextMenu, // \n        selectedServiceDate: computed(() => dataStore.selectedServiceDate), // \n      };\n    },\n  };\n</script>\n\n<template>\n  <!--   (Main Map Container) -->\n  <div\n    id=\"map-container\"\n    class=\"h-100 w-100 position-relative\"\n    :class=\"{\n      'route-planning-click-mode-active': isRoutePlanningClickMode,\n      'route-optimization-click-mode-active': isRouteOptimizationClickMode,\n    }\"\n    @highlight-on-map=\"highlightFeature\"\n  >\n    <!--  Leaflet  (Leaflet Map Container) -->\n    <!--  Leaflet  DOM  -->\n    <div :id=\"mapContainerId\" ref=\"mapContainer\" class=\"h-100 w-100\"></div>\n\n    <!--   (Context Menu) -->\n    <div\n      v-if=\"showContextMenu\"\n      ref=\"contextMenu\"\n      class=\"position-fixed rounded my-bgcolor-white my-font-size-sm shadow-sm\"\n      :style=\"{\n        left: contextMenuPosition.x + 'px',\n        top: contextMenuPosition.y + 'px',\n        zIndex: 10000,\n      }\"\n      @click.stop\n    >\n      <div\n        class=\"context-menu-item d-flex align-items-center my-bgcolor-white-hover my-title-sm-black px-3 py-2 my-2\"\n        @click=\"deleteAnalysisPoint\"\n      >\n        <span class=\"my-color-red\"><i class=\"fas fa-trash-alt me-2\"></i></span>\n        \n      </div>\n    </div>\n\n    <!--   (Click Overlay to Hide Context Menu) -->\n    <div\n      v-if=\"showContextMenu\"\n      class=\"context-menu-overlay position-fixed w-100 h-100\"\n      style=\"top: 0; left: 0; z-index: 9999\"\n      @click=\"hideContextMenu\"\n    ></div>\n\n    <!--  -->\n    <div\n      class=\"position-absolute map-bottom-controls d-flex align-items-center rounded-pill shadow my-blur gap-2 p-2 mb-3\"\n    >\n      <div class=\"d-flex align-items-center\">\n        <div class=\"dropdown dropup\">\n          <button\n            class=\"btn rounded-pill border-0 my-btn-transparent my-font-size-xs text-nowrap\"\n            type=\"button\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            {{ getBasemapLabel(selectedBasemap) }}\n          </button>\n          <ul class=\"dropdown-menu\">\n            <li v-for=\"basemap in mapStore.basemaps\" :key=\"basemap.value\">\n              <a\n                class=\"dropdown-item my-content-xs-black py-1\"\n                href=\"#\"\n                @click.prevent=\"changeBasemap(basemap.value)\"\n              >\n                {{ basemap.label }}\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <!--  -->\n      <button\n        class=\"btn rounded-pill border-0 my-btn-transparent my-font-size-xs text-nowrap my-cursor-pointer\"\n        @click=\"showAllFeatures\"\n        :disabled=\"!isAnyLayerVisible\"\n        title=\"\"\n      >\n        \n      </button>\n\n      <!--  -->\n      <button\n        class=\"btn rounded-pill border-0 my-btn-transparent my-font-size-xs text-nowrap my-cursor-pointer\"\n        @click=\"showFullCity\"\n        title=\"\"\n      >\n        \n      </button>\n\n      <!--  -->\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  /*   (Map Container Styles) */\n  #map-container {\n    background-color: transparent; /*  JS  */\n    z-index: 0; /*  */\n  }\n\n  /*  Leaflet  (Leaflet Map Container Styles) */\n  [id^='leaflet-map'] {\n    width: 100% !important;\n    height: 100% !important;\n  }\n\n  /*   (Map Bottom Controls Styles) */\n  .map-bottom-controls {\n    bottom: 0px;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 2000;\n  }\n\n  /*   (Analysis Point Icon Styles) */\n  :deep(.analysis-point-icon) {\n    background: transparent !important;\n    border: none !important;\n  }\n\n  /*   (Route Planning Point Icon Styles) */\n  :deep(.route-planning-point-icon) {\n    background: transparent !important;\n    border: none !important;\n  }\n\n  /*   (Click Mode Styles) */\n  .click-mode-active,\n  .click-mode-active * {\n    cursor: crosshair !important;\n  }\n\n  /*   (Route Planning Click Mode Styles) */\n  .route-planning-click-mode-active,\n  .route-planning-click-mode-active * {\n    cursor: crosshair !important;\n  }\n\n  /*   (Route Optimization Button Styles) */\n  .my-btn-purple {\n    background-color: var(--my-color-purple, #9c27b0);\n    border-color: var(--my-color-purple, #9c27b0);\n    color: white;\n  }\n\n  .my-btn-purple:hover {\n    background-color: var(--my-color-purple-hover, #7b1fa2);\n    border-color: var(--my-color-purple-hover, #7b1fa2);\n    color: white;\n  }\n\n  /*   (Route Optimization Click Mode Styles) */\n  .route-optimization-click-mode-active,\n  .route-optimization-click-mode-active * {\n    cursor: crosshair !important;\n  }\n\n  /*   tooltip  -  tooltip */\n</style>\n","import { defineStore } from 'pinia';\n\nexport const useDefineStore = defineStore('define', {\n  state: () => ({\n    selectedBasemap: 'carto_light_labels', // \n    // \n    mapView: {\n      center: [24.1477, 120.6736], //  [, ] - \n      zoom: 11, // \n    },\n    basemaps: [\n      {\n        label: 'OpenStreetMap',\n        value: 'osm',\n        url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      },\n      {\n        label: 'Esri Street',\n        value: 'esri_street',\n        url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}',\n      },\n      {\n        label: 'Esri Topo',\n        value: 'esri_topo',\n        url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}',\n      },\n      {\n        label: 'Esri World Imagery',\n        value: 'esri_imagery',\n        url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n      },\n      {\n        label: 'Google Maps ',\n        value: 'google_road',\n        url: 'https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}',\n      },\n      {\n        label: 'Google Maps ',\n        value: 'google_satellite',\n        url: 'https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',\n      },\n      {\n        label: '',\n        value: 'nlsc_emap',\n        url: 'https://wmts.nlsc.gov.tw/wmts/EMAP/default/GoogleMapsCompatible/{z}/{y}/{x}',\n      },\n      {\n        label: '',\n        value: 'nlsc_photo',\n        url: 'https://wmts.nlsc.gov.tw/wmts/PHOTO2/default/GoogleMapsCompatible/{z}/{y}/{x}',\n      },\n      {\n        label: '',\n        value: 'terrain',\n        url: 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png',\n      },\n      {\n        label: 'Carto Light',\n        value: 'carto_light_labels',\n        url: 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',\n      },\n      {\n        label: 'Carto Dark',\n        value: 'carto_dark_labels',\n        url: 'https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',\n      },\n      {\n        label: 'Carto Voyager',\n        value: 'carto_voyager',\n        url: 'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n      },\n      {\n        label: '',\n        value: 'blank',\n        url: '',\n      },\n      {\n        label: '',\n        value: 'black',\n        url: '',\n      },\n    ],\n  }),\n  actions: {\n    setSelectedBasemap(value) {\n      this.selectedBasemap = value;\n    },\n    setMapView(center, zoom) {\n      this.mapView.center = center;\n      this.mapView.zoom = zoom;\n    },\n  },\n});\n","import { render } from \"./MapTab.vue?vue&type=template&id=5781ec08&scoped=true\"\nimport script from \"./MapTab.vue?vue&type=script&lang=js\"\nexport * from \"./MapTab.vue?vue&type=script&lang=js\"\n\nimport \"./MapTab.vue?vue&type=style&index=0&id=5781ec08&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5781ec08\"]])\n\nexport default __exports__","<script setup>\n  import { ref, computed, watch, onMounted, nextTick, onUnmounted } from 'vue';\n  import { useDataStore } from '@/stores/dataStore.js';\n  import * as d3 from 'd3';\n\n  const dataStore = useDataStore();\n\n  const activeLayerTab = ref(null); /**   */\n  const chartContainer = ref(null); /**   */\n\n  // \n  const visibleLayers = computed(() => {\n    const allLayers = dataStore.getAllLayers();\n    return allLayers.filter((layer) => layer.visible);\n  });\n\n  /**\n   *   (Set Active Layer Tab)\n   * @param {string} layerId -  ID\n   */\n  const setActiveLayerTab = (layerId) => {\n    activeLayerTab.value = layerId;\n  };\n\n  /**\n   *   (Current Layer Summary)\n   */\n  const currentLayerSummary = computed(() => {\n    if (!activeLayerTab.value) return null;\n    const layer = visibleLayers.value.find((l) => l.layerId === activeLayerTab.value);\n    return layer ? layer.summaryData || null : null;\n  });\n\n  /**\n   *   (Get Current Selected Layer Name)\n   */\n  const currentLayerName = computed(() => {\n    if (!activeLayerTab.value) return '';\n    const layer = visibleLayers.value.find((l) => l.layerId === activeLayerTab.value);\n    return layer ? layer.layerName || '' : '';\n  });\n\n  /**\n   *   (Draw Horizontal Bar Chart)\n   * @param {Array} districtCount - \n   */\n  const drawHorizontalBarChart = (districtCount) => {\n    if (!chartContainer.value || !districtCount || districtCount.length === 0) {\n      return;\n    }\n\n    // \n    const validDistrictCount = districtCount.filter(\n      (d) =>\n        d && typeof d.count === 'number' && d.count >= 0 && d.name && typeof d.name === 'string'\n    );\n\n    if (validDistrictCount.length === 0) {\n      console.warn('[DashboardTab] ');\n      return;\n    }\n\n    // \n    d3.select(chartContainer.value).selectAll('*').remove();\n\n    // \n    const margin = { top: 0, right: 48, bottom: 16, left: 48 };\n    const containerWidth = chartContainer.value.clientWidth;\n    const width = containerWidth - margin.left - margin.right;\n    const barHeight = 8;\n    const barSpacing = 24;\n    const height = validDistrictCount.length * barSpacing;\n\n    // \n    if (width <= 0) {\n      console.warn('[DashboardTab] ');\n      return;\n    }\n\n    //  SVG\n    const svg = d3\n      .select(chartContainer.value)\n      .append('svg')\n      .attr('width', containerWidth)\n      .attr('height', height + margin.top + margin.bottom);\n\n    const g = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // \n    const maxCount = d3.max(validDistrictCount, (d) => d.count);\n\n    //  maxCount \n    if (!maxCount || maxCount <= 0) {\n      console.warn('[DashboardTab] ');\n      return;\n    }\n\n    const xScale = d3.scaleLinear().domain([0, maxCount]).range([0, width]);\n\n    /**\n     *  - 55\n     */\n    const calculateTickSystem = (dataMaxValue) => {\n      // Step 1: 55\n      let interval;\n\n      // 50\n      const maxTicks = 5;\n      const minInterval = Math.ceil(dataMaxValue / (maxTicks - 1));\n\n      // 5\n      if (minInterval <= 5) {\n        interval = 5;\n      } else if (minInterval <= 10) {\n        interval = 10;\n      } else if (minInterval <= 20) {\n        interval = 20;\n      } else if (minInterval <= 50) {\n        interval = 50;\n      } else if (minInterval <= 100) {\n        interval = 100;\n      } else {\n        // 5\n        interval = Math.ceil(minInterval / 5) * 5;\n      }\n\n      // Step 2: \n      const chartMaxValue = Math.ceil(dataMaxValue / interval) * interval;\n\n      // Step 3: 5\n      const ticks = [];\n      for (let i = 0; i <= chartMaxValue && ticks.length < maxTicks; i += interval) {\n        ticks.push(i);\n      }\n\n      return {\n        ticks: ticks, //  [0, 5, 10, 15...]5\n        maxValue: chartMaxValue, // \n        interval: interval, // \n      };\n    };\n\n    // \n    const tickSystem = calculateTickSystem(maxCount);\n    const tickValues = tickSystem.ticks;\n\n    //  X \n    xScale.domain([0, tickSystem.maxValue]);\n\n    g.selectAll('.grid-line')\n      .data(tickValues)\n      .enter()\n      .append('line')\n      .attr('class', 'grid-line')\n      .attr('x1', (d) => xScale(d))\n      .attr('x2', (d) => xScale(d))\n      .attr('y1', 0)\n      .attr('y2', height)\n      .attr('stroke', 'var(--my-color-gray-400)')\n      .attr('stroke-dasharray', '2,2')\n      .attr('stroke-width', 1);\n\n    // \n    g.selectAll('.bar')\n      .data(validDistrictCount)\n      .enter()\n      .append('rect')\n      .attr('class', 'bar')\n      .attr('x', 0)\n      .attr('y', (d, i) => i * barSpacing + (barSpacing - barHeight) / 2)\n      .attr('width', (d) => Math.max(0, xScale(d.count))) // \n      .attr('height', barHeight)\n      .attr('fill', 'var(--my-color-blue)');\n\n    // \n    g.selectAll('.label')\n      .data(validDistrictCount)\n      .enter()\n      .append('text')\n      .attr('class', 'label my-font-size-xs')\n      .attr('x', (d) => Math.max(0, xScale(d.count)) + 5)\n      .attr('y', (d, i) => i * barSpacing + barSpacing / 2)\n      .attr('dy', '0.35em')\n      .attr('fill', 'var(--my-color-black)')\n      .text((d) => d.count);\n\n    // \n    g.selectAll('.district-label')\n      .data(validDistrictCount)\n      .enter()\n      .append('text')\n      .attr('class', 'district-label my-font-size-xs')\n      .attr('x', -5)\n      .attr('y', (d, i) => i * barSpacing + barSpacing / 2)\n      .attr('dy', '0.35em')\n      .attr('fill', 'var(--my-color-black)')\n      .style('text-anchor', 'end')\n      .text((d) => d.name);\n\n    //  X \n    g.selectAll('.x-axis-label')\n      .data(tickValues)\n      .enter()\n      .append('text')\n      .attr('class', 'x-axis-label my-font-size-xs')\n      .attr('x', (d) => xScale(d))\n      .attr('y', height + 15)\n      .attr('fill', 'var(--my-color-gray-600)')\n      .style('text-anchor', 'middle')\n      .text((d) => d);\n  };\n\n  // \n  const previousLayers = ref([]);\n\n  /**\n   *  \n   */\n  watch(\n    () => visibleLayers.value,\n    (newLayers) => {\n      // \n      if (newLayers.length === 0) {\n        activeLayerTab.value = null;\n        previousLayers.value = [];\n        return;\n      }\n\n      // \n      const previousLayerIds = previousLayers.value.map((layer) => layer.layerId);\n      const newLayerIds = newLayers.map((layer) => layer.layerId);\n      const addedLayerIds = newLayerIds.filter((id) => !previousLayerIds.includes(id));\n\n      // \n      if (addedLayerIds.length > 0) {\n        const newestAddedLayerId = addedLayerIds[addedLayerIds.length - 1];\n        activeLayerTab.value = newestAddedLayerId;\n        console.log(\n          ` : ${newLayers.find((layer) => layer.layerId === newestAddedLayerId)?.layerName}`\n        );\n      }\n      // \n      else if (\n        !activeLayerTab.value ||\n        !newLayers.find((layer) => layer.layerId === activeLayerTab.value)\n      ) {\n        activeLayerTab.value = newLayers[0].layerId;\n      }\n\n      // \n      previousLayers.value = [...newLayers];\n    },\n    { deep: true, immediate: true }\n  );\n\n  /**\n   *  \n   */\n  watch(\n    () => currentLayerSummary.value,\n    (newSummary) => {\n      if (newSummary && newSummary.districtCount) {\n        nextTick(() => {\n          drawHorizontalBarChart(newSummary.districtCount);\n        });\n      }\n    },\n    { immediate: true }\n  );\n\n  /**\n   *   (Component Mounted Event)\n   */\n  onMounted(() => {\n    console.log('[DashboardTab] Component Mounted');\n\n    // \n    if (visibleLayers.value.length > 0 && !activeLayerTab.value) {\n      activeLayerTab.value = visibleLayers.value[0].layerId;\n    }\n  });\n\n  // \n  const handleResize = () => {\n    if (currentLayerSummary.value && currentLayerSummary.value.districtCount) {\n      nextTick(() => {\n        drawHorizontalBarChart(currentLayerSummary.value.districtCount);\n      });\n    }\n  };\n\n  onMounted(() => {\n    window.addEventListener('resize', handleResize);\n  });\n\n  // \n  onUnmounted(() => {\n    window.removeEventListener('resize', handleResize);\n  });\n</script>\n\n<template>\n  <!--   -->\n  <div class=\"d-flex flex-column my-bgcolor-gray-200 h-100\">\n    <!--   -->\n    <div v-if=\"visibleLayers.length > 0\" class=\"\">\n      <ul class=\"nav nav-tabs nav-fill\">\n        <li\n          v-for=\"layer in visibleLayers\"\n          :key=\"layer.layerId\"\n          class=\"nav-item d-flex flex-column align-items-center\"\n        >\n          <!-- tab -->\n          <div\n            class=\"btn nav-link rounded-0 border-0 position-relative d-flex align-items-center justify-content-center my-bgcolor-gray-200\"\n            :class=\"{\n              active: activeLayerTab === layer.layerId,\n            }\"\n            @click=\"setActiveLayerTab(layer.layerId)\"\n          >\n            <span class=\"my-title-sm-black\">{{ layer.layerName }}</span>\n          </div>\n          <div class=\"w-100\" :class=\"`my-bgcolor-${layer.colorName}`\" style=\"min-height: 4px\"></div>\n        </li>\n      </ul>\n    </div>\n\n    <!--  -->\n    <div v-if=\"visibleLayers.length > 0\" class=\"flex-grow-1 overflow-auto my-bgcolor-white p-3\">\n      <!--   -->\n      <div class=\"mb-4\">\n        <h5 class=\"my-title-md-black\">{{ currentLayerName }}</h5>\n      </div>\n\n      <!--   -->\n      <div v-if=\"currentLayerSummary\">\n        <div class=\"row\">\n          <!--  -->\n          <div class=\"col-12 col-xl-6\">\n            <div class=\"rounded-4 my-bgcolor-gray-100 p-4 mb-3\">\n              <h6 class=\"mb-3\"></h6>\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <div class=\"text-center\">\n                    <div class=\"my-title-xl-black\">{{ currentLayerSummary.totalCount }}</div>\n                    <div class=\"my-title-sm-gray\"></div>\n                  </div>\n                </div>\n                <div class=\"col-6\" v-if=\"currentLayerSummary.districtCount\">\n                  <div class=\"text-center\">\n                    <div class=\"my-title-xl-black\">\n                      {{ currentLayerSummary.districtCount.length }}\n                    </div>\n                    <div class=\"my-title-sm-gray\"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!--  -->\n          <div\n            class=\"col-12 col-xl-6\"\n            v-if=\"currentLayerSummary.districtCount && currentLayerSummary.districtCount.length > 0\"\n          >\n            <div class=\"rounded-4 my-bgcolor-gray-100 p-4 mb-3\">\n              <h6 class=\"mb-3\"></h6>\n              <div ref=\"chartContainer\" class=\"w-100\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-else class=\"text-center py-5\">\n        <div class=\"my-title-md-gray\"></div>\n      </div>\n    </div>\n\n    <!--  -->\n    <div v-else class=\"flex-grow-1 d-flex align-items-center justify-content-center\">\n      <div class=\"text-center\">\n        <div class=\"my-title-md-gray p-3\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped></style>\n","import script from \"./DashboardTab.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DashboardTab.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./UpperView.vue?vue&type=template&id=7b3eab8d\"\nimport script from \"./UpperView.vue?vue&type=script&lang=js\"\nexport * from \"./UpperView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\n  import { ref, watch, nextTick } from 'vue';\n  import DataTableTab from '../tabs/DataTableTab.vue';\n\n  export default {\n    name: 'BottomView',\n\n    /**\n     *   (Component Registration)\n     * \n     */\n    components: {\n      DataTableTab, // \n    },\n\n    /**\n     *   (Component Props)\n     * \n     */\n    props: {\n      activeBottomTab: { type: String, default: 'table' },\n      bottomViewHeight: { type: Number, default: 300 },\n      isPanelDragging: { type: Boolean, default: false },\n    },\n\n    /**\n     *   (Component Events)\n     * \n     */\n    emits: [\n      'update:activeBottomTab', // \n      'highlight-on-map', // \n      'show-service-point-detail', // \n      'reset-view', // \n    ],\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup(props) {\n      //  ref  DOM \n      const bottomTabContentRef = ref(null);\n\n      /**\n       *  \n       *  DOM \n       */\n      watch(\n        () => props.activeBottomTab,\n        () => {\n          //  nextTick  DOM \n          nextTick(() => {\n            // \n            console.log(` : ${props.activeBottomTab}`);\n          });\n        }\n      );\n\n      //   <template> \n      return {\n        bottomTabContentRef,\n      };\n    },\n  };\n</script>\n\n<template>\n  <!--   (Bottom Panel Component) -->\n  <!--  -->\n  <div class=\"d-flex flex-column\" :style=\"{ height: bottomViewHeight + 'px' }\">\n    <!--   (Bottom Tab Content Area) -->\n    <!--  -->\n    <div ref=\"bottomTabContentRef\" class=\"flex-grow-1 h-100 overflow-auto\">\n      <!--   (Data Table Tab Content) -->\n      <!--  -->\n      <div class=\"h-100\">\n        <DataTableTab\n          @highlight-on-map=\"$emit('highlight-on-map', $event)\"\n          @show-service-point-detail=\"$emit('show-service-point-detail', $event)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped></style>\n","<script setup>\n  /**\n   * DataTableTab.vue\n   *\n   * Purpose:\n   * - Displays per-layer tabbed data tables with sorting and highlight interactions.\n   * - Mirrors layer colors consistent with the map rendering.\n   *\n   * Notes:\n   * - Non-functional refactor: documentation only; behavior and UI unchanged.\n   */\n  import { ref, computed, defineEmits, onMounted, watch } from 'vue';\n  import { useDataStore } from '@/stores/dataStore.js';\n\n  const emit = defineEmits(['highlight-on-map', 'show-service-point-detail']);\n\n  const dataStore = useDataStore();\n\n  const activeLayerTab = ref(null); /**   */\n  const layerSortStates = ref({}); /**   */\n\n  // \n  const visibleLayers = computed(() => {\n    const allLayers = dataStore.getAllLayers();\n    return allLayers.filter((layer) => layer.visible);\n  });\n\n  /**\n   *   (Set Active Layer Tab)\n   * @param {string} layerId -  ID\n   */\n  const setActiveLayerTab = (layerId) => {\n    activeLayerTab.value = layerId;\n  };\n\n  /**\n   * \n   * @param {object} layer - \n   * @returns {string[]} - \n   */\n  const getLayerColumns = (layer) => {\n    // \n    const isServiceLayer =\n      layer.layerId &&\n      (layer.layerId.startsWith('service-provider-') || layer.layerId.startsWith('service-date-'));\n\n    if (isServiceLayer) {\n      // /\n      return ['#', '', '', '', '', '', '', ''];\n    }\n\n    // \n    const data = getSortedData(layer);\n\n    // \n    if (!data || data.length === 0) {\n      return [];\n    }\n\n    // \n    const sampleItem = data[0];\n\n    //  Object.keys  (key)\n    //  ( geometry)\n    return Object.keys(sampleItem).filter((key) => {\n      const value = sampleItem[key];\n      //  null \n      return typeof value !== 'object' || value === null;\n    });\n  };\n\n  /**\n   *   (Get Layer Data Count)\n   * @param {Object} layer - \n   * @returns {number} \n   */\n  const getLayerDataCount = (layer) => {\n    return layer.tableData?.length || 0;\n  };\n\n  /**\n   *   (Get Sorted Data)\n   * @param {Object} layer - \n   * @returns {Array} \n   */\n  const getSortedData = (layer) => {\n    console.log(' getSortedData :', layer.layerId, layer.tableData);\n\n    if (!layer.tableData) {\n      console.log('  tableData');\n      return [];\n    }\n\n    const sortState = layerSortStates.value[layer.layerId];\n    if (!sortState || !sortState.key) {\n      console.log('  tableData:', layer.tableData.length, '');\n      return layer.tableData;\n    }\n\n    return [...layer.tableData].sort((a, b) => {\n      const aValue = a[sortState.key];\n      const bValue = b[sortState.key];\n\n      // \n      if (typeof aValue === 'string' && typeof bValue === 'string') {\n        return sortState.order === 'asc'\n          ? aValue.localeCompare(bValue)\n          : bValue.localeCompare(aValue);\n      }\n\n      // \n      return sortState.order === 'asc' ? aValue - bValue : bValue - aValue;\n    });\n  };\n\n  /**\n   *   (Handle Sort Click)\n   * @param {string} layerId -  ID\n   * @param {string} key - \n   */\n  const handleSort = (layerId, key) => {\n    if (!layerSortStates.value[layerId]) {\n      layerSortStates.value[layerId] = { key: null, order: 'asc' };\n    }\n\n    const sortState = layerSortStates.value[layerId];\n\n    if (sortState.key === key) {\n      // \n      sortState.order = sortState.order === 'asc' ? 'desc' : 'asc';\n    } else {\n      // \n      sortState.key = key;\n      sortState.order = 'asc';\n    }\n  };\n\n  /**\n   *   (Get Sort Icon)\n   * @param {string} layerId -  ID\n   * @param {string} key - \n   * @returns {string} FontAwesome \n   */\n  const getSortIcon = (layerId, key) => {\n    const sortState = layerSortStates.value[layerId];\n    if (!sortState || sortState.key !== key) {\n      return 'fas fa-sort';\n    }\n    return sortState.order === 'asc' ? 'fas fa-sort-up' : 'fas fa-sort-down';\n  };\n\n  /**\n   *   (Get Layer Color)\n   * \n   * @param {Object} layer - \n   * @returns {string} CSS \n   */\n  const getLayerColor = (layer) => {\n    //  GeoJSON features \n    if (\n      layer.layerId &&\n      (layer.layerId.startsWith('service-provider-') ||\n        layer.layerId.startsWith('service-date-')) &&\n      layer.geoJsonData\n    ) {\n      const features = layer.geoJsonData.features || [];\n      if (features.length > 0) {\n        //  fillColor routeColor\n        const firstFeature = features[0];\n        if (firstFeature.properties) {\n          if (firstFeature.properties.fillColor) {\n            return `var(--my-color-${firstFeature.properties.fillColor})`;\n          } else if (firstFeature.properties.routeColor) {\n            return `var(--my-color-${firstFeature.properties.routeColor})`;\n          }\n        }\n      }\n    }\n\n    //  layer.colorName\n    return layer.colorName ? `var(--my-color-${layer.colorName})` : 'var(--my-color-gray-300)';\n  };\n\n  /**\n   *   (Get Column Display Value)\n   * @param {Object} item - \n   * @param {string} column - \n   * @param {Object} layer - \n   * @param {number} index - \n   * @returns {string} \n   */\n  const getColumnDisplayValue = (item, column, layer, index = 0) => {\n    // \n    const isServiceLayer =\n      layer.layerId &&\n      (layer.layerId.startsWith('service-provider-') || layer.layerId.startsWith('service-date-'));\n\n    if (isServiceLayer) {\n      // \n      switch (column) {\n        case '#':\n          // # 1\n          return item['#'] || (index + 1).toString();\n        case '':\n          return item. || 'N/A';\n        case '': {\n          const name = item. || 'N/A';\n          const gender = item. || '';\n          const colorClass =\n            gender === '' ? 'my-color-blue' : gender === '' ? 'my-color-red' : '';\n          const abbr = gender === '' ? 'M' : gender === '' ? 'F' : '';\n          //   (M/F)\n          return `<span class=\"${colorClass}\">${name}${abbr ? ` (${abbr})` : ''}</span>`;\n        }\n        case '':\n          return item. || 'N/A';\n        case '': {\n          //  - \n          const start = (() => {\n            if (item.) return item.; // \n            if (item.) return item.;\n            if (item.hour_start !== undefined && item.min_start !== undefined) {\n              return `${item.hour_start}:${String(item.min_start).padStart(2, '0')}`;\n            }\n            return 'N/A';\n          })();\n\n          const end = (() => {\n            if (item.) return item.;\n            if (item.hour_end !== undefined && item.min_end !== undefined) {\n              return `${item.hour_end}:${String(item.min_end).padStart(2, '0')}`;\n            }\n            return 'N/A';\n          })();\n\n          return `${start} - ${end}`;\n        }\n        case '':\n          // \n          if (item.) {\n            return item.;\n          } else if (\n            item.hour_start !== undefined &&\n            item.min_start !== undefined &&\n            item.hour_end !== undefined &&\n            item.min_end !== undefined\n          ) {\n            const startMinutes = item.hour_start * 60 + item.min_start;\n            const endMinutes = item.hour_end * 60 + item.min_end;\n            const totalMinutes = endMinutes - startMinutes;\n            if (totalMinutes > 0) {\n              const hours = Math.floor(totalMinutes / 60);\n              const minutes = totalMinutes % 60;\n              return hours > 0 ? `${hours}h${minutes}m` : `${minutes}m`;\n            }\n          }\n          return 'N/A';\n        case '':\n          // \n          if (item.) {\n            return item.;\n          } else if (item.hour_traffic !== undefined && item.min_traffic !== undefined) {\n            const hours = item.hour_traffic || 0;\n            const minutes = item.min_traffic || 0;\n            if (hours > 0 || minutes > 0) {\n              return hours > 0 ? `${hours}h${minutes}m` : `${minutes}m`;\n            }\n          }\n          return '0m';\n        case '':\n          return (\n            item.service_items_count ??\n            (Array.isArray(item.service_items) ? item.service_items.length : null) ??\n            item. ??\n            0\n          ).toString();\n        default:\n          return item[column] || 'N/A';\n      }\n    }\n\n    // \n    return item[column] || 'N/A';\n  };\n\n  /**\n   *   (Handle Map Highlighting)\n   * @param {Object} item - \n   * @param {Object} layer - \n   */\n  const handleHighlight = (item, layer, rowIndex = 0) => {\n    console.log(' DataTableTab: :', { item, layer: layer.layerName });\n\n    // \n    const itemId = item.id || item['#'] || item.;\n    const isSameFeature =\n      dataStore.selectedFeature &&\n      dataStore.selectedFeature.properties &&\n      dataStore.selectedFeature.properties.id === itemId;\n\n    if (isSameFeature) {\n      // \n      console.log(' DataTableTab: ');\n      dataStore.setSelectedFeature(null);\n\n      // \n      const clearHighlightData = {\n        id: null, // \n        layerId: layer.layerId,\n        layerName: layer.layerName,\n      };\n\n      setTimeout(() => {\n        emit('highlight-on-map', clearHighlightData);\n      }, 50);\n      return;\n    }\n\n    // \n    const isServiceLayer =\n      layer.layerId &&\n      (layer.layerId.startsWith('service-provider-') || layer.layerId.startsWith('service-date-'));\n\n    if (isServiceLayer) {\n      console.log(' DataTableTab: :', item);\n\n      // \n      dataStore.setSelectedFeature(null);\n\n      // \n      const { serviceItemsData } = dataStore.createServiceItemsData(item, layer);\n\n      console.log(' DataTableTab: :', serviceItemsData);\n\n      // \n      emit('show-service-point-detail', serviceItemsData);\n\n      // \n      const serviceHighlightData = {\n        type: 'service-item-highlight',\n        layerId: layer.layerId,\n        layerName: layer.layerName,\n        item: item,\n        rowIndex: rowIndex,\n        serviceProviderId: layer.serviceProviderId,\n        serviceDate: layer.serviceDate,\n        coordinates: {\n          lat: item. || item.lat,\n          lon: item. || item.lon,\n        },\n      };\n\n      console.log(' DataTableTab: :', serviceHighlightData);\n\n      setTimeout(() => {\n        emit('highlight-on-map', serviceHighlightData);\n      }, 100);\n    } else {\n      // \n      const highlightData = {\n        id: item.id || item['#'] || item.,\n        layerId: layer.layerId,\n        layerName: layer.layerName,\n        item: item,\n      };\n\n      console.log(' DataTableTab: :', highlightData);\n\n      // \n      setTimeout(() => {\n        emit('highlight-on-map', highlightData);\n      }, 50);\n    }\n  };\n\n  // \n  const previousLayers = ref([]);\n\n  /**\n   *  \n   */\n  watch(\n    () => visibleLayers.value,\n    (newLayers) => {\n      // \n      if (newLayers.length === 0) {\n        activeLayerTab.value = null;\n        previousLayers.value = [];\n        return;\n      }\n\n      // \n      const previousLayerIds = previousLayers.value.map((layer) => layer.layerId);\n      const newLayerIds = newLayers.map((layer) => layer.layerId);\n      const addedLayerIds = newLayerIds.filter((id) => !previousLayerIds.includes(id));\n\n      // \n      if (addedLayerIds.length > 0) {\n        const newestAddedLayerId = addedLayerIds[addedLayerIds.length - 1];\n        activeLayerTab.value = newestAddedLayerId;\n        console.log(\n          ` : ${newLayers.find((layer) => layer.layerId === newestAddedLayerId)?.layerName}`\n        );\n      }\n      // \n      else if (\n        !activeLayerTab.value ||\n        !newLayers.find((layer) => layer.layerId === activeLayerTab.value)\n      ) {\n        activeLayerTab.value = newLayers[0].layerId;\n      }\n\n      // \n      previousLayers.value = [...newLayers];\n    },\n    { deep: true, immediate: true }\n  );\n\n  /**\n   *   (Component Mounted Event)\n   */\n  onMounted(() => {\n    console.log('[MultiLayerDataTableTab] Component Mounted');\n\n    // \n    if (visibleLayers.value.length > 0 && !activeLayerTab.value) {\n      activeLayerTab.value = visibleLayers.value[0].layerId;\n    }\n  });\n</script>\n\n<template>\n  <!--   -->\n  <div class=\"d-flex flex-column my-bgcolor-gray-200 h-100\">\n    <!--   -->\n    <div v-if=\"visibleLayers.length > 0\" class=\"\">\n      <ul class=\"nav nav-tabs nav-fill\">\n        <li\n          v-for=\"layer in visibleLayers\"\n          :key=\"layer.layerId\"\n          class=\"nav-item d-flex flex-column align-items-center\"\n        >\n          <!-- tab -->\n          <div\n            class=\"btn nav-link rounded-0 border-0 position-relative d-flex align-items-center justify-content-center my-bgcolor-gray-200\"\n            :class=\"{\n              active: activeLayerTab === layer.layerId,\n            }\"\n            @click=\"setActiveLayerTab(layer.layerId)\"\n          >\n            <span class=\"my-title-sm-black\"\n              >{{ layer.layerName }}\n              <span class=\"my-content-xs-gray ms-2\" v-if=\"getLayerDataCount(layer)\">\n                {{ getLayerDataCount(layer) }}\n              </span>\n            </span>\n          </div>\n          <div\n            class=\"w-100\"\n            :style=\"{\n              backgroundColor: getLayerColor(layer),\n              minHeight: '4px',\n            }\"\n          ></div>\n        </li>\n      </ul>\n    </div>\n\n    <!--   -->\n    <div v-if=\"visibleLayers.length > 0\" class=\"flex-grow-1 overflow-hidden\">\n      <div\n        v-for=\"layer in visibleLayers\"\n        :key=\"layer.layerId\"\n        v-show=\"activeLayerTab === layer.layerId\"\n        class=\"h-100\"\n      >\n        <div class=\"h-100 d-flex flex-column\">\n          <div class=\"flex-grow-1 overflow-auto\">\n            <table class=\"table w-100 mb-0\">\n              <thead class=\"sticky-top my-table-thead\">\n                <tr class=\"text-center text-nowrap\">\n                  <template v-for=\"column in getLayerColumns(layer)\" :key=\"column\">\n                    <th\n                      v-if=\"column !== 'color'\"\n                      @click=\"handleSort(layer.layerId, column)\"\n                      class=\"my-bgcolor-white-hover p-1 my-cursor-pointer\"\n                    >\n                      <span class=\"my-title-xs-gray text-nowrap\">\n                        {{ column }}\n                      </span>\n                      <span class=\"my-title-xs-gray text-nowrap ms-2\">\n                        <i :class=\"getSortIcon(layer.layerId, column)\"></i>\n                      </span>\n                    </th>\n                  </template>\n                </tr>\n              </thead>\n              <tbody>\n                <tr\n                  v-for=\"(item, rowIndex) in getSortedData(layer)\"\n                  :key=\"item.id\"\n                  class=\"my-table-tr-hover text-center text-nowrap border-bottom my-cursor-pointer\"\n                  @click=\"\n                    () => {\n                      console.log(' !', item, layer, rowIndex);\n                      handleHighlight(item, layer, rowIndex);\n                    }\n                  \"\n                >\n                  <template v-for=\"column in getLayerColumns(layer)\" :key=\"column\">\n                    <td\n                      v-if=\"column !== 'color'\"\n                      class=\"border-0 text-nowrap text-truncate p-0\"\n                      style=\"max-width: 80px\"\n                    >\n                      <div v-if=\"column === '#'\" class=\"d-flex p-0\">\n                        <div\n                          style=\"min-width: 6px\"\n                          :style=\"{\n                            backgroundColor: getLayerColor(layer),\n                          }\"\n                        ></div>\n                        <div class=\"my-content-xs-black w-100 px-3 py-2\">\n                          {{ getColumnDisplayValue(item, column, layer, rowIndex) }}\n                        </div>\n                      </div>\n                      <div v-else class=\"my-content-xs-black px-3 py-2\">\n                        <template\n                          v-if=\"\n                            column === '' &&\n                            (layer.layerId.startsWith('service-provider-') ||\n                              layer.layerId.startsWith('service-date-')) &&\n                            rowIndex === 0\n                          \"\n                          >-</template\n                        >\n                        <template v-else>\n                          <span\n                            v-if=\"column === ''\"\n                            v-html=\"getColumnDisplayValue(item, column, layer, rowIndex)\"\n                          ></span>\n                          <span v-else>{{\n                            getColumnDisplayValue(item, column, layer, rowIndex)\n                          }}</span>\n                        </template>\n                      </div>\n                    </td>\n                  </template>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!--   -->\n    <div v-else class=\"flex-grow-1 d-flex align-items-center justify-content-center\">\n      <div class=\"text-center\">\n        <div class=\"my-title-md-gray p-3\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n  .my-table-thead {\n    border-bottom: 2px solid var(--my-color-gray-300) !important;\n  }\n</style>\n","import script from \"./DataTableTab.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DataTableTab.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DataTableTab.vue?vue&type=style&index=0&id=5802bfdc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5802bfdc\"]])\n\nexport default __exports__","import { render } from \"./BottomView.vue?vue&type=template&id=3ee085fb\"\nimport script from \"./BottomView.vue?vue&type=script&lang=js\"\nexport * from \"./BottomView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\n  import {\n    ref,\n    computed,\n    onMounted,\n    onUnmounted,\n    defineProps,\n    defineEmits,\n    defineExpose,\n    watch,\n  } from 'vue';\n\n  //  \n  import UpperView from './UpperView.vue';\n  import BottomView from './BottomView.vue';\n\n  // ---   (Component Props) ---\n  /**\n   *   (HomeView) \n   * \n   */\n  const props = defineProps({\n    //   (Tab and Panel Settings)\n    activeUpperTab: { type: String, default: 'map' },\n    activeBottomTab: { type: String, default: 'table' },\n    mainPanelWidth: { type: Number, default: 60 },\n    dynamicMainAreaHeight: { type: Number, default: 500 },\n\n    //   (Layer and Map Settings)\n    showTainanLayer: { type: Boolean, default: false },\n    selectedFilter: { type: String, default: '' },\n\n    //   (Other Settings)\n    zoomLevel: { type: Number, default: 11 },\n    currentCoords: { type: Object, default: () => ({ lat: 25.033, lng: 121.5654 }) },\n    activeMarkers: { type: Number, default: 0 },\n    isSidePanelDragging: { type: Boolean, default: false },\n  });\n\n  // ---   (Component Events) ---\n  /**\n   *   (HomeView) \n   * \n   */\n  defineEmits([\n    //   (Tab Update Events)\n    'update:activeUpperTab', // \n    'update:activeBottomTab', // \n\n    //   (Map State Update Events)\n    'update:zoomLevel', // \n    'update:currentCoords', // \n    'update:activeMarkers', // \n\n    //  \n    'update:tableSearchQuery', // \n    'sort-table', // \n    'highlight-on-map', // \n    'show-service-point-detail', // \n\n    //  \n    'reset-view', // \n  ]);\n\n  // ---   (Internal Component References) ---\n  /**   ( UpperView  highlightFeature) */\n  const mainContentRef = ref(null);\n\n  // ---   (Internal Vertical Resizing Logic) ---\n\n  /**   ( 30%) */\n  const bottomViewHeightPercent = ref(30);\n\n  /**   () */\n  const isVerticalDragging = ref(false);\n\n  /**\n   *   ()\n   * \n   */\n  const isOverallDragging = computed(() => {\n    return props.isSidePanelDragging || isVerticalDragging.value;\n  });\n\n  /**\n   *   (Computing Total Middle Section Height)\n   * \n   */\n  const middleSectionTotalHeight = computed(() => {\n    const totalHeight = props.dynamicMainAreaHeight;\n    console.log(` MiddleView: middleSectionTotalHeight (from prop): ${totalHeight}`);\n    return Math.max(totalHeight, 0); // \n  });\n\n  /**\n   *   (Computing Actual Bottom View Pixel Height)\n   * \n   */\n  const actualBottomViewPixelHeight = computed(() => {\n    const pixelHeight = (bottomViewHeightPercent.value / 100) * middleSectionTotalHeight.value;\n    console.log(\n      ` MiddleView: actualBottomViewPixelHeight calculated: ${pixelHeight} (percent: ${bottomViewHeightPercent.value}%, totalMiddle: ${middleSectionTotalHeight.value})`\n    );\n    return pixelHeight;\n  });\n\n  /**\n   *   (Computing Main Content Area Height)\n   * \n   */\n  const contentHeight = computed(() => {\n    const mainContentH = middleSectionTotalHeight.value - actualBottomViewPixelHeight.value;\n    console.log(\n      ` MiddleView: contentHeight (for MainContent) calculated: ${mainContentH}, totalMiddle: ${middleSectionTotalHeight.value}, bottomViewPx: ${actualBottomViewPixelHeight.value}`\n    );\n    return mainContentH;\n  });\n\n  /**\n   *   (Start Vertical Resize)\n   * \n   *\n   * @param {MouseEvent} event - \n   */\n  const startVerticalResize = (event) => {\n    // \n    event.preventDefault();\n    event.stopPropagation();\n\n    // \n    isVerticalDragging.value = true;\n    document.body.classList.add('my-no-select'); // \n\n    // \n    const startY = event.clientY;\n    const startBottomPercent = bottomViewHeightPercent.value;\n    const currentMiddleSectionHeight = middleSectionTotalHeight.value;\n\n    /**\n     *   (Handle Mouse Move)\n     * \n     *\n     * @param {MouseEvent} moveEvent - \n     */\n    const handleMouseMove = (moveEvent) => {\n      moveEvent.preventDefault();\n      const deltaY = moveEvent.clientY - startY;\n\n      // \n      if (currentMiddleSectionHeight === 0) return;\n\n      //  (Y)\n      const deltaPercent = (deltaY / currentMiddleSectionHeight) * 100;\n\n      //  (deltaY < 0) \n      //  (deltaY > 0) \n      let newPercent = startBottomPercent - deltaPercent;\n\n      //  (0-100%)\n      newPercent = Math.max(0, Math.min(100, newPercent));\n\n      // \n      bottomViewHeightPercent.value = Math.round(newPercent * 10) / 10;\n    };\n\n    /**\n     *   (Handle Mouse Up)\n     * \n     */\n    const handleMouseUp = () => {\n      // \n      isVerticalDragging.value = false;\n      document.body.classList.remove('my-no-select');\n\n      // \n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n\n    // \n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  /**\n   *   activeUpperTab  (Watch activeUpperTab Changes)\n   * \n   */\n  watch(\n    () => props.activeUpperTab,\n    (newTab, oldTab) => {\n      console.log(\n        ` MiddleView Watcher: activeUpperTab changed from \"${oldTab}\" to \"${newTab}\". Current bottomViewHeightPercent: ${bottomViewHeightPercent.value}%`\n      );\n    }\n  );\n\n  /**\n   *   (Component Mounted Initialization)\n   * \n   */\n  onMounted(() => {\n    //  HomeView  prop\n    console.log(' MiddleView mounted');\n  });\n\n  /**\n   *   (Component Unmounted Cleanup)\n   * \n   */\n  onUnmounted(() => {\n    console.log(' MiddleView unmounted');\n  });\n\n  // ---   (Methods Callable from Parent) ---\n\n  /**\n   *   (Highlight Feature)\n   *  mainContentRef \n   * \n   *\n   * @param {Object} highlightData -  layerId  id \n   */\n  const highlightFeature = (highlightData) => {\n    if (!mainContentRef.value) {\n      console.warn(' mainContentRef ');\n      return;\n    }\n    console.log(' MiddleView:  highlightFeature', highlightData);\n    mainContentRef.value.highlightFeature(highlightData);\n  };\n\n  /**\n   *   (Fit to Tainan Bounds)\n   *  mainContentRef \n   * \n   */\n  const fitToTainanBounds = () => {\n    if (mainContentRef.value) {\n      console.log(' MiddleView:  fitToTainanBounds');\n      mainContentRef.value.fitToTainanBounds();\n    }\n  };\n\n  /**\n   *   (Reset Map View)\n   *  mainContentRef \n   * \n   */\n  const resetMapTab = () => {\n    if (mainContentRef.value) {\n      console.log(' MiddleView:  resetMapTab');\n      mainContentRef.value.resetView(); //  UpperView  resetView \n    }\n  };\n\n  /**\n   *   (Invalidate Map Size)\n   *  mainContentRef \n   * \n   */\n  const invalidateMapSize = () => {\n    if (mainContentRef.value) {\n      console.log(' MiddleView: ');\n      mainContentRef.value.invalidateMapSize();\n    }\n  };\n\n  /**\n   *   (Retry Map Initialization)\n   *  mainContentRef \n   */\n  const retryMapInitialization = () => {\n    if (mainContentRef.value) {\n      console.log(' MiddleView: ');\n      mainContentRef.value.retryMapInitialization();\n    }\n  };\n\n  /**\n   *   (Get Map Initialization Status)\n   *  mainContentRef \n   */\n  const getMapInitStatus = () => {\n    if (mainContentRef.value) {\n      return mainContentRef.value.getMapInitStatus();\n    }\n    return 'not-applicable';\n  };\n\n  /**\n   *   (Stop Map Click Mode)\n   *  mainContentRef \n   */\n  const stopMapClickMode = () => {\n    if (mainContentRef.value) {\n      console.log(' MiddleView: ');\n      mainContentRef.value.stopMapClickMode();\n    }\n  };\n\n  /**\n   *   (Expose Methods to Parent Component)\n   *  HomeView \n   */\n  defineExpose({\n    highlightFeature, // \n    fitToTainanBounds, // \n    resetMapTab, // \n    invalidateMapSize, // \n    retryMapInitialization, // \n    getMapInitStatus, // \n    stopMapClickMode, // \n    //  HomeView  mainContentRef  bottomViewRef\n    // mainContentRef,    // \n    // bottomViewRef      // \n  });\n</script>\n\n<template>\n  <!--   (Middle Panel Component) -->\n  <!--  -->\n  <!--  flexbox  -->\n  <div class=\"d-flex flex-column overflow-hidden h-100\">\n    <!--   (Upper Content Area) -->\n    <!--  -->\n    <!--  contentHeight  -->\n    <div\n      :style=\"{\n        pointerEvents: isOverallDragging ? 'none' : 'auto',\n        height: contentHeight + 'px',\n        overflow: 'hidden',\n      }\"\n    >\n      <!--   (Upper View Component) -->\n      <!--  props  UpperView -->\n      <UpperView\n        ref=\"mainContentRef\"\n        :activeUpperTab=\"activeUpperTab\"\n        :mainPanelWidth=\"mainPanelWidth\"\n        :contentHeight=\"contentHeight\"\n        :showTainanLayer=\"showTainanLayer\"\n        :selectedFilter=\"selectedFilter\"\n        :zoomLevel=\"zoomLevel\"\n        :isPanelDragging=\"isOverallDragging\"\n        :activeMarkers=\"activeMarkers\"\n        @update:activeUpperTab=\"$emit('update:activeUpperTab', $event)\"\n        @update:zoomLevel=\"$emit('update:zoomLevel', $event)\"\n        @update:currentCoords=\"$emit('update:currentCoords', $event)\"\n        @update:activeMarkers=\"$emit('update:activeMarkers', $event)\"\n        @show-service-point-detail=\"$emit('show-service-point-detail', $event)\"\n      />\n    </div>\n\n    <!--   (Horizontal Resizer) -->\n    <!--  -->\n    <!--  mousedown  -->\n    <div\n      class=\"my-resizer my-resizer-horizontal my-resizer-middle\"\n      :class=\"{ 'my-dragging': isVerticalDragging }\"\n      @mousedown=\"startVerticalResize\"\n      title=\"\"\n    ></div>\n\n    <!--   (Bottom Content Area) -->\n    <!--  -->\n    <!--  actualBottomViewPixelHeight  -->\n    <div\n      class=\"overflow-hidden\"\n      :style=\"{\n        pointerEvents: isOverallDragging ? 'none' : 'auto',\n        height: actualBottomViewPixelHeight + 'px',\n      }\"\n    >\n      <!--   (Bottom View Component) -->\n      <!--  props -->\n      <BottomView\n        :activeBottomTab=\"activeBottomTab\"\n        :bottomViewHeight=\"actualBottomViewPixelHeight\"\n        :isPanelDragging=\"isOverallDragging\"\n        @update:activeBottomTab=\"$emit('update:activeBottomTab', $event)\"\n        @highlight-on-map=\"$emit('highlight-on-map', $event)\"\n        @show-service-point-detail=\"$emit('show-service-point-detail', $event)\"\n        @reset-view=\"$emit('reset-view')\"\n      />\n    </div>\n  </div>\n</template>\n\n<style scoped></style>\n","import script from \"./MiddleView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MiddleView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\n  import { computed, ref, onMounted, onUnmounted } from 'vue';\n  import DateLayersTab from '../tabs/DateLayersTab.vue';\n  import DataTableTab from '../tabs/DataTableTab.vue';\n  import PropertiesTab from '../tabs/PropertiesTab.vue';\n\n  export default {\n    name: 'ResponsiveLowerView',\n\n    /**\n     *   (Component Registration)\n     * \n     */\n    components: {\n      DateLayersTab, // \n      DataTableTab, // \n      PropertiesTab, // \n    },\n\n    /**\n     *   (Component Props)\n     * \n     */\n    props: {\n      activeTab: { type: String, default: 'layers' },\n      activeRightTab: { type: String, default: 'properties' },\n      activeBottomTab: { type: String, default: 'table' },\n    },\n\n    /**\n     *   (Component Events)\n     * \n     */\n    emits: [\n      'update:activeTab', // \n      'update:activeRightTab', // \n      'update:activeBottomTab', // \n      'highlight-on-map', // \n      'highlight-feature', // \n      'show-service-point-detail', // \n    ],\n\n    /**\n     *   (Component Setup)\n     *  Composition API \n     */\n    setup(props, { emit }) {\n      //   (Dynamic Viewport Height Detection)\n      const bottomSafeArea = ref(0);\n\n      /**\n       *   (Compute Available Tabs)\n       * \n       */\n      const availableTabs = computed(() => [\n        { id: 'layers', name: '', icon: 'fas fa-layer-group' },\n        { id: 'table', name: '', icon: 'fas fa-table' },\n        { id: 'properties', name: '', icon: 'fa-solid fa-location-dot' },\n      ]);\n\n      /**\n       *   (Calculate Bottom Safe Area)\n       * \n       */\n      const calculateBottomSafeArea = () => {\n        const windowHeight = window.innerHeight;\n        const visualHeight = window.visualViewport?.height || windowHeight;\n        const heightDiff = windowHeight - visualHeight;\n\n        // \n        bottomSafeArea.value = heightDiff > 0 ? heightDiff : 0;\n      };\n\n      /**\n       *   (Dynamic Bottom Navigation Style)\n       * \n       */\n      const getBottomNavStyle = computed(() => {\n        const baseHeight = 60;\n        const extraPadding = bottomSafeArea.value > 0 ? bottomSafeArea.value + 10 : 10;\n\n        return {\n          'min-height': `${baseHeight}px`,\n          height: `${baseHeight + extraPadding}px`,\n          padding: `8px 4px ${extraPadding}px 4px`,\n        };\n      });\n\n      /**\n       *   (Switch Tab)\n       * @param {string} tabId -  ID\n       */\n      const switchTab = (tabId) => {\n        emit('update:activeTab', tabId);\n      };\n\n      /**\n       *   (Component Mounted Initialization)\n       */\n      onMounted(() => {\n        // \n        calculateBottomSafeArea();\n\n        // \n        window.addEventListener('resize', calculateBottomSafeArea);\n\n        //  Visual Viewport API\n        if (window.visualViewport) {\n          window.visualViewport.addEventListener('resize', calculateBottomSafeArea);\n          window.visualViewport.addEventListener('scroll', calculateBottomSafeArea);\n        }\n\n        // \n        window.addEventListener('orientationchange', () => {\n          // \n          setTimeout(calculateBottomSafeArea, 300);\n        });\n      });\n\n      /**\n       *   (Component Unmounted Cleanup)\n       */\n      onUnmounted(() => {\n        window.removeEventListener('resize', calculateBottomSafeArea);\n\n        if (window.visualViewport) {\n          window.visualViewport.removeEventListener('resize', calculateBottomSafeArea);\n          window.visualViewport.removeEventListener('scroll', calculateBottomSafeArea);\n        }\n\n        window.removeEventListener('orientationchange', calculateBottomSafeArea);\n      });\n\n      //  \n      return {\n        availableTabs,\n        switchTab,\n        getBottomNavStyle,\n        bottomSafeArea,\n      };\n    },\n  };\n</script>\n\n<template>\n  <!--   (Responsive Lower Panel Component) -->\n  <div class=\"d-flex flex-column h-100 my-bgcolor-gray-200\">\n    <!--   (Tab Content Area) -->\n    <div\n      class=\"flex-grow-1 overflow-hidden\"\n      :style=\"{\n        'padding-bottom': `70px`,\n      }\"\n    >\n      <!--   -->\n      <div v-show=\"activeTab === 'layers'\" class=\"h-100\">\n        <DateLayersTab />\n      </div>\n\n      <!--   -->\n      <div v-show=\"activeTab === 'table'\" class=\"h-100\">\n        <DataTableTab\n          @highlight-on-map=\"$emit('highlight-on-map', $event)\"\n          @show-service-point-detail=\"$emit('show-service-point-detail', $event)\"\n        />\n      </div>\n\n      <!--   -->\n      <div v-show=\"activeTab === 'properties'\" class=\"h-100\">\n        <PropertiesTab @highlight-feature=\"$emit('highlight-feature', $event)\" />\n      </div>\n    </div>\n\n    <!--   (Tab Navigation) -  -->\n    <div\n      class=\"position-fixed bottom-0 start-0 end-0 d-flex align-items-center justify-content-between my-bgcolor-gray-200 border-top z-100 w-100\"\n      :style=\"getBottomNavStyle\"\n    >\n      <button\n        v-for=\"tab in availableTabs\"\n        :key=\"tab.id\"\n        class=\"d-flex rounded-3 border-0 flex-grow-1 py-2 mx-1\"\n        :class=\"{\n          'my-btn-transparent': activeTab !== tab.id,\n          'my-btn-blue': activeTab === tab.id,\n        }\"\n        :style=\"{\n          'min-height': '44px',\n          'touch-action': 'manipulation',\n          '-webkit-appearance': 'none !important',\n        }\"\n        @click=\"switchTab(tab.id)\"\n      >\n        <div class=\"d-flex flex-column align-items-center justify-content-center w-100\">\n          <span class=\"my-font-size-sm\"><i :class=\"tab.icon\" class=\"mb-1\"></i></span>\n          <span class=\"my-font-size-xs\">{{ tab.name }}</span>\n        </div>\n      </button>\n    </div>\n  </div>\n</template>\n\n<style scoped></style>\n","import { render } from \"./ResponsiveLowerView.vue?vue&type=template&id=191f95c6\"\nimport script from \"./ResponsiveLowerView.vue?vue&type=script&lang=js\"\nexport * from \"./ResponsiveLowerView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=f5c16aaa\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=f5c16aaa&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/**\n *  Vue Router \n *\n * \n *  Vue Router 4 \n *\n * @author \n * @version 1.0.0\n */\n\nimport { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\n\n/**\n *  \n * \n */\nconst routes = [\n  {\n    path: '/', //  \n    name: 'Home', // \n    component: HomeView, //  Vue \n  },\n];\n\n/**\n *  \n *\n * \n * - history:  HTML5 History API \n * - base:  '/long-term-care-web-taichung/'\n * - routes: \n */\nconst router = createRouter({\n  history: createWebHistory('/long-term-care-web-taichung/'),\n  routes,\n});\n\nexport default router;\n","/**\n *   (Main Application Entry Point)\n *\n * \n * 1.   Bootstrap \n * 2.   Vue 3 \n * 3.   Vue Router \n * 4.   Pinia \n * 5.   DOM \n * 6.  LeafletFont AwesomeBootstrap\n *\n * \n * - Vue 3 (Composition API)\n * - Vue Router 4\n * - Pinia ()\n * - Bootstrap 5 (UI )\n * - Leaflet ()\n * - Font Awesome ()\n */\n\n//  Vue  (Vue Core Module Imports)\nimport { createApp } from 'vue';\nimport { createPinia } from 'pinia';\n\n//   (Application Component Imports)\nimport App from './App.vue';\nimport router from './router';\n\n//   (Import Third-Party Style Files)\nimport 'bootstrap/dist/css/bootstrap.min.css'; // Bootstrap 5 CSS \nimport 'leaflet/dist/leaflet.css'; // Leaflet \nimport '@fortawesome/fontawesome-free/css/all.min.css'; // Font Awesome \n\n//   (Import Custom Style Files)\nimport './assets/css/common.css'; // \n\n//   JavaScript  (Import Third-Party JavaScript Files)\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js'; // Bootstrap JS Popper.js\n// \n\n//   (Debug Information Output)\nconsole.log(' ');\n\n//   Vue  (Create and Configure Vue Application Instance)\nconst app = createApp(App);\n\n//   Pinia  (Create Pinia State Management Instance)\nconst pinia = createPinia();\n\n//   Vue Router  (Register Vue Router Navigation System)\napp.use(router);\n\n//   Pinia  (Register Pinia State Management System)\napp.use(pinia);\n\n//   DOM  (Mount Application to DOM Element)\n//  Vue  index.html  id=\"app\" \napp.mount('#app');\n\n//   (Application Startup Debug Information)\nconsole.log(' ');\nconsole.log(' Pinia ');\nconsole.log(' Vue Router ');\nconsole.log(' Bootstrap 5 UI ');\nconsole.log(' Leaflet ');\nconsole.log(' Font Awesome ');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklong_term_care_web_taichung\"] = self[\"webpackChunklong_term_care_web_taichung\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(4434); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_view","name","components","setup","isLoading","ref","loadingText","loadingProgress","showLoadingProgress","loadingSubText","__exports__","render","_component_LoadingOverlay","isVisible","$setup","isAnyLayerLoading","progress","showProgress","subText","_ctx","$route","path","_hoisted_3","_hoisted_4","_hoisted_5","leftViewWidth","style","_normalizeStyle","width","leftViewWidthPx","_component_LeftView","selectedServicePoint","onClearServicePointDetail","handleClearServicePointDetail","_normalizeClass","isSidePanelDragging","onMousedown","_cache","$event","startResize","title","_component_MiddleView","mainPanelWidthPx","dynamicMainAreaHeight","calculatedMiddleViewHeight","activeUpperTab","activeBottomTab","mainPanelWidth","showTainanLayer","selectedFilter","zoomLevel","currentCoords","activeMarkers","isLoadingData","onResetView","resetView","onHighlightOnMap","handleHighlight","onHighlightFeature","onShowServicePointDetail","handleShowServicePointDetail","rightViewWidth","rightViewWidthPx","_component_RightView","activeRightTab","_hoisted_6","mobileBottomViewHeight","height","_createBlock","_component_UpperView","key","mobileMapKey","contentHeight","windowHeight","isPanelDragging","isVerticalDragging","args","startVerticalResize","onTouchstart","_component_ResponsiveLowerView","activeTab","activeLowerTab","_hoisted_7","async","loadNewStandardCentralServiceData","layer","dateFilter","layerId","filePath","fileName","response","fetch","ok","console","error","status","statusText","url","Error","jsonData","json","log","serviceProviderLayers","Map","allGeoJsonData","type","features","serviceProviderData","forEach","serviceProvider","filterValue","parseInt","serviceDate","serviceDateType","matches","serviceProviderId","","unifiedColor","has","set","service_points","Array","isArray","service_points_routes","routeCollection","routeFeature","geometry","routeFeatureData","properties","layerName","strokeColor","routeColor","strokeWidth","strokeOpacity","pointCount","coordinates","length","distance","summary","duration","segments","get","push","service_points_routes_center","routeTimesArray","service_points_routes_time","centerCoords","index","lng","lat","isNaN","timeEntry","timeMinutes","time_interval","h","hour_interval","m","min_interval","timeLabel","hours","Math","floor","minutes","routeCenterFeatureData","fillColor","centerIndex","","","traffic_time_minutes","undefined","traffic_time_label","warn","servicePoints","filter","record","detail","sort","a","b","timeA","hour_start","min_start","timeB","serviceRecord","Lat","Lon","parseFloat","lon","pointFeatureData","","routeOrder","serviceTime","toString","padStart","address","","service_items","service_items_count","","","","","","","","hour_end","min_end","time_total","hour_traffic","min_traffic","time_traffic","propertyData","firstService","lastService","firstPointWithCoords","find","point","size","color","getComputedStyle","document","documentElement","getPropertyValue","trim","","","service_points_count","","","","hour_total","min_total","","","totalTrafficMinutes","reduce","total","","","","","firstServicePoint","time","allServicePoints","map","","","","","","tableData","from","values","districtCounts","validPointCount","feature","district","Object","keys","districtCount","entries","count","max","item","summaryData","totalCount","f","routeCount","serviceProviderLayersArray","geoJsonData","serviceProviderInfo","servicePointsTableData","serviceItems","servicePointFeature","","originalServiceProvider","sp","servicePointsCount","useDataStore","defineStore","COLOR_PALETTE","freeze","DEFAULT_LAYER_GROUPS","groupName","groupLayers","description","icon","layers","findLayerById","group","value","foundLayer","getAllLayers","allLayers","concat","toggleLayerVisibility","visible","hideAllLayersOnMap","toggleGroupVisibility","g","hasVisibleLayers","some","newVisibility","isGroupVisible","selectedFeature","selectedServiceDate","isDateFilterActive","selectedServiceProvider","isServiceProviderFilterActive","availableServiceProviders","activeLeftTab","setActiveLeftTab","tabName","setSelectedFeature","clearSelectedFeature","setServiceDateFilter","dateStr","clearServiceDateFilter","loadServiceProviderLayers","serviceRecordGroup","loadingLayer","isLoaded","isAnalysisLayer","isIsochroneAnalysisLayer","legendData","colorName","shape","result","serviceProviderIds","serviceLayer","colorIndex","assignedColor","serviceLayerId","serviceLayerObj","loader","clearServiceProviderLayers","loadAvailableServiceProviders","uniqueProviderIds","Set","providersWithStats","providerId","providerRecords","uniqueDates","dateCount","totalRecords","setServiceProviderFilter","clearServiceProviderFilter","loadServiceProviderDateLayers","dateGroups","date","sortedDates","dateData","processedData","processServiceProviderData","","layerObj","lineCount","clearServiceProviderDateLayers","providerGroup","dayRecords","providerIndex","route","matchesDateFilter","data","dataDate","calculateDistance","lat1","lng1","lat2","lng2","R","dLat","PI","dLng","sin","cos","c","atan2","sqrt","calculatePointsInRange","centerLat","centerLng","radiusMeters","pointsInRange","visiblePointLayers","l","enhancedFeature","round","calculatePolygonInRange","polygonInRange","visiblePolygonLayers","hasOverlap","checkPolygonCircleOverlap","overlapType","polygon","ring","visibleLayers","computed","loadingLayers","createServiceItemsData","itemOrFeature","isFeature","serviceItemsData","servicePoint","servicePointInfo","serviceType","order","persist","_Transition","$props","role","getLoadingDescription","onClick","_withModifiers","themeClass","spinnerStyle","_toDisplayString","shouldShowProgress","_hoisted_8","_hoisted_9","_hoisted_10","formattedProgress","getProgressAriaLabel","progressBarClass","_hoisted_12","props","Boolean","default","required","validator","String","Number","theme","includes","spinnerSizes","sm","md","lg","min","switchLeftTab","_component_DateLayersTab","_component_ServerLayersTab","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","toFixed","_hoisted_24","clearServicePointDetail","_component_DatePicker","placeholder","onDateSelected","handleDateSelected","_Fragment","_renderList","checked","onChange","toggleGroup","for","toggleLayer","getLayerColor","disabled","label","ICONS","add","zh","en","category","edit","delete","save","cancel","confirm","search","refresh","upload","download","import","export","folder","folder_open","file","home","back","forward","up","down","success","warning","info","loading","view","hide","expand","collapse","hidden","table","location","zoom_in","zoom_out","center","chart","statistics","dashboard","analysis","hospital","clinic","pharmacy","elderly_care","medical","population","demographics","community","income","tax","drag","move_up","move_down","reset","settings","sort_up","sort_down","menu","close","getIcon","iconKey","lang","iconInfo","text","currentYear","currentMonth","day","calendarDays","isCurrentMonth","isSelected","selectDate","modelValue","emits","emit","isOpen","selectedDate","year","month","firstDay","Date","getDay","daysInMonth","getDate","days","i","formatDateTo7Digits","republicanYear","monthStr","dayStr","parse7DigitsDate","substring","toggleCalendar","parsed","previousMonth","nextMonth","closeCalendar","event","target","closest","watch","newValue","onMounted","addEventListener","onUnmounted","removeEventListener","DatePicker","dataStore","layerListRef","startsWith","replace","firstFeature","_component_ServiceProviderPicker","onProviderSelected","handleProviderSelected","loadProviders","selectedProvider","availableProviders","provider","err","ServiceProviderPicker","providers","firstProvider","DateLayersTab","ServerLayersTab","_component_PropertiesTab","$emit","selectedLayer","selectedLayerColor","_component_DetailItem","firstLabel","firstValue","secondLabel","secondValue","hasProperties","$options","formatLabel","formatValue","isAnalysisObject","isServiceProviderObject","serviceProviderLabel","serviceDateLabel","selectServicePoint","isServiceItemsObject","_hoisted_25","_hoisted_26","_hoisted_27","row_id","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","","unitPrice","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","isRouteCenterPointObject","_hoisted_37","DetailItem","ff","selectedFeatureProps","serviceItemsLength","allObjectsInRange","points","obj","objectType","polygons","layerStats","polygonStats","combinedStats","combined","formatDateTime","isoString","toLocaleString","methods","labelMap","PTVNAME","","area","density","","","","","","","","PropertiesTab","analysisList","selectedAnalysisId","getActiveAnalysisCount","newFeature","store","immediate","selectedFeatureComputed","_component_MapTab","maxCount","_component_DashboardTab","containerHeight","isRoutePlanningClickMode","isRouteOptimizationClickMode","highlightFeature","mapContainerId","showContextMenu","contextMenuPosition","x","y","deleteAnalysisPoint","hideContextMenu","getBasemapLabel","selectedBasemap","mapStore","basemaps","basemap","href","changeBasemap","showAllFeatures","isAnyLayerVisible","showFullCity","useDefineStore","state","mapView","zoom","actions","setSelectedBasemap","this","setMapView","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconRetina","iconUrl","shadowUrl","iconShadow","mapContainer","mapInstance","currentTileLayer","layerGroups","contextMenu","selectedAnalysisFeature","isMapReady","random","substr","previousViewState","createServicePointContent","gender","genderInitial","colorClass","nameWithGender","createMap","rect","getBoundingClientRect","top","left","containerId","containerClasses","className","zoomControl","attributionControl","fadeAnimation","zoomAnimation","on","handleZoomEnd","handleMoveEnd","e","originalEvent","eachLayer","options","removeLayer","resetAllLayerStyles","popupPane","getPane","zIndex","remove","cleanupError","getZoom","getCenter","setBasemap","config","attribution","addTo","mapContainerElement","backgroundColor","createFeatureLayer","storeLayerId","storeLayerName","geoJsonLayer","pointToLayer","latlng","html","iconSize","iconAnchor","popupAnchor","marker","circle","radius","weight","opacity","fillOpacity","isRoutePlanningLayer","isCompleted","borderColor","textColor","isRouteOptimizationLayer","pointColor","trafficTimeLabel","mins","timeTotal","timeInHours","areaPerHour","totalArea","fontSize","lineCap","lineJoin","dashArray","onEachFeature","bindPopup","offset","closeButton","autoClose","closeOnClick","popupContent","routeNumber","waypoints","click","closePopup","openPopup","routeCenterFeature","isServiceProviderLayer","isSameFeature","storeLayer","_originalStyle","bringToFront","serviceItemsFeature","basicFeature","contextmenu","showAnalysisContextMenu","saveCurrentViewState","restorePreviousViewState","setView","layerGroup","layerData","setStyle","resetStyle","syncLayers","storeLayers","currentLayerIds","visibleLayerIds","newLayerIds","layersToRemove","hasAnalysisLayerUpdate","newAddedLayers","slice","reverse","shouldCreateLayer","newLayer","bounds","hasValidBounds","getBounds","layerBounds","isValid","extend","setTimeout","fitBounds","padding","totalMarkers","acc","getLayers","defaultCenter","defaultZoom","highlightData","targetLayerId","targetFeatureId","firstPointMarker","foundAndHighlighted","targetLayerGroup","featureLat","featureLon","abs","tempMarker","performHighlight","targetLayer","targetFeature","specificLayerGroup","featureId","element","getElement","innerIconDiv","querySelector","transition","transform","getLatLng","maxZoom","hasDetail","retrySuccess","invalidateSize","nextTick","newRect","clearAnalysisLayer","preventDefault","stopPropagation","pageX","clientX","pageY","clientY","pointId","parentId","resizeObserver","resizeTimeout","setupResizeObserver","window","ResizeObserver","entry","contentRect","clearTimeout","observe","basemapType","isInitializing","initTimeoutId","initMap","containerExists","attempts","maxAttempts","isContainerReady","computedStyle","display","visibility","parentElement","tagName","parentRect","parent","parentStyle","tryInit","delay","disconnect","off","deep","oldFeature","activeLayerTab","chartContainer","setActiveLayerTab","currentLayerSummary","currentLayerName","drawHorizontalBarChart","validDistrictCount","d","d3","selectAll","margin","right","bottom","containerWidth","clientWidth","barHeight","barSpacing","svg","append","attr","xScale","domain","range","calculateTickSystem","dataMaxValue","interval","maxTicks","minInterval","ceil","chartMaxValue","ticks","maxValue","tickSystem","tickValues","enter","previousLayers","newLayers","previousLayerIds","addedLayerIds","newestAddedLayerId","newSummary","handleResize","MapTab","DashboardTab","dashboardContainerRef","dragging","tab","pointerEvents","newTab","oldTab","fitToTainanBounds","invalidateMapSize","retryMapInitialization","getMapInitStatus","mapInitStatus","bottomViewHeight","_component_DataTableTab","__emit","layerSortStates","getLayerColumns","isServiceLayer","getSortedData","sampleItem","getLayerDataCount","sortState","aValue","bValue","localeCompare","handleSort","getSortIcon","getColumnDisplayValue","column","abbr","start","end","","startMinutes","endMinutes","totalMinutes","rowIndex","itemId","clearHighlightData","serviceHighlightData","innerHTML","DataTableTab","bottomTabContentRef","__props","mainContentRef","bottomViewHeightPercent","isOverallDragging","middleSectionTotalHeight","totalHeight","actualBottomViewPixelHeight","pixelHeight","mainContentH","body","classList","startY","startBottomPercent","currentMiddleSectionHeight","handleMouseMove","moveEvent","deltaY","deltaPercent","newPercent","handleMouseUp","resetMapTab","stopMapClickMode","__expose","UpperView","BottomView","getBottomNavStyle","availableTabs","switchTab","bottomSafeArea","calculateBottomSafeArea","innerHeight","visualHeight","visualViewport","heightDiff","baseHeight","extraPadding","tabId","LoadingOverlay","LeftView","RightView","MiddleView","ResponsiveLowerView","middlePanelRef","mobileUpperViewRef","appFooterRef","MIN_LEFT_PANEL_WIDTH_PERCENT","windowWidth","innerWidth","footerHeight","direction","startX","startLeftWidth","startRightWidth","currentWindowWidth","leftWidth","rightWidth","deltaX","deltaXPercent","newWidth","validatePanelSizes","mainWidth","prevWidth","prevIsDesktop","currentIsDesktop","handleScreenSizeChange","offsetHeight","minHeight","calculateMinBottomHeight","screenSizeObserver","isXlAndAbove","wasXlAndAbove","contains","toggle","updateActiveMarkers","isDesktop","servicePointData","minNavigationHeight","currentWindowHeight","isTouch","touches","startBottomHeight","handleMove","currentY","newHeight","minHeightPercent","handleEnd","finalHeight","passive","Event","dispatchEvent","routes","component","HomeView","router","createRouter","history","createWebHistory","app","createApp","App","pinia","createPinia","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","Function","prop","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}